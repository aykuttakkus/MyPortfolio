(this.webpackJsonp=this.webpackJsonp||[]).push([["commons-pages.admin.topics.edit-pages.admin.topics.new-pages.groups.comment_templates-pages.groups.e-39fd14c8"],{"+ZU4":function(e,t,n){"use strict";var i=n("OMlb");n.d(t,"a",(function(){return i.a})),n.d(t,"b",(function(){return i.b})),n.d(t,"c",(function(){return i.c}))},"/FJ/":function(e,t,n){"use strict";n.d(t,"d",(function(){return r})),n.d(t,"e",(function(){return o})),n.d(t,"f",(function(){return s})),n.d(t,"a",(function(){return a})),n.d(t,"b",(function(){return l})),n.d(t,"c",(function(){return c}));var i=n("/lV4");const r="i_code_review_saved_replies_use",o="i_code_review_saved_replies_use_in_mr",s="i_code_review_saved_replies_use_in_other",a=["currentUser"],l={currentUser:Object(i.a)("User")},c=["code","quote","bullet-list","numbered-list","task-list","collapsible-section","table","attach-file","full-screen"]},"0ENF":function(e,t,n){"use strict";var i=n("7xOh");t.a=Object(i.a)()},"0gdX":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isInstanceOf=void 0;t.isInstanceOf=e=>t=>{if(!(t instanceof e))return"value should be an instance of "+e.name}},"1Ti1":function(e,t,n){"use strict";n.d(t,"a",(function(){return M}));n("3UXl"),n("iyoE");var i=n("O/w4"),r=n("cfPK"),o=n("ri0Z"),s=n("P/GM"),a=n("SkoZ"),l=n("/lV4"),c=n("DNJn"),d=n("Tmea"),u=n.n(d),p=n("CbCZ"),h=n("dIEn"),f=n("zIFf"),g=n("GuZl"),m=n("tv6x"),v={name:"SandboxedMermaid",props:{source:{type:String,required:!0}},data:()=>({iframeHeight:m.a}),watch:{source(){this.updateDiagram()}},mounted(){window.addEventListener("message",this.onPostMessage,!1)},destroyed(){window.removeEventListener("message",this.onPostMessage)},methods:{onPostMessage(e){const t=this.$refs.diagramContainer;e.source===(null==t?void 0:t.contentWindow)&&(this.iframeHeight=Number(e.data.h)+m.a)},updateDiagram(){var e,t=this;const n=this.$refs.diagramContainer;null===(e=n.contentWindow)||void 0===e||e.postMessage(this.source,"*"),n.addEventListener("load",(function(){var e;null===(e=n.contentWindow)||void 0===e||e.postMessage(t.source,"*")}))}},sandboxFrameSrc:Object(m.d)(),sandboxAttributes:m.b},b=n("tBpV"),y=Object(b.a)(v,(function(){return(0,this._self._c)("iframe",{ref:"diagramContainer",attrs:{src:this.$options.sandboxFrameSrc,sandbox:this.$options.sandboxAttributes,frameborder:"0",scrolling:"no",width:"100%",height:this.iframeHeight}})}),[],!1,null,null,null).exports,w=n("aUre"),x=n("w3AR");function k(e){let t="";return t+=e[0]<=0?"-"+-e[0]:"+"+e[0],t+=e[1]<0?e[1]:"+"+e[1],t}function O(e){return e.map((function(e,t,n){return`${e}​${t===n.length-1?"":"\n"}`}))}var S={name:"CodeBlock",components:{GlButton:p.a,GlSprintf:h.a,NodeViewWrapper:a.d,NodeViewContent:a.c,EditorStateObserver:w.a,SandboxedMermaid:y},directives:{GlTooltip:f.a},inject:["contentEditor"],props:{editor:{type:Object,required:!0},node:{type:Object,required:!0},updateAttributes:{type:Function,required:!0}},data:()=>({diagramUrl:"",diagramSource:"",allLines:[],deletedLines:[],addedLines:[]}),computed:{isCodeSuggestion(){var e,t;return this.node.attrs.isCodeSuggestion&&(null===(e=this.contentEditor.codeSuggestionsConfig)||void 0===e?void 0:e.canSuggest)&&(null===(t=this.contentEditor.codeSuggestionsConfig)||void 0===t?void 0:t.diffFile)},classList(){return this.isCodeSuggestion?"!gl-p-0 suggestion-added-input":"gl-p-3 code highlight code-syntax-highlight-theme"},lineOffset(){return function(e){if(!e)return[0,0];const t=e.match(/([-+]\d+)([-+]\d+)/);return t?[parseInt(t[1],10),parseInt(t[2],10)]:[0,0]}(this.node.attrs.langParams)},absoluteLineOffset(){if(!this.contentEditor.codeSuggestionsConfig)return[0,0];const{new_line:e}=this.contentEditor.codeSuggestionsConfig.line;return t=this.lineOffset,n=e,[t[0]+n,t[1]+n];var t,n},disableDecrementLineStart(){return this.absoluteLineOffset[0]<=1},disableIncrementLineStart(){return this.lineOffset[0]>=0},disableDecrementLineEnd(){return this.lineOffset[1]<=0},disableIncrementLineEnd(){return this.absoluteLineOffset[1]>=this.allLines.length-1}},async mounted(){this.isCodeSuggestion&&(await this.updateAllLines(),this.updateCodeSuggestion()),this.updateCodeBlock=u()(this.updateCodeBlock,g.h);const e=c.a.findOrCreateLanguageBySyntax(this.node.attrs.language);await c.a.loadLanguage(e.syntax),this.updateAttributes({language:this.node.attrs.language})},methods:{async updateAllLines(){const{diffFile:e}=this.contentEditor.codeSuggestionsConfig;this.allLines=(await Object(x.b)(e.view_path.replace("/blob/","/raw/"))).split("\n")},updateCodeSuggestion(){var e,t;this.deletedLines=O((t=this.absoluteLineOffset,this.allLines.slice(t[0]-1,t[1]))),this.addedLines=O((null===(e=this.$refs.nodeViewContent)||void 0===e?void 0:e.$el.textContent.split("\n"))||[])},updateNodeView(){this.isCodeSuggestion?this.updateCodeSuggestion():this.updateCodeBlock()},async updateCodeBlock(){var e;this.node.attrs.showPreview?this.editor.isActive("diagram")&&(this.diagramSource=(null===(e=this.$refs.nodeViewContent)||void 0===e?void 0:e.$el.textContent)||"","mermaid"!==this.node.attrs.language&&(this.diagramUrl=await this.contentEditor.renderDiagram(this.diagramSource,this.node.attrs.language))):this.diagramSource=""},updateLineOffset(e=0,t=0){const{lineOffset:n}=this;this.editor.chain().updateAttributes("codeSuggestion",{langParams:k([n[0]+e,n[1]+t])}).run()}}},_=Object(b.a)(S,(function(){var e=this,t=e._self._c;return t("editor-state-observer",{attrs:{debounce:0},on:{transaction:e.updateNodeView}},[t("node-view-wrapper",{staticClass:"content-editor-code-block gl-relative",class:e.classList,attrs:{as:"pre",dir:"auto"}},[e.node.attrs.showPreview?t("div",{staticClass:"!-gl-ml-4 !-gl-mr-4 !-gl-mt-3 gl-mb-3 gl-border-b-1 gl-border-b-default !gl-bg-default gl-p-4 gl-border-b-solid",attrs:{contenteditable:!1,"data-testid":"sandbox-preview"}},["mermaid"===e.node.attrs.language?t("sandboxed-mermaid",{attrs:{source:e.diagramSource}}):t("img",{ref:"diagramContainer",attrs:{src:e.diagramUrl}})],1):e._e(),e._v(" "),e.node.attrs.isFrontmatter?t("span",{staticClass:"gl-absolute gl-right-3 gl-top-0",attrs:{contenteditable:!1,"data-testid":"frontmatter-label"}},[e._v(e._s(e.__("frontmatter"))+":"+e._s(e.node.attrs.language))]):e._e(),e._v(" "),e.isCodeSuggestion?t("div",{staticClass:"gl-relative gl-z-0",attrs:{contenteditable:!1,"data-testid":"code-suggestion-box"}},[t("div",{staticClass:"md-suggestion-header gl-z-1 gl-w-full gl-flex-wrap !gl-border-b-1 !gl-border-none gl-px-4 gl-py-3 gl-font-regular !gl-border-b-solid"},[t("div",{staticClass:"gl-pr-3 gl-font-bold"},[e._v("\n          "+e._s(e.__("Suggested change"))+"\n        ")]),e._v(" "),t("div",{staticClass:"gl-flex gl-flex-wrap gl-items-center gl-gap-2 gl-whitespace-nowrap gl-pl-3"},[t("gl-sprintf",{attrs:{message:e.__("From line %{line1} to %{line2}")},scopedSlots:e._u([{key:"line1",fn:function(){return[t("div",{staticClass:"gl-mx-1 gl-flex gl-rounded-base gl-bg-subtle"},[t("gl-button",{attrs:{size:"small",icon:"dash",variant:"confirm",category:"tertiary","data-testid":"decrement-line-start","aria-label":e.__("Decrement suggestion line start"),disabled:e.disableDecrementLineStart},on:{click:function(t){return e.updateLineOffset(-1,0)}}}),e._v(" "),t("div",{staticClass:"monospace gl-flex gl-items-center gl-justify-center gl-px-3"},[t("strong",[e._v(e._s(e.absoluteLineOffset[0]))])]),e._v(" "),t("gl-button",{attrs:{size:"small",icon:"plus",variant:"confirm",category:"tertiary","data-testid":"increment-line-start","aria-label":e.__("Increment suggestion line start"),disabled:e.disableIncrementLineStart},on:{click:function(t){return e.updateLineOffset(1,0)}}})],1)]},proxy:!0},{key:"line2",fn:function(){return[t("div",{staticClass:"gl-ml-1 gl-flex gl-rounded-base gl-bg-subtle"},[t("gl-button",{attrs:{size:"small",icon:"dash",variant:"confirm",category:"tertiary","data-testid":"decrement-line-end","aria-label":e.__("Decrement suggestion line end"),disabled:e.disableDecrementLineEnd},on:{click:function(t){return e.updateLineOffset(0,-1)}}}),e._v(" "),t("div",{staticClass:"monospace gl-flex gl-items-center gl-justify-center gl-px-3"},[t("strong",[e._v(e._s(e.absoluteLineOffset[1]))])]),e._v(" "),t("gl-button",{attrs:{size:"small",icon:"plus",variant:"confirm",category:"tertiary","data-testid":"increment-line-end","aria-label":e.__("Increment suggestion line end"),disabled:e.disableIncrementLineEnd},on:{click:function(t){return e.updateLineOffset(0,1)}}})],1)]},proxy:!0}],null,!1,1956442335)})],1)]),e._v(" "),t("div",{staticClass:"suggestion-deleted code code-syntax-highlight-theme",attrs:{"data-testid":"suggestion-deleted"}},e._l(e.deletedLines,(function(n,i){return t("code",{key:i,staticClass:"diff-line-num !gl-border-transparent",attrs:{"data-line-number":e.absoluteLineOffset[0]+i}},[t("span",{staticClass:"line_holder"},[t("span",{staticClass:"line_content old"},[e._v(e._s(n))])])])})),0),e._v(" "),t("div",{staticClass:"suggestion-added code code-syntax-highlight-theme gl-absolute",attrs:{"data-testid":"suggestion-added"}},e._l(e.addedLines,(function(n,i){return t("code",{key:i,staticClass:"diff-line-num !gl-border-transparent",attrs:{"data-line-number":e.absoluteLineOffset[0]+i}},[t("span",{staticClass:"line_holder"},[t("span",{staticClass:"line_content new !gl-text-transparent"},[e._v(e._s(n))])])])})),0)]):e._e(),e._v(" "),t("node-view-content",{ref:"nodeViewContent",staticClass:"gl-relative gl-z-1 !gl-break-words",class:{"line_content new code code-syntax-highlight-theme":e.isCodeSuggestion},attrs:{as:"code",spellcheck:!1,"data-testid":"suggestion-field"}})],1)],1)}),[],!1,null,null,null).exports;const M="query: assignee = currentUser()\nfields: title, createdAt, milestone, assignee\ntitle: "+Object(l.a)("Issues assigned to current user"),E=/^```([a-z]+)?[\s\n]$/,C=/^~~~([a-z]+)?[\s\n]$/;t.b=r.a.extend({isolating:!0,exitOnArrowDown:!1,addOptions(){var e;return{...null===(e=this.parent)||void 0===e?void 0:e.call(this),HTMLAttributes:{dir:"auto"}}},addAttributes:()=>({language:{default:null,parseHTML:function(e){return function(e){var t;return null!==(t=e.dataset.canonicalLang)&&void 0!==t?t:e.getAttribute("lang")}(e)}},class:{default:"code highlight"},langParams:{default:null,parseHTML:function(e){return e.dataset.langParams}}}),addInputRules(){const e=function(e){return(null===c.a||void 0===c.a?void 0:c.a.loadLanguageFromInputRule(e))||{}};return[Object(s.C)({find:E,type:this.type,getAttributes:e}),Object(s.C)({find:C,type:this.type,getAttributes:e})]},addCommands(){var e,t=this;return{...null===(e=this.parent)||void 0===e?void 0:e.call(this),insertGLQLView:function(){return function({commands:e}){return e.insertContent({type:t.type.name,attrs:{language:"glql"},content:[{type:"text",text:M}]})}}}},parseHTML:()=>[{tag:"div.markdown-code-block",skip:!0},{tag:"pre.code.highlight",preserveWhitespace:"full",getContent:(e,t)=>e.textContent?o.Fragment.from(t.text(e.textContent)):o.Fragment.empty},{tag:"span.katex-display",preserveWhitespace:"full",contentElement:'annotation[encoding="application/x-tex"]',attrs:{language:"math"}},{tag:"svg.mermaid",preserveWhitespace:"full",contentElement:"text.source",attrs:{language:"mermaid"}},{tag:".md-suggestion",skip:!0},{tag:".md-suggestion-header",ignore:!0},{tag:".md-suggestion-diff",preserveWhitespace:"full",getContent:function(e,t){return[...e.querySelectorAll(".line_content.new span")].map((function(e){return t.text(e.innerText)}))},attrs:{language:"suggestion"}}],renderHTML({HTMLAttributes:e}){return["pre",{...Object(s.z)(this.options.HTMLAttributes,e),class:"content-editor-code-block code-syntax-highlight-theme "+e.class},["code",{},0]]},addNodeView:()=>new a.e(_),addProseMirrorPlugins(){var e,t;const n=null!==(e=null===(t=this.parent)||void 0===t?void 0:t.call(this))&&void 0!==e?e:[],i=n.findIndex((function(e){return e.key.includes("VSCode")}));return i>=0&&n.splice(i,1),n}}).configure({lowlight:i.a})},"2XMn":function(e,t,n){"use strict";var i=n("CbCZ"),r=n("/lV4"),o={components:{GlButton:i.a},props:{value:{type:String,required:!0}},computed:{markdownEditorSelected(){return"markdown"===this.value},text(){return this.markdownEditorSelected?Object(r.a)("Switch to rich text editing"):Object(r.a)("Switch to plain text editing")}},richTextEditorButtonId:"switch-to-rich-text-editor"},s=n("tBpV"),a=Object(s.a)(o,(function(){var e=this,t=e._self._c;return t("div",{staticClass:"content-editor-switcher gl-inline-flex gl-items-center"},[t("gl-button",{staticClass:"!gl-px-4 !gl-text-sm !gl-text-subtle",attrs:{id:e.$options.richTextEditorButtonId,size:"small",category:"tertiary","data-testid":"editing-mode-switcher"},on:{click:function(t){return e.$emit("switch")}}},[e._v(e._s(e.text))])],1)}),[],!1,null,null,null);t.a=a.exports},"3PqT":function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var i=n("P/GM"),r=n("roUw"),o=n("pblh");class s{constructor({editor:e,element:t,view:n,tippyOptions:r={},updateDelay:o=250,shouldShow:s}){this.preventHide=!1,this.shouldShow=({view:e,state:t,from:n,to:r})=>{const{doc:o,selection:s}=t,{empty:a}=s,l=!o.textBetween(n,r).length&&Object(i.w)(t.selection),c=this.element.contains(document.activeElement);return!(!e.hasFocus()&&!c||a||l||!this.editor.isEditable)},this.mousedownHandler=()=>{this.preventHide=!0},this.dragstartHandler=()=>{this.hide()},this.focusHandler=()=>{setTimeout(()=>this.update(this.editor.view))},this.blurHandler=({event:e})=>{var t;this.preventHide?this.preventHide=!1:(null==e?void 0:e.relatedTarget)&&(null===(t=this.element.parentNode)||void 0===t?void 0:t.contains(e.relatedTarget))||(null==e?void 0:e.relatedTarget)!==this.editor.view.dom&&this.hide()},this.tippyBlurHandler=e=>{this.blurHandler({event:e})},this.handleDebouncedUpdate=(e,t)=>{const n=!(null==t?void 0:t.selection.eq(e.state.selection)),i=!(null==t?void 0:t.doc.eq(e.state.doc));(n||i)&&(this.updateDebounceTimer&&clearTimeout(this.updateDebounceTimer),this.updateDebounceTimer=window.setTimeout(()=>{this.updateHandler(e,n,i,t)},this.updateDelay))},this.updateHandler=(e,t,n,r)=>{var o,s,a;const{state:l,composing:c}=e,{selection:d}=l;if(c||!t&&!n)return;this.createTooltip();const{ranges:u}=d,p=Math.min(...u.map(e=>e.$from.pos)),h=Math.max(...u.map(e=>e.$to.pos));(null===(o=this.shouldShow)||void 0===o?void 0:o.call(this,{editor:this.editor,element:this.element,view:e,state:l,oldState:r,from:p,to:h}))?(null===(s=this.tippy)||void 0===s||s.setProps({getReferenceClientRect:(null===(a=this.tippyOptions)||void 0===a?void 0:a.getReferenceClientRect)||(()=>{if(Object(i.v)(l.selection)){let t=e.nodeDOM(p);if(t){const e=t.dataset.nodeViewWrapper?t:t.querySelector("[data-node-view-wrapper]");if(e&&(t=e.firstChild),t)return t.getBoundingClientRect()}}return Object(i.B)(e,p,h)})}),this.show()):this.hide()},this.editor=e,this.element=t,this.view=n,this.updateDelay=o,s&&(this.shouldShow=s),this.element.addEventListener("mousedown",this.mousedownHandler,{capture:!0}),this.view.dom.addEventListener("dragstart",this.dragstartHandler),this.editor.on("focus",this.focusHandler),this.editor.on("blur",this.blurHandler),this.tippyOptions=r,this.element.remove(),this.element.style.visibility="visible"}createTooltip(){const{element:e}=this.editor.options,t=!!e.parentElement;this.element.tabIndex=0,!this.tippy&&t&&(this.tippy=Object(o.a)(e,{duration:0,getReferenceClientRect:null,content:this.element,interactive:!0,trigger:"manual",placement:"top",hideOnClick:"toggle",...this.tippyOptions}),this.tippy.popper.firstChild&&this.tippy.popper.firstChild.addEventListener("blur",this.tippyBlurHandler))}update(e,t){const{state:n}=e,i=n.selection.from!==n.selection.to;if(this.updateDelay>0&&i)return void this.handleDebouncedUpdate(e,t);const r=!(null==t?void 0:t.selection.eq(e.state.selection)),o=!(null==t?void 0:t.doc.eq(e.state.doc));this.updateHandler(e,r,o,t)}show(){var e;null===(e=this.tippy)||void 0===e||e.show()}hide(){var e;null===(e=this.tippy)||void 0===e||e.hide()}destroy(){var e,t;(null===(e=this.tippy)||void 0===e?void 0:e.popper.firstChild)&&this.tippy.popper.firstChild.removeEventListener("blur",this.tippyBlurHandler),null===(t=this.tippy)||void 0===t||t.destroy(),this.element.removeEventListener("mousedown",this.mousedownHandler,{capture:!0}),this.view.dom.removeEventListener("dragstart",this.dragstartHandler),this.editor.off("focus",this.focusHandler),this.editor.off("blur",this.blurHandler)}}const a=e=>new r.d({key:"string"==typeof e.pluginKey?new r.e(e.pluginKey):e.pluginKey,view:t=>new s({view:t,...e})});i.b.create({name:"bubbleMenu",addOptions:()=>({element:null,tippyOptions:{},pluginKey:"bubbleMenu",updateDelay:void 0,shouldShow:null}),addProseMirrorPlugins(){return this.options.element?[a({pluginKey:this.options.pluginKey,editor:this.editor,element:this.options.element,tippyOptions:this.options.tippyOptions,updateDelay:this.options.updateDelay,shouldShow:this.options.shouldShow})]:[]}})},"3W16":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isSymbol=void 0;t.isSymbol=e=>{if("symbol"!=typeof e)return"value should be a symbol"}},"3hxv":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isInteger=void 0;t.isInteger=e=>{if("number"!=typeof e||!Number.isInteger(e))return"value should be an integer"}},"5L1K":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.oneOfProp=void 0;const i=n("ATGc"),r=n("M5Z+");t.oneOfProp=(e,t)=>(0,i.propOptionsGenerator)((e=>{const t=[...new Set(e.flatMap(e=>{var t;return null==e?[]:null!==(t=e.constructor)&&void 0!==t?t:[]}))];if(0!==t.length)return 1===t.length?t[0]:t})(e),t,(0,r.isOneOf)(e))},"64u9":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.anyProp=void 0;const i=n("ATGc");t.anyProp=e=>(0,i.propOptionsGenerator)(void 0,e)},"7KkO":function(e,t,n){"use strict";var i=n("o4PY"),r=n.n(i),o=(n("3UXl"),n("iyoE"),n("CbCZ")),s=n("2TqH"),a=n("4Qts"),l=n("/lV4"),c=n("w3AR");var d={components:{GlButton:o.a,GlDisclosureDropdown:s.a,GlTooltip:a.a},data:()=>({toggleId:r()("dropdown-toggle-btn-"),maxRows:5,maxCols:5,rows:1,cols:1}),methods:{list:e=>new Array(e).fill().map((function(e,t){return t+1})),setRowsAndCols(e,t){this.rows=e,this.cols=t,this.maxRows=Object(c.a)(e+1,this.maxRows,10),this.maxCols=Object(c.a)(t+1,this.maxCols,10)},resetState(){this.rows=1,this.cols=1,this.maxRows=5,this.maxCols=5},insertTable(){this.$emit("insert-table",{rows:this.rows,cols:this.cols}),this.resetState(),this.$refs.dropdown.close(),this.$emit("execute",{contentType:"table"})},getButtonLabel:(e,t)=>Object(l.j)(Object(l.a)("Insert a %{rows}×%{cols} table"),{rows:e,cols:t}),onKeydown(e){const t={ArrowUp:{rows:-1,cols:0},ArrowDown:{rows:1,cols:0},ArrowLeft:{rows:0,cols:-1},ArrowRight:{rows:0,cols:1}}[e]||{rows:0,cols:0},n=Object(c.a)(this.rows+t.rows,1,this.maxRows),i=Object(c.a)(this.cols+t.cols,1,this.maxCols);this.setRowsAndCols(n,i)},setFocus(e,t){this.resetState(),this.$refs[`table-${e}-${t}`][0].$el.focus()}},MAX_COLS:10,MAX_ROWS:10},u=n("tBpV"),p=Object(u.a)(d,(function(){var e=this,t=e._self._c;return t("div",{staticClass:"gl-inline-flex gl-align-middle"},[t("gl-disclosure-dropdown",{ref:"dropdown",staticClass:"content-editor-table-dropdown gl-mr-2",attrs:{"toggle-id":e.toggleId,size:"small",category:"tertiary",icon:"table","no-caret":"","aria-label":e.__("Insert table"),"toggle-text":e.__("Insert table"),"text-sr-only":"","fluid-width":!0},on:{shown:function(t){return e.setFocus(1,1)},hidden:e.resetState}},[t("div",{staticClass:"gl-p-3 gl-pt-2",attrs:{role:"grid","aria-colcount":e.$options.MAX_COLS,"aria-rowcount":e.$options.MAX_ROWS}},e._l(e.list(e.maxRows),(function(n){return t("div",{key:n,staticClass:"gl-flex",attrs:{role:"row"}},e._l(e.list(e.maxCols),(function(i){return t("div",{key:i,attrs:{role:"gridcell"}},[t("gl-button",{ref:`table-${n}-${i}`,refInFor:!0,staticClass:"table-creator-grid-item gl-m-2 !gl-rounded-none !gl-p-0",class:{active:n<=e.rows&&i<=e.cols},attrs:{"aria-label":e.getButtonLabel(n,i)},on:{mouseover:function(t){return e.setRowsAndCols(n,i)},focus:function(t){return e.setRowsAndCols(n,i)},click:function(t){return e.insertTable()},keydown:function(t){return e.onKeydown(t.key)}}})],1)})),0)})),0),e._v(" "),t("div",{staticClass:"gl-border-t gl-px-4 gl-pb-2 gl-pt-3"},[e._v("\n      "+e._s(e.getButtonLabel(e.rows,e.cols))+"\n    ")])]),e._v(" "),t("gl-tooltip",{attrs:{target:e.toggleId,placement:"top"}},[e._v(e._s(e.__("Insert table")))])],1)}),[],!1,null,null,null);t.a=p.exports},"7PMs":function(e,t,n){"use strict";var i=n("TxUY"),r=n("+602"),o=n("R6g9"),s=RangeError;e.exports=function(e){var t=r(o(this)),n="",a=i(e);if(a<0||a===1/0)throw new s("Wrong number of repetitions");for(;a>0;(a>>>=1)&&(t+=t))1&a&&(n+=t);return n}},"8X9H":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.objectProp=void 0;const i=n("ATGc");t.objectProp=e=>(0,i.propOptionsGenerator)(Object,e)},A30U:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isNonNegative=void 0;t.isNonNegative=e=>{if("number"!=typeof e||e<0||Number.isNaN(e))return"value should be a non-negative number"}},ATGc:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.propOptionsGenerator=void 0;const i=n("M5Z+");t.propOptionsGenerator=(e,t,...n)=>({optional:{type:e,required:!1,default:void 0,validator:(0,i.vuePropValidator)(t,...n)},nullable:{type:e,required:!1,default:null,validator:(0,i.vuePropValidator)(t,...n)},withDefault:r=>({type:e,required:!1,default:r,validator:(0,i.vuePropValidator)(t,...n)}),required:{type:e,required:!0,validator:(0,i.vuePropValidator)(t,...n)}})},Ak1V:function(e,t,n){"use strict";n.d(t,"a",(function(){return y}));var i=n("59DU"),r=n.n(i),o=(n("lFMf"),n("gOHk"),n("c9hT"),n("byxs"),n("jlnU")),s=n("JTkt"),a=n("0AwG"),l=n("/lV4"),c=n("1OWu");const d={ui:"sketch",noSaveBtn:1,saveAndExit:1,keepmodified:1,spin:1,embed:1,libraries:1,configure:1,proto:"json",toSvg:1};function u(e,t){Object.assign(e,t)}function p(e,t){const{origin:n}=new URL(e.drawioUrl);e.iframe.contentWindow.postMessage(JSON.stringify(t),n)}function h(e){e.disposeEventListener(),e.iframe.remove()}async function f(e,t){const{newDiagram:n,diagramMarkdown:i,filename:r,diagramSvg:s}=e,a=r.endsWith(".drawio.svg")?r:r+".drawio.svg";p(e,{action:"spinner",show:!0,messageKey:"saving"});try{const r=await t.uploadDiagram({filename:a,diagramSvg:s});n?t.insertDiagram({uploadResults:r}):t.updateDiagram({diagramMarkdown:i,uploadResults:r}),Object(o.createAlert)({message:Object(l.a)("Diagram saved successfully."),variant:o.VARIANT_SUCCESS,fadeTransition:!0}),setTimeout((function(){return h(e)}),10)}catch{p(e,{action:"spinner",show:!1}),p(e,{action:"dialog",titleKey:"error",modified:!0,buttonKey:"close",messageKey:"errorSavingFile"})}}function g(e,t,n){p(e,{action:"prompt",titleKey:"filename",okKey:"save",defaultValue:t||""}),null!==n&&p(e,{action:"dialog",titleKey:"error",messageKey:n,buttonKey:"ok"})}function m(e){p(e,{action:"load",xml:e.diagramSvg,border:8,background:"#ffffff",dark:e.dark,title:e.filename})}async function v(e,t){const{iframe:n}=e;n.style.cursor="wait";try{await async function(e,t){let n=null;try{n=await t.getDiagram()}catch(e){throw new Error(Object(l.a)("Cannot load the diagram into the diagrams.net editor"))}if(n){const{diagramMarkdown:t,filename:i,diagramSvg:r,contentType:o,diagramURL:s}=n,a=new URL(s,window.location.origin),c=new Blob([r]).size;if("image/svg+xml"!==o)throw new Error(Object(l.a)("The selected image is not a valid SVG diagram"));if(a.origin!==window.location.origin)throw new Error(Object(l.a)("The selected image is not an asset uploaded in the application"));if(c>10485760)throw new Error(Object(l.a)("The selected image is too large."));u(e,{newDiagram:!1,filename:i,diagramMarkdown:t,diagramSvg:r})}else u(e,{newDiagram:!0});m(e)}(e,t),n.style.visibility="visible",n.style.cursor=""}catch(t){Object(o.createAlert)({message:t.message,error:t}),h(e)}}function b(e,t,n){if(r()(n)||n.source!==e.iframe.contentWindow)return;const i=JSON.parse(n.data);var o;"configure"===i.event?function(e){p(e,{action:"configure",config:{darkColor:"#202020",settingsName:"gitlab"},colorSchemeMeta:e.dark}),u(e,{initialized:!0})}(e):"init"===i.event?v(e,t):"exit"===i.event?h(e):"prompt"===i.event?(u(e,{filename:i.value}),e.filename?f(e,t):g(e,"diagram.drawio.svg","filenameShort")):"export"===i.event&&(u(e,{diagramSvg:(o=i.data,'<?xml version="1.0" encoding="UTF-8"?>\n      <!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">\n      '+Object(a.e)(o.substring(o.indexOf(",")+1)))}),m(e),p(e,{action:"status",modified:!0}),e.filename?f(e,t):g(e,"diagram.drawio.svg",null))}function y({editorFacade:e,filename:t,drawioUrl:n=gon.diagramsnet_url}){const i=new URL(n);for(const[e,t]of Object.entries(d))i.searchParams.set(e,t);const r=function({filename:e=null,drawioUrl:t}){return{newDiagram:!0,filename:e,diagramSvg:null,diagramMarkdown:null,iframe:null,isBusy:!1,initialized:!1,dark:Object(s.a)(),disposeEventListener:null,drawioUrl:t}}({filename:t,drawioUrl:i.href});!function(e,t){const n=function(n){b(e,t,n)};window.addEventListener("message",n),u(e,{disposeEventListener:function(){window.removeEventListener("message",n)}})}(r,e),function(e){const t=document.createElement("iframe");Object(c.l)(t,{id:"drawio-frame",src:e.drawioUrl,class:"drawio-editor"}),document.body.appendChild(t),setTimeout((function(){!1===e.initialized&&(h(e),Object(o.createAlert)({message:Object(l.a)("The diagrams.net editor could not be loaded.")}))}),4e3),u(e,{iframe:t})}(r)}},B3Hj:function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return o})),n.d(t,"c",(function(){return s}));var i=n("ygVz");const r="markdown_editor",o="execute_toolbar_control",s=function(e,t){i.b.event(void 0,"save_markdown",{label:e?"rich_text_editor":r,property:t})}},BOSz:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.arrayProp=void 0;const i=n("ATGc");t.arrayProp=e=>(0,i.propOptionsGenerator)(Array,e)},DLxf:function(e,t,n){"use strict";e.exports="\t\n\v\f\r                　\u2028\u2029\ufeff"},DNJn:function(e,t,n){"use strict";n("B++/"),n("z6RN"),n("47t/"),n("UezY"),n("hG7+");var i=n("O/w4"),r=n("/lV4");var o=[{syntax:"1c",label:"1C:Enterprise"},{syntax:"abnf",label:"Augmented Backus-Naur Form"},{syntax:"accesslog",label:"Apache Access Log"},{syntax:"actionscript",variants:"as",label:"ActionScript"},{syntax:"ada",label:"Ada"},{syntax:"angelscript",variants:"asc",label:"AngelScript"},{syntax:"apache",variants:"apacheconf",label:"Apache config"},{syntax:"applescript",variants:"osascript",label:"AppleScript"},{syntax:"arcade",label:"ArcGIS Arcade"},{syntax:"arduino",variants:"ino",label:"Arduino"},{syntax:"armasm",variants:"arm",label:"ARM Assembly"},{syntax:"asciidoc",variants:"adoc",label:"AsciiDoc"},{syntax:"aspectj",label:"AspectJ"},{syntax:"autohotkey",variants:"ahk",label:"AutoHotkey"},{syntax:"autoit",label:"AutoIt"},{syntax:"avrasm",label:"AVR Assembly"},{syntax:"awk",label:"Awk"},{syntax:"axapta",variants:"x++",label:"X++"},{syntax:"bash",variants:"sh",label:"Bash"},{syntax:"basic",label:"BASIC"},{syntax:"bnf",label:"Backus-Naur Form"},{syntax:"brainfuck",variants:"bf",label:"Brainfuck"},{syntax:"c",variants:"h",label:"C"},{syntax:"cal",label:"C/AL"},{syntax:"capnproto",variants:"capnp",label:"Cap'n Proto"},{syntax:"ceylon",label:"Ceylon"},{syntax:"clean",variants:"icl, dcl",label:"Clean"},{syntax:"clojure",variants:"clj, edn",label:"Clojure"},{syntax:"clojure-repl",label:"Clojure REPL"},{syntax:"cmake",variants:"cmake.in",label:"CMake"},{syntax:"coffeescript",variants:"coffee, cson, iced",label:"CoffeeScript"},{syntax:"coq",label:"Coq"},{syntax:"cos",variants:"cls",label:"Caché Object Script"},{syntax:"cpp",variants:"cc, c++, h++, hpp, hh, hxx, cxx",label:"C++"},{syntax:"crmsh",variants:"crm, pcmk",label:"crmsh"},{syntax:"crystal",variants:"cr",label:"Crystal"},{syntax:"csharp",variants:"cs, c#",label:"C#"},{syntax:"csp",label:"CSP"},{syntax:"css",label:"CSS"},{syntax:"d",label:"D"},{syntax:"dart",label:"Dart"},{syntax:"delphi",variants:"dpr, dfm, pas, pascal",label:"Delphi"},{syntax:"diff",variants:"patch",label:"Diff"},{syntax:"django",variants:"jinja",label:"Django"},{syntax:"dns",variants:"bind, zone",label:"DNS Zone"},{syntax:"dockerfile",variants:"docker",label:"Dockerfile"},{syntax:"dos",variants:"bat, cmd",label:"Batch file (DOS)"},{syntax:"dsconfig",label:"DSConfig"},{syntax:"dts",label:"Device Tree"},{syntax:"dust",variants:"dst",label:"Dust"},{syntax:"ebnf",label:"Extended Backus-Naur Form"},{syntax:"elixir",variants:"ex, exs",label:"Elixir"},{syntax:"elm",label:"Elm"},{syntax:"erb",label:"ERB"},{syntax:"erlang",variants:"erl",label:"Erlang"},{syntax:"erlang-repl",label:"Erlang REPL"},{syntax:"excel",variants:"xlsx, xls",label:"Excel formulae"},{syntax:"fix",label:"FIX"},{syntax:"flix",label:"Flix"},{syntax:"fortran",variants:"f90, f95",label:"Fortran"},{syntax:"fsharp",variants:"fs, f#",label:"F#"},{syntax:"gams",variants:"gms",label:"GAMS"},{syntax:"gauss",variants:"gss",label:"GAUSS"},{syntax:"gcode",variants:"nc",label:"G-code (ISO 6983)"},{syntax:"gherkin",variants:"feature",label:"Gherkin"},{syntax:"glql",label:"Embedded view (GLQL)"},{syntax:"glsl",label:"GLSL"},{syntax:"gml",label:"GML"},{syntax:"go",variants:"golang",label:"Go"},{syntax:"golo",label:"Golo"},{syntax:"gradle",label:"Gradle"},{syntax:"graphql",variants:"gql",label:"GraphQL"},{syntax:"groovy",label:"Groovy"},{syntax:"haml",label:"HAML"},{syntax:"handlebars",variants:"hbs, html.hbs, html.handlebars, htmlbars",label:"Handlebars"},{syntax:"haskell",variants:"hs",label:"Haskell"},{syntax:"haxe",variants:"hx",label:"Haxe"},{syntax:"hsp",label:"HSP"},{syntax:"http",variants:"https",label:"HTTP"},{syntax:"hy",variants:"hylang",label:"Hy"},{syntax:"inform7",variants:"i7",label:"Inform 7"},{syntax:"ini",variants:"toml",label:"TOML, also INI"},{syntax:"irpf90",label:"IRPF90"},{syntax:"isbl",label:"ISBL"},{syntax:"java",variants:"jsp",label:"Java"},{syntax:"javascript",variants:"js, jsx, mjs, cjs",label:"Javascript"},{syntax:"jboss-cli",variants:"wildfly-cli",label:"JBoss CLI"},{syntax:"json",label:"JSON"},{syntax:"julia",label:"Julia"},{syntax:"julia-repl",variants:"jldoctest",label:"Julia REPL"},{syntax:"kotlin",variants:"kt, kts",label:"Kotlin"},{syntax:"lasso",variants:"ls, lassoscript",label:"Lasso"},{syntax:"latex",variants:"tex",label:"LaTeX"},{syntax:"ldif",label:"LDIF"},{syntax:"leaf",label:"Leaf"},{syntax:"less",label:"Less"},{syntax:"lisp",label:"Lisp"},{syntax:"livecodeserver",label:"LiveCode"},{syntax:"livescript",variants:"ls",label:"LiveScript"},{syntax:"llvm",label:"LLVM IR"},{syntax:"lsl",label:"LSL (Linden Scripting Language)"},{syntax:"lua",label:"Lua"},{syntax:"makefile",variants:"mk, mak, make",label:"Makefile"},{syntax:"markdown",variants:"md, mkdown, mkd",label:"Markdown"},{syntax:"mathematica",variants:"mma, wl",label:"Mathematica"},{syntax:"matlab",label:"Matlab"},{syntax:"maxima",label:"Maxima"},{syntax:"mel",label:"MEL"},{syntax:"mercury",variants:"m, moo",label:"Mercury"},{syntax:"mipsasm",variants:"mips",label:"MIPS Assembly"},{syntax:"mizar",label:"Mizar"},{syntax:"mojolicious",label:"Mojolicious"},{syntax:"monkey",label:"Monkey"},{syntax:"moonscript",variants:"moon",label:"MoonScript"},{syntax:"n1ql",label:"N1QL"},{syntax:"nestedtext",variants:"nt",label:"Nested Text"},{syntax:"nginx",variants:"nginxconf",label:"Nginx config"},{syntax:"nim",label:"Nim"},{syntax:"nix",variants:"nixos",label:"Nix"},{syntax:"node-repl",label:"Node REPL"},{syntax:"nsis",label:"NSIS"},{syntax:"objectivec",variants:"mm, objc, obj-c, obj-c++, objective-c++",label:"Objective-C"},{syntax:"ocaml",variants:"ml",label:"OCaml"},{syntax:"openscad",variants:"scad",label:"OpenSCAD"},{syntax:"oxygene",label:"Oxygene"},{syntax:"parser3",label:"Parser3"},{syntax:"perl",variants:"pl, pm",label:"Perl"},{syntax:"pf",variants:"pf.conf",label:"Packet Filter config"},{syntax:"pgsql",variants:"postgres, postgresql",label:"PostgreSQL"},{syntax:"php",label:"PHP"},{syntax:"php-template",label:"PHP template"},{syntax:"plaintext",variants:"text, txt",label:"Plain text"},{syntax:"pony",label:"Pony"},{syntax:"powershell",variants:"pwsh, ps, ps1",label:"PowerShell"},{syntax:"processing",variants:"pde",label:"Processing"},{syntax:"profile",label:"Python profiler"},{syntax:"prolog",label:"Prolog"},{syntax:"properties",label:".properties"},{syntax:"protobuf",label:"Protocol Buffers"},{syntax:"puppet",variants:"pp",label:"Puppet"},{syntax:"purebasic",variants:"pb, pbi",label:"PureBASIC"},{syntax:"python",variants:"py, gyp, ipython",label:"Python"},{syntax:"python-repl",variants:"pycon",label:"Python REPL"},{syntax:"q",variants:"k, kdb",label:"Q"},{syntax:"qml",variants:"qt",label:"QML"},{syntax:"r",label:"R"},{syntax:"reasonml",variants:"re",label:"ReasonML"},{syntax:"rib",label:"RenderMan RIB"},{syntax:"roboconf",variants:"graph, instances",label:"Roboconf"},{syntax:"routeros",variants:"mikrotik",label:"Microtik RouterOS script"},{syntax:"rsl",label:"RenderMan RSL"},{syntax:"ruby",variants:"rb, gemspec, podspec, thor, irb",label:"Ruby"},{syntax:"ruleslanguage",label:"Oracle Rules Language"},{syntax:"rust",variants:"rs",label:"Rust"},{syntax:"sas",label:"SAS"},{syntax:"scala",label:"Scala"},{syntax:"scheme",label:"Scheme"},{syntax:"scilab",variants:"sci",label:"Scilab"},{syntax:"scss",label:"SCSS"},{syntax:"shell",variants:"console, shellsession",label:"Shell Session"},{syntax:"smali",label:"Smali"},{syntax:"smalltalk",variants:"st",label:"Smalltalk"},{syntax:"sml",variants:"ml",label:"SML (Standard ML)"},{syntax:"sqf",label:"SQF"},{syntax:"sql",label:"SQL"},{syntax:"stan",variants:"stanfuncs",label:"Stan"},{syntax:"stata",variants:"do, ado",label:"Stata"},{syntax:"step21",variants:"p21, step, stp",label:"STEP Part 21"},{syntax:"stylus",variants:"styl",label:"Stylus"},{syntax:"subunit",label:"SubUnit"},{syntax:"swift",label:"Swift"},{syntax:"taggerscript",label:"Tagger Script"},{syntax:"tap",label:"Test Anything Protocol"},{syntax:"tcl",variants:"tk",label:"Tcl"},{syntax:"thrift",label:"Thrift"},{syntax:"tp",label:"TP"},{syntax:"twig",variants:"craftcms",label:"Twig"},{syntax:"typescript",variants:"ts, tsx",label:"TypeScript"},{syntax:"vala",label:"Vala"},{syntax:"vbnet",variants:"vb",label:"Visual Basic .NET"},{syntax:"vbscript",variants:"vbs",label:"VBScript"},{syntax:"vbscript-html",label:"VBScript in HTML"},{syntax:"verilog",variants:"v, sv, svh",label:"Verilog"},{syntax:"vhdl",label:"VHDL"},{syntax:"vim",label:"Vim Script"},{syntax:"wasm",label:"WebAssembly"},{syntax:"wren",label:"Wren"},{syntax:"x86asm",label:"Intel x86 Assembly"},{syntax:"xl",variants:"tao",label:"XL"},{syntax:"xml",variants:"html, xhtml, rss, atom, xjb, xsd, xsl, plist, wsf, svg",label:"HTML, XML"},{syntax:"xquery",variants:"xpath, xq",label:"XQuery"},{syntax:"yaml",variants:"yml",label:"YAML"},{syntax:"zephir",variants:"zep",label:"Zephir"}],s=n("ktwE");const a={lowlight:i.a,allLanguages:o,findOrCreateLanguageBySyntax(e,t){const n=(null==e?void 0:e.toLowerCase())||"plaintext";return this.allLanguages.find((function({syntax:e,variants:t}){return e===n||(null==t?void 0:t.toLowerCase().split(", ").includes(n))}))||{syntax:n,label:Object(r.j)(t?Object(r.a)("Diagram (%{language})"):Object(r.a)("Custom (%{language})"),{language:n})}},filterLanguages(e){if(!e)return this.allLanguages;const t=(null==e?void 0:e.toLowerCase())||"";return this.allLanguages.filter((function({syntax:e,label:n,variants:i}){return e.toLowerCase().includes(t)||n.toLowerCase().includes(t)||(null==i?void 0:i.toLowerCase().includes(t))}))},isLanguageLoaded(e){return this.lowlight.registered(e)},loadLanguageFromInputRule(e){const{syntax:t}=this.findOrCreateLanguageBySyntax(e[1]);return this.loadLanguage(t),{language:t}},async loadLanguage(e){if(this.isLanguageLoaded(e))return!1;try{const{default:t}=await s.a[e]();return this.lowlight.registerLanguage(e,t),!0}catch{return!1}}};t.a=a},EP76:function(e,t,n){"use strict";var i={},r=n("tBpV"),o=Object(r.a)(i,(function(){this._self._c;return this._m(0)}),[function(){var e=this._self._c;return e("div",{staticClass:"gl-flex gl-py-2"},[e("div",{staticClass:"gl-border-l gl-ml-2 gl-pl-3"})])}],!1,null,null,null);t.a=o.exports},FFON:function(e,t,n){"use strict";var i=TypeError;e.exports=function(e){if("string"==typeof e)return e;throw new i("Argument is not a string")}},FRUr:function(e,t,n){"use strict";n.d(t,"a",(function(){return u})),n.d(t,"b",(function(){return p}));var i=n("O/w4"),r=n("P/GM"),o=n("ri0Z"),s=n("0AwG"),a=n("qCaJ"),l=n("DNJn"),c=n("1Ti1");const d=/^```(mermaid|plantuml)[\s\n]$/,u="graph TD;\n    A--\x3eB;\n    A--\x3eC;\n    B--\x3eD;\n    C--\x3eD;",p="@startuml\nAlice -> Bob: Authentication Request\nBob --\x3e Alice: Authentication Response\n@enduml";t.c=c.b.extend({name:"diagram",isolating:!0,addOptions:()=>({lowlight:i.a}),addAttributes:()=>({language:{default:null,parseHTML:function(e){return e.dataset.diagram}},isDiagram:{default:!0},showPreview:{default:!0}}),parseHTML:()=>[{priority:a.j,tag:'pre[data-canonical-lang="mermaid"]',getAttrs:function(){return{language:"mermaid"}}},{priority:a.j,tag:"[data-diagram]",getContent(e,t){const n=Object(s.e)(e.dataset.diagramSrc.replace("data:text/plain;base64,",""));return o.Fragment.from(t.text(n))}}],renderHTML:({HTMLAttributes:{language:e,...t}})=>["div",["pre",{language:e,class:"content-editor-code-block code highlight",...t},["code",{},0]]],addCommands(){var e=this;return{insertMermaid:function(){return function({commands:t}){return t.insertContent({type:e.type.name,attrs:{language:"mermaid"},content:[{type:"text",text:u}]})}},insertPlantUML:function(){return function({commands:t}){return t.insertContent({type:e.type.name,attrs:{language:"plantuml"},content:[{type:"text",text:p}]})}}}},addInputRules(){return[Object(r.C)({find:d,type:this.type,getAttributes:function(e){return(null===l.a||void 0===l.a?void 0:l.a.loadLanguageFromInputRule(e))||{}}})]}})},GBvS:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.stringProp=void 0;const i=n("ATGc");t.stringProp=e=>(0,i.propOptionsGenerator)(String,e)},GlSK:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isNegative=void 0;t.isNegative=e=>{if("number"!=typeof e||e>=0||Number.isNaN(e))return"value should be a negative number"}},Hcvv:function(e,t,n){"use strict";var i=n("o4PY"),r=n.n(i),o=(n("3UXl"),n("iyoE"),n("UezY"),n("z6RN"),n("hG7+"),n("CbCZ")),s=n("Oxu3"),a=n("1I5c"),l=n("Q5rj"),c=n("pmDQ"),d=n("2TqH"),u=n("nuJP"),p=n("zIFf"),h=n("PxiM"),f=n.n(h),g=n("tTlX"),m=n("LlB7"),v=n("ygVz"),b=n("sdsU"),y=n.n(b),w=n("/lV4"),x=n("/FJ/");const k=[...x.a,"project","group"],O={...x.b,project:Object(w.a)("Project"),group:Object(w.a)("Group")};var S={apollo:{savedReplies:{query:y.a,manual:!0,result({data:e,loading:t}){t||(this.savedReplies=e)},variables(){const e=document.body.dataset.groupFullPath,t=document.body.dataset.projectFullPath;return{groupPath:e,hideGroup:!e,projectPath:t,hideProject:!t}},skip(){return!this.shouldFetchCommentTemplates}}},components:{GlButton:o.a,GlModal:s.a,GlSearchBoxByType:a.a,GlSkeletonLoader:l.a,GlTruncate:c.a,GlDisclosureDropdown:d.a,GlDisclosureDropdownGroup:u.a},directives:{GlTooltip:p.a},mixins:[v.a.mixin(),g.a],props:{newCommentTemplatePaths:{type:Array,required:!0}},data:()=>({shouldFetchCommentTemplates:!1,savedReplies:{},commentTemplateSearch:""}),computed:{allSavedReplies(){var e=this;return k.map((function(t){var n;return{name:O[t],items:((null===(n=e.savedReplies[t])||void 0===n||null===(n=n.savedReplies)||void 0===n?void 0:n.nodes)||[]).map((function(e){return{value:e.id,text:e.name,content:e.content}}))}}))},filteredSavedReplies(){var e=this;let t=this.allSavedReplies;return this.commentTemplateSearch&&(t=t.map((function(t){return{...t,items:f.a.filter(t.items,e.commentTemplateSearch,{key:["text"]})}})).filter((function({items:e}){return e.length}))),t.filter((function({items:e}){return e.length}))},modalId:()=>r()("insert-comment-template-modal-")},methods:{onSelect(e){const t=Boolean(Object(m.b)({endpoint:window.location}).id);this.$emit("select",e.content),this.trackEvent(x.d),this.trackEvent(t?x.e:x.f),this.shouldFetchCommentTemplates=!1},toggleModal(){this.shouldFetchCommentTemplates=!this.shouldFetchCommentTemplates}}},_=n("tBpV"),M=Object(_.a)(S,(function(){var e=this,t=e._self._c;return t("span",[t("gl-modal",{ref:"modal",attrs:{title:e.__("Select a comment template"),scrollable:"","modal-id":e.modalId,"modal-class":"comment-templates-modal"},scopedSlots:e._u([{key:"modal-footer",fn:function(){return[t("gl-disclosure-dropdown",{attrs:{items:e.newCommentTemplatePaths,"toggle-text":e.__("Manage comment templates"),placement:"bottom-end","fluid-width":"","data-testid":"manage-dropdown"},scopedSlots:e._u([{key:"header",fn:function(){return[t("div",{staticClass:"gl-min-h-8 gl-border-b-1 gl-border-b-dropdown !gl-p-4 gl-text-sm gl-font-bold gl-border-b-solid"},[e._v("\n            "+e._s(e.__("Manage"))+"\n          ")])]},proxy:!0}])})]},proxy:!0}]),model:{value:e.shouldFetchCommentTemplates,callback:function(t){e.shouldFetchCommentTemplates=t},expression:"shouldFetchCommentTemplates"}},[t("gl-search-box-by-type",{ref:"searchInput",attrs:{placeholder:e.__("Search comment templates")},on:{keydown:e.onKeydown},model:{value:e.commentTemplateSearch,callback:function(t){e.commentTemplateSearch=t},expression:"commentTemplateSearch"}}),e._v(" "),e.$apollo.queries.savedReplies.loading?t("gl-skeleton-loader",{staticClass:"gl-mt-3"}):[e.filteredSavedReplies.length?t("ul",{ref:"resultsList",staticClass:"comment-templates-options gl-m-0 gl-list-none gl-p-0",attrs:{"data-testid":"comment-templates-list"},on:{keydown:e.onKeydown}},e._l(e.filteredSavedReplies,(function(n,i){return t("gl-disclosure-dropdown-group",{key:n.name,class:{"!gl-mt-0 !gl-border-t-0 gl-pt-0":0===i},attrs:{group:n,bordered:""},on:{action:e.onSelect},scopedSlots:e._u([{key:"list-item",fn:function({item:n}){return[t("strong",{staticClass:"gl-block gl-w-full"},[e._v(e._s(n.text))]),e._v(" "),t("gl-truncate",{staticClass:"gl-mt-2 gl-text-subtle",attrs:{text:n.content,position:"end"}})]}}],null,!0)})})),1):t("section",{staticClass:"gl-mt-3"},[e._v("\n        "+e._s(e.__("No comment templates found."))+"\n      ")])]],2),e._v(" "),t("gl-button",{directives:[{name:"gl-tooltip",rawName:"v-gl-tooltip"}],staticClass:"js-comment-template-toggle",attrs:{title:e.__("Insert comment template"),"aria-label":e.__("Insert comment template"),category:"tertiary",size:"small",icon:"comment-lines","data-testid":"comment-templates-dropdown-toggle"},on:{click:e.toggleModal}})],1)}),[],!1,null,null,null);t.a=M.exports},IeAI:function(e,t,n){"use strict";var i=n("jqx9"),r=n.n(i),o=n("VNnR"),s=n.n(o),a=n("Tmea"),l=n.n(a),c=(n("3UXl"),n("iyoE"),n("ZzK0"),n("z6RN"),n("BzOf"),n("d85j")),d=n("zIFf"),u=n("EmJ/"),p=n.n(u),h=n("jlnU"),f=n("FVJN"),g=n("Mp8J"),m=n("2ibD"),v=n("0AwG"),b=n("/lV4"),y=n("KAYR"),w=n("EJYk"),x=n("5c3i"),k=n("0ENF"),O=(n("B++/"),n("47t/"),n("XCOs")),S=n.n(O),_=(n("v2fZ"),n("bTte"),n("yN/U")),M=n("CbCZ"),E=n("hvGG"),C=n("LpoP"),A=n("d08M"),j=n("sHIo"),T=n("xPX6"),P=n("NmEs"),N=n("3E4U"),R=n("tXF7"),L=n("7KkO"),B=n("B3Hj"),I={components:{GlButton:M.a},directives:{GlTooltip:d.a},props:{buttonTitle:{type:String,required:!0},icon:{type:String,required:!0},tag:{type:String,required:!1,default:""},tagBlock:{type:String,required:!1,default:""},tagSelect:{type:String,required:!1,default:""},prepend:{type:Boolean,required:!1,default:!1},tagContent:{type:String,required:!1,default:""},cursorOffset:{type:Number,required:!1,default:0},command:{type:String,required:!1,default:""},shortcuts:{type:[String,Array],required:!1,default:function(){return[]}},trackingProperty:{type:String,required:!1,default:null}},computed:{shortcutsString(){const e=Array.isArray(this.shortcuts)?this.shortcuts:[this.shortcuts];return JSON.stringify(e)},trackingProps(){const{trackingProperty:e}=this;return e?{"data-track-action":B.b,"data-track-label":B.a,"data-track-property":e}:{}}}},D=n("tBpV"),$=Object(D.a)(I,(function(){var e=this;return(0,e._self._c)("gl-button",e._b({directives:[{name:"gl-tooltip",rawName:"v-gl-tooltip"}],staticClass:"js-md gl-mr-2",attrs:{"data-md-tag":e.tag,"data-md-cursor-offset":e.cursorOffset,"data-md-select":e.tagSelect,"data-md-block":e.tagBlock,"data-md-tag-content":e.tagContent,"data-md-prepend":e.prepend,"data-md-shortcuts":e.shortcutsString,"data-md-command":e.command,title:e.buttonTitle,"aria-label":e.buttonTitle,icon:e.icon,type:"button",category:"tertiary",size:"small","data-container":"body"},on:{click:function(t){return e.$emit("click",t)}}},"gl-button",e.trackingProps,!1))}),[],!1,null,null,null).exports,H=n("Ak1V");const q=function({textArea:e,markdownPreviewPath:t,uploadsPath:n}){return{getDiagram:async function(){const n=await Object(R.f)(e,t);if(!n)return null;const{imageURL:i,imageMarkdown:r,filename:o}=n,s=await m.a.get(i,{responseType:"text"});return{diagramURL:i,diagramMarkdown:r,filename:o,diagramSvg:s.data,contentType:s.headers["content-type"]}},updateDiagram:function({uploadResults:t,diagramMarkdown:n}){e.focus(),e.value=e.value.replace(n,t.link.markdown),e.dispatchEvent(new Event("input"))},insertDiagram:function({uploadResults:t}){e.focus();const n=e.value,i=n.substring(e.selectionStart,e.selectionEnd);Object(R.c)({textArea:e,text:n,tag:t.link.markdown,selected:i})},uploadDiagram:async function({filename:e,diagramSvg:t}){const i=new Blob([t],{type:"image/svg+xml"}),r=new FormData;r.append("file",i,e);return(await m.a.post(n,r)).data}}};var F={components:{GlButton:M.a},directives:{GlTooltip:d.a},props:{uploadsPath:{type:String,required:!0},markdownPreviewPath:{type:String,required:!0}},methods:{getTextArea:()=>document.querySelector(".js-gfm-input"),launchDrawioEditor(){Object(H.a)({editorFacade:q({uploadsPath:this.uploadsPath,textArea:this.getTextArea(),markdownPreviewPath:this.markdownPreviewPath})})}}},z=Object(D.a)(F,(function(){return(0,this._self._c)("gl-button",{directives:[{name:"gl-tooltip",rawName:"v-gl-tooltip"}],attrs:{title:this.__("Insert or edit diagram"),"aria-label":this.__("Insert or edit diagram"),category:"tertiary",icon:"diagram",size:"small"},on:{click:this.launchDrawioEditor}})}),[],!1,null,null,null).exports,G=n("Hcvv"),U=n("EP76"),V=n("o4PY"),K=n.n(V),W=n("2TqH"),X=n("4Qts"),Z=n("ygVz");n("LdIe"),n("PTOk"),n("86Lb");const J=/^(\s*)(\|(.+?\|)+)\s*$/,Q=/^:?-+:?$/;function Y(e){return e.length>0&&e.every((function(e){return Q.test(e)}))}function ee(e){return e.startsWith(":")&&e.endsWith(":")?"center":e.endsWith(":")?"right":"left"}function te(e,{widths:t,alignments:n,indent:i=0}){return`${" ".repeat(i)+"|"}${e.map((function(e,i){return` ${function(e,t,n){const i=n-e.length;if(i<=0)return e;switch(t){case"right":return`${" ".repeat(i)}${e}`;case"center":{const t=Math.floor(i/2);return`${" ".repeat(t)}${e}${" ".repeat(i-t)}`}default:return`${e}${" ".repeat(i)}`}}(e,n[i]||"left",t[i])} `})).join("|")}|\n`}function ne(e,t,n){0===n&&e.length>0&&e.unshift(new Array(t.length).fill(""))}function ie(e,t,n=0){if(!e.length)return"";const i=function(e){if(!e.length)return[];const t=new Array(e[0].length).fill(0);for(const n of e)for(let e=0;e<n.length;e+=1)void 0===t[e]&&t.push(0),t[e]=Math.max(t[e],n[e].length);return t}(e);let r="";if(t.length<i.length)for(let e=t.length;e<i.length;e+=1)t.push("left");for(let t=0;t<e.length;t+=1)if(e[t].length<i.length)for(let n=e[t].length;n<i.length;n+=1)e[t].push("");r+=te(e[0],{widths:i,alignments:t,indent:n}),r+=function({alignments:e,widths:t,indent:n=0}){return`${" ".repeat(n)+"|"}${e.map((function(e,n){const i=t[n];let r="";"center"===e&&(r+=":");let o=2;return"right"===e&&(o=1),"center"===e&&(o=0),r+="-".repeat(i+o),"right"!==e&&"center"!==e||(r+=":"),r})).join("|")}|\n`}({alignments:t,widths:i,indent:n});for(let o=1;o<e.length;o+=1)r+=te(e[o],{widths:i,alignments:t,indent:n});return r}var re=n("1Ti1"),oe=n("FRUr"),se={components:{GlDisclosureDropdown:W.a,GlTooltip:X.a},data(){var e=this;return{isDropdownOpen:!1,toggleId:K()("dropdown-toggle-btn-"),items:[{text:Object(b.a)("Alert"),action:function(){return e.insertMarkdown("> [!NOTE]\n> {text}","alert")}},{text:Object(b.a)("Code block"),action:function(){return e.insertMarkdown("```\n{text}\n```","codeBlock")}},{text:Object(b.a)("Collapsible section"),action:function(){return e.insertMarkdown("<details>\n<summary>Click to expand</summary>\n\n{text}\n\n</details>","details")}},{text:Object(b.a)("Bullet list"),action:function(){return e.insertMarkdown("- {text}","bulletList")},wrapperClass:"@sm/panel:!gl-hidden"},{text:Object(b.a)("Ordered list"),action:function(){return e.insertMarkdown("1. {text}","orderedList")},wrapperClass:"@sm/panel:!gl-hidden"},{text:Object(b.a)("Task list"),action:function(){return e.insertMarkdown("- [ ] {text}","taskList")},wrapperClass:"@sm/panel:!gl-hidden"},{text:Object(b.a)("Horizontal rule"),action:function(){return e.insertMarkdown("\n---\n","horizontalRule")}},{text:Object(b.a)("Embedded view"),action:function(){return e.insertMarkdown(`\`\`\`glql\n${re.a}\n\`\`\``,"glqlView")}},{text:Object(b.a)("Mermaid diagram"),action:function(){return e.insertMarkdown(`\`\`\`mermaid\n${oe.a}\n\`\`\``,"diagram")}},{text:Object(b.a)("PlantUML diagram"),action:function(){return e.insertMarkdown(`\`\`\`plantuml\n${oe.b}\n\`\`\``,"diagram")}},{text:Object(b.a)("Table of contents"),action:function(){return e.insertMarkdown("[[_TOC_]]","tableOfContents")}},{text:Object(b.a)("Reformat table"),action:function(){return e.reformatTable("reformatTable")}}]}},methods:{getCurrentTextArea(){var e;return null===(e=this.$el.closest(".md-area"))||void 0===e?void 0:e.querySelector("textarea")},insertMarkdown(e,t){const n=this.getCurrentTextArea();n&&(Object(R.g)({textArea:n,tag:e,cursorOffset:0,wrap:!1}),Z.b.event(void 0,B.b,{label:B.a,property:t}))},reformatTable(e){const t=this.getCurrentTextArea();if(!t)return;const n=function(e){if(!e)return"";const t=e.split(/\r?\n/);let n="",i=null;for(let e=0;e<t.length;e+=1){const r=t[e],o=r.match(J);if(o){const e=o[1].length,t=o[2].replace(/\|\s*/g,"| ").trim().split("|").map((function(e){return e.trim()})).slice(1,-1);i||(i={rows:[],alignments:null,indent:e,headerRowIndex:-1}),Y(t)?(i.alignments=t.map((function(e){return ee(e)})),i.headerRowIndex=i.rows.length):i.rows.push(t)}else{if(i){if(!i.alignments)return"";{const{rows:e,alignments:t,indent:r,headerRowIndex:o}=i;ne(e,t,o),n+=ie(e,t,r)}}i=null,n+=r+"\n"}}if(i&&i.alignments){const{rows:e,alignments:t,indent:r,headerRowIndex:o}=i;ne(e,t,o),n+=ie(e,t,r)}return n.endsWith("\n")?n.substring(0,n.length-1):n}(t.value.substring(t.selectionStart,t.selectionEnd));Object(R.g)({textArea:t,tag:n,cursorOffset:0,wrap:!1,replaceText:!0}),Z.b.event(void 0,B.b,{label:B.a,property:e})}}},ae=Object(D.a)(se,(function(){var e=this,t=e._self._c;return t("div",{staticClass:"gl-inline-flex gl-align-middle"},[t("gl-disclosure-dropdown",{attrs:{id:"toolbar-more-dropdown",items:e.items,"toggle-id":e.toggleId,size:"small",category:"tertiary",icon:"plus","toggle-text":e.__("More options"),"text-sr-only":"",right:""},on:{shown:function(t){e.isDropdownOpen=!0},hidden:function(t){e.isDropdownOpen=!1}},scopedSlots:e._u([{key:"list-item",fn:function({item:t}){return[e._v("\n      "+e._s(t.text)+"\n    ")]}}])}),e._v(" "),e.isDropdownOpen?e._e():t("gl-tooltip",{attrs:{target:e.toggleId,placement:"top"}},[e._v("\n    "+e._s(e.__("More options"))+"\n  ")])],1)}),[],!1,null,null,null).exports,le={findAndReplace:{highlightColor:C.tb,highlightColorActive:C.sb,highlightClass:"js-highlight",highlightClassActive:"js-highlight-active"},components:{ToolbarButton:$,ToolbarTableButton:L.a,GlPopover:_.a,GlButton:M.a,GlFormInput:E.a,DrawioToolbarButton:z,CommentTemplatesModal:G.a,AiActionsDropdown:function(){return n.e("db16192b").then(n.bind(null,"sBhC"))},HeaderDivider:U.a,SummarizeCodeChanges:function(){return n.e("2358d68e").then(n.bind(null,"f7Oq"))},ToolbarMoreDropdown:ae},directives:{GlTooltip:d.a},mixins:[Object(j.a)()],inject:{newCommentTemplatePaths:{default:function(){return[]}},mrGeneratedContent:{default:null},canSummarizeChanges:{default:!1},summarizeDisabledReason:{default:null},canUseComposer:{default:!1},legacyEditorAiActions:{default:function(){return[]}}},props:{editorAiActions:{type:Array,required:!1,default:function(){return[]}},previewMarkdown:{type:Boolean,required:!0},lineContent:{type:String,required:!1,default:""},canSuggest:{type:Boolean,required:!1,default:!0},showSuggestPopover:{type:Boolean,required:!1,default:!1},suggestionStartIndex:{type:Number,required:!1,default:0},enablePreview:{type:Boolean,required:!1,default:!0},restrictedToolBarItems:{type:Array,required:!1,default:function(){return[]}},uploadsPath:{type:String,required:!1,default:""},markdownPreviewPath:{type:String,required:!1,default:""},newCommentTemplatePathsProp:{type:Array,required:!1,default:function(){return[]}},drawioEnabled:{type:Boolean,required:!1,default:!1},supportsQuickActions:{type:Boolean,required:!1,default:!1},immersive:{type:Boolean,required:!1,default:!1}},data(){const e=Object(T.i)();return{tag:"> ",suggestPopoverVisible:!1,findAndReplace:{find:"",replace:"",shouldShowBar:!1,shouldShowReplaceInput:!1,totalMatchCount:0,highlightedMatchIndex:0},modifierKey:e,shiftKey:"⌘"===e?"⇧":"Shift+"}},computed:{aiActions(){return this.editorAiActions.length>0?this.editorAiActions:this.legacyEditorAiActions},commentTemplatePaths(){return this.newCommentTemplatePaths.length>0?this.newCommentTemplatePaths:this.newCommentTemplatePathsProp},mdSuggestion(){const e=Object(R.e)(this.lineContent);return[`${e}suggestion:-${this.suggestionStartIndex}+0`,"{text}",e].join("\n")},hideDividerBeforeTable(){return this.previewMarkdown||this.restrictedToolBarItems.includes("table")&&this.restrictedToolBarItems.includes("attach-file")&&!this.drawioEnabled&&!this.supportsQuickActions&&!this.commentTemplatePaths.length},showFindAndReplaceButton(){return this.glFeatures.findAndReplace&&!this.restrictedToolBarItems.includes("find-and-replace")},findAndReplace_ToggleIcon(){return this.findAndReplace.shouldShowReplaceInput?"chevron-down":"chevron-right"},findAndReplace_MatchCountText(){return this.findAndReplace.totalMatchCount?Object(b.j)(Object(b.i)("MarkdownEditor|%{currentHighlight} of %{totalHighlights}"),{currentHighlight:this.findAndReplace.highlightedMatchIndex,totalHighlights:this.findAndReplace.totalMatchCount}):Object(b.i)("MarkdownEditor|No records")},previewToggleTooltip(){return Object(b.j)(this.previewMarkdown?Object(b.i)("MarkdownEditor|Continue editing (%{shiftKey}%{modifierKey}P)"):Object(b.i)("MarkdownEditor|Preview (%{shiftKey}%{modifierKey}P)"),{shiftKey:this.shiftKey,modifierKey:this.modifierKey})},indentButtonText(){return Object(b.j)(Object(b.i)("MarkdownEditor|Indent line (%{modifierKey}])"),{modifierKey:this.modifierKey})},outdentButtonText(){return Object(b.j)(Object(b.i)("MarkdownEditor|Outdent line (%{modifierKey}[)"),{modifierKey:this.modifierKey})},boldButtonText(){return Object(b.j)(Object(b.i)("MarkdownEditor|Add bold text (%{modifierKey}B)"),{modifierKey:this.modifierKey})},italicButtonText(){return Object(b.j)(Object(b.i)("MarkdownEditor|Add italic text (%{modifierKey}I)"),{modifierKey:this.modifierKey})},strikethroughButtonText(){return Object(b.j)(Object(b.i)("MarkdownEditor|Add strikethrough text (%{modifierKey}%{shiftKey}X)"),{modifierKey:this.modifierKey,shiftKey:this.shiftKey})},linkButtonText(){return Object(b.j)(Object(b.i)("MarkdownEditor|Add a link (%{modifierKey}K)"),{modifierKey:this.modifierKey})}},watch:{showSuggestPopover(){this.updateSuggestPopoverVisibility()},"findAndReplace.highlightedMatchIndex":{handler(e){const t=this.$options.findAndReplace,n=this.cloneDiv.querySelector("."+t.highlightClassActive);n&&(n.classList.remove(t.highlightClassActive),n.style.backgroundColor=t.highlightColor);const i=this.cloneDiv.querySelectorAll("."+t.highlightClass).item(e-1);i&&(i.classList.add(t.highlightClassActive),i.style.backgroundColor=t.highlightColorActive)}}},mounted(){p()(document).on("markdown-preview:show.vue",this.showMarkdownPreview),p()(document).on("markdown-preview:hide.vue",this.hideMarkdownPreview),p()(document).on("markdown-editor:find-and-replace:show",this.findAndReplace_show),this.updateSuggestPopoverVisibility()},beforeDestroy(){p()(document).off("markdown-preview:show.vue",this.showMarkdownPreview),p()(document).off("markdown-preview:hide.vue",this.hideMarkdownPreview),p()(document).off("markdown-editor:find-and-replace:show",this.findAndReplace_show)},methods:{async updateSuggestPopoverVisibility(){await this.$nextTick(),this.suggestPopoverVisible=this.showSuggestPopover&&this.canSuggest},isValid(e){return!e||e.find(".js-vue-markdown-field").length&&p()(this.$el).closest("form")[0]===e[0]},showMarkdownPreview(e,t){this.isValid(t)&&this.$emit("showPreview")},hideMarkdownPreview(e,t){this.isValid(t)&&this.$emit("hidePreview")},handleSuggestDismissed(){this.$emit("handleSuggestDismissed")},handleQuote(){const e=Object(P.m)();if(!e||!e.textContent)return void(this.tag="> ");this.tag="";const t=N.a.transformGFMSelection(e),n=this.$el.parentNode.querySelector("textarea");N.a.nodeToGFM(t).then((function(t){N.a.insertPastedText(n,e.textContent,N.a.quoted(t))})).catch((function(){}))},getCurrentTextArea(){var e;return null===(e=this.$el.closest(".md-area"))||void 0===e?void 0:e.querySelector("textarea")},insertIntoTextarea(e){const t=this.getCurrentTextArea();t&&Object(R.g)({textArea:t,tag:e,cursorOffset:0,wrap:!1})},insertTable({rows:e,cols:t}){const n=Object(b.i)("MarkdownEditor|header"),i="-".repeat(n.length),r=" ".repeat(n.length),o=["|"+` ${n} |`.repeat(t),"|"+` ${i} |`.repeat(t)];for(let n=0;n<e;n+=1)o.push((s=t,"|"+` ${r} |`.repeat(s)));var s;this.insertIntoTextarea(o.join("\n"))},replaceTextarea(e){const{description:t,descriptionForSha:n}=this.$options.i18n,i=document.getElementById("merge_request_diff_head_sha").value,r=i?Object(b.j)(n,{revision:Object(v.G)(i)}):t;this.mrGeneratedContent&&(this.mrGeneratedContent.setGeneratedContent(`${e}\n\n---\n\n_${r}_`),this.mrGeneratedContent.showWarning())},switchPreview(){this.previewMarkdown?this.hideMarkdownPreview():this.showMarkdownPreview()},insertAIAction(e){this.insertIntoTextarea(`${e}\n\n---\n\n_${Object(b.a)("This comment was generated by AI")}_`)},insertSavedReply(e){var t=this;this.insertIntoTextarea(e),setTimeout((function(){var e;null===(e=t.$el.closest(".md-area"))||void 0===e||null===(e=e.querySelector("textarea"))||void 0===e||e.focus()}),500)},findAndReplace_show(e,t){this.isValid(t)&&(this.findAndReplace.shouldShowBar=!0)},findAndReplace_close(){var e,t;this.findAndReplace.shouldShowBar=!1,null===(e=this.getCurrentTextArea())||void 0===e||e.removeEventListener("scroll",this.findAndReplace_syncScroll),null===(t=this.cloneDiv)||void 0===t||t.parentElement.removeChild(this.cloneDiv),this.cloneDiv=void 0},findAndReplace_handleKeyDown(e){"Enter"===e.key?e.preventDefault():"Escape"===e.key&&this.findAndReplace_close()},findAndReplace_handleKeyUp(e){"Enter"===e.key?this.findAndReplace_handleNext():this.findAndReplace_highlightMatchingText(e.target.value)},findAndReplace_syncScroll(){const e=this.getCurrentTextArea();this.cloneDiv.scrollTop=e.scrollTop},findAndReplace_safeReplace(e,t){var n=this;if(this.findAndReplace.totalMatchCount=0,this.findAndReplace.highlightedMatchIndex=0,!t)return;const i=(RegExp.escape||S.a).call(null,t),r=new RegExp(i,"g"),o=e.value.split(new RegExp(`(${i})`,"g")),s=this.$options.findAndReplace;this.cloneDiv.innerHTML="";let a=0;o.forEach((function(e){if(r.test(e)){const t=document.createElement("span");t.classList.add(s.highlightClass),t.style.backgroundColor=s.highlightColor,t.style.display="inline-block",t.textContent=e,0===a&&(t.classList.add(s.highlightClassActive),t.style.backgroundColor=s.highlightColorActive),n.cloneDiv.appendChild(t),n.findAndReplace.totalMatchCount+=1,a+=1}else{const t=document.createTextNode(e);n.cloneDiv.appendChild(t)}})),this.findAndReplace.totalMatchCount>0&&(this.findAndReplace.highlightedMatchIndex=1)},async findAndReplace_highlightMatchingText(e){const t=this.getCurrentTextArea();t&&(t.style.position="relative",t.style.zIndex=2,await this.findAndReplace_attachCloneDivIfNotExists(t),this.findAndReplace_safeReplace(t,e))},async findAndReplace_attachCloneDivIfNotExists(e){var t=this;if(this.cloneDiv)return;this.cloneDiv=document.createElement("div"),this.cloneDiv.dataset.testid="find-and-replace-clone",this.cloneDiv.textContent=e.value;const n=window.getComputedStyle(e);["width","height","padding","border","font-family","font-size","line-height","background-color","color","overflow","white-space","word-wrap","resize","margin"].forEach((function(e){t.cloneDiv.style[e]=n[e]})),this.cloneDiv.style.whiteSpace="pre-wrap",this.cloneDiv.style.overflowY="auto",this.cloneDiv.style.position="absolute",this.cloneDiv.style.zIndex=1,this.cloneDiv.style.color="transparent",e.addEventListener("scroll",this.findAndReplace_syncScroll),e.parentElement.insertBefore(this.cloneDiv,e),await this.$nextTick(),this.cloneDiv.scrollTop=e.scrollTop},findAndReplace_handlePrev(){this.findAndReplace.highlightedMatchIndex-=1,this.findAndReplace.highlightedMatchIndex<=0&&(this.findAndReplace.highlightedMatchIndex=this.findAndReplace.totalMatchCount)},findAndReplace_handleNext(){this.findAndReplace.highlightedMatchIndex+=1,this.findAndReplace.highlightedMatchIndex>this.findAndReplace.totalMatchCount&&(this.findAndReplace.highlightedMatchIndex=1)},findAndReplace_replaceNext(){const e=this.getCurrentTextArea();if(!e)return;const t=function(e,t,n){let i=-1;for(let r=0;r<n;r+=1)if(i=e.indexOf(t,i+1),-1===i)return-1;return i}(e.value,this.findAndReplace.find,this.findAndReplace.highlightedMatchIndex);e.setSelectionRange(t,t+this.findAndReplace.find.length),Object(P.q)(e,this.findAndReplace.replace),this.findAndReplace_highlightMatchingText(this.findAndReplace.find)},skipToInput(){var e;null===(e=this.$el.closest(".md-area"))||void 0===e||null===(e=e.querySelector("textarea"))||void 0===e||e.focus()}},shortcuts:{bold:Object(A.Gb)(A.a),italic:Object(A.Gb)(A.R),strikethrough:Object(A.Gb)(A.xb),link:Object(A.Gb)(A.S),indent:Object(A.Gb)(A.H),outdent:Object(A.Gb)(A.hb),findAndReplace:Object(A.Gb)(A.c)},i18n:{comment:Object(b.a)("This comment was generated by AI"),description:Object(b.i)("MergeRequest|This description was generated using AI"),descriptionForSha:Object(b.i)("MergeRequest|This description was generated for revision %{revision} using AI"),hidePreview:Object(b.a)("Continue editing"),preview:Object(b.a)("Preview"),editorToolbar:Object(b.a)("Editor toolbar")}},ce=Object(D.a)(le,(function(){var e=this,t=e._self._c;return t("div",{staticClass:"md-header gl-border-b gl-z-2 gl-rounded-lg gl-rounded-b-none gl-border-default gl-px-3",class:{"md-header-preview":e.previewMarkdown}},[e.previewMarkdown?e._e():t("gl-button",{staticClass:"gl-sr-only !gl-absolute gl-left-3 gl-top-3 focus:gl-not-sr-only",attrs:{"data-testid":"skip-to-input",size:"small",category:"primary",variant:"confirm"},on:{click:e.skipToInput}},[e._v(e._s(e.__("Skip to input")))]),e._v(" "),t("div",{staticClass:"gl-flex gl-flex-wrap gl-items-center"},[t("div",{staticClass:"md-header-toolbar gl-flex gl-grow gl-items-start gl-gap-y-2 gl-py-3",class:{"gl-pt-0":e.immersive},attrs:{"data-testid":"md-header-toolbar"}},[t("div",{staticClass:"gl-flex gl-grow gl-flex-wrap gl-gap-y-2",attrs:{role:"toolbar","aria-label":e.$options.i18n.editorToolbar}},[e.enablePreview?t("gl-button",{directives:[{name:"gl-tooltip",rawName:"v-gl-tooltip"}],staticClass:"js-md-preview-button gl-flex-row-reverse gl-items-center !gl-font-normal",attrs:{"data-testid":"preview-toggle",value:e.previewMarkdown?"preview":"edit",title:e.previewToggleTooltip,label:e.$options.i18n.previewTabTitle,size:"small",category:"tertiary"},on:{click:e.switchPreview}},[e._v(e._s(e.previewMarkdown?e.$options.i18n.hidePreview:e.$options.i18n.preview))]):e._e(),e._v(" "),!e.previewMarkdown&&e.canSuggest?[t("div",{staticClass:"gl-flex gl-gap-y-2"},[e.previewMarkdown?e._e():t("header-divider"),e._v(" "),t("toolbar-button",{ref:"suggestButton",staticClass:"js-suggestion-btn",attrs:{tag:e.mdSuggestion,prepend:!0,"button-title":e.s__("MarkdownEditor|Insert suggestion"),"cursor-offset":4,"tag-content":e.lineContent,"tracking-property":"codeSuggestion",icon:"doc-code","data-testid":"suggestion-button"},on:{click:e.handleSuggestDismissed}}),e._v(" "),e.suggestPopoverVisible?t("gl-popover",{attrs:{target:function(){return e.$refs.suggestButton&&e.$refs.suggestButton.$el},"css-classes":["diff-suggest-popover"],placement:"bottom",show:e.suggestPopoverVisible,triggers:""}},[t("strong",[e._v(e._s(e.s__("MarkdownEditor|New! Suggest changes directly")))]),e._v(" "),t("p",{staticClass:"!gl-mb-3"},[e._v("\n                "+e._s(e.s__("MarkdownEditor|Suggest code changes which can be immediately applied in one click. Try it out!"))+"\n              ")]),e._v(" "),t("gl-button",{attrs:{variant:"confirm",category:"primary",size:"small","data-testid":"dismiss-suggestion-popover-button"},on:{click:e.handleSuggestDismissed}},[e._v("\n                "+e._s(e.__("Got it"))+"\n              ")])],1):e._e()],1)]:e._e(),e._v(" "),t("div",{staticClass:"gl-flex gl-gap-y-2"},[!e.previewMarkdown&&e.aiActions.length?t("div",{staticClass:"gl-flex gl-gap-y-2"},[e.previewMarkdown?e._e():t("header-divider"),e._v(" "),t("ai-actions-dropdown",{attrs:{actions:e.aiActions},on:{input:e.insertAIAction,replace:e.replaceTextarea}})],1):e._e(),e._v(" "),e.enablePreview&&!e.previewMarkdown?t("header-divider"):e._e()],1),e._v(" "),t("toolbar-button",{directives:[{name:"show",rawName:"v-show",value:!e.previewMarkdown,expression:"!previewMarkdown"}],attrs:{tag:"**","button-title":e.boldButtonText,shortcuts:e.$options.shortcuts.bold,icon:"bold","tracking-property":"bold"}}),e._v(" "),t("toolbar-button",{directives:[{name:"show",rawName:"v-show",value:!e.previewMarkdown,expression:"!previewMarkdown"}],attrs:{tag:"_","button-title":e.italicButtonText,shortcuts:e.$options.shortcuts.italic,icon:"italic","tracking-property":"italic"}}),e._v(" "),t("div",{staticClass:"gl-flex gl-gap-y-2"},[e.restrictedToolBarItems.includes("strikethrough")?e._e():t("toolbar-button",{directives:[{name:"show",rawName:"v-show",value:!e.previewMarkdown,expression:"!previewMarkdown"}],attrs:{tag:"~~","button-title":e.strikethroughButtonText,shortcuts:e.$options.shortcuts.strikethrough,icon:"strikethrough","tracking-property":"strike"}}),e._v(" "),e.previewMarkdown?e._e():t("header-divider")],1),e._v(" "),e.restrictedToolBarItems.includes("quote")?e._e():t("toolbar-button",{directives:[{name:"show",rawName:"v-show",value:!e.previewMarkdown,expression:"!previewMarkdown"}],attrs:{prepend:!0,tag:e.tag,"button-title":e.s__("MarkdownEditor|Insert a quote"),icon:"quote","tracking-property":"blockquote"},on:{click:e.handleQuote}}),e._v(" "),e.restrictedToolBarItems.includes("code")?e._e():t("toolbar-button",{directives:[{name:"show",rawName:"v-show",value:!e.previewMarkdown,expression:"!previewMarkdown"}],attrs:{tag:"`","tag-block":"```","button-title":e.s__("MarkdownEditor|Insert code"),icon:"code","tracking-property":"code"}}),e._v(" "),t("toolbar-button",{directives:[{name:"show",rawName:"v-show",value:!e.previewMarkdown,expression:"!previewMarkdown"}],attrs:{tag:"[{text}](url)","tag-select":"url","button-title":e.linkButtonText,shortcuts:e.$options.shortcuts.link,icon:"link","tracking-property":"link"}}),e._v(" "),e.restrictedToolBarItems.includes("bullet-list")?e._e():t("toolbar-button",{directives:[{name:"show",rawName:"v-show",value:!e.previewMarkdown,expression:"!previewMarkdown"}],attrs:{prepend:!0,tag:"- ","button-title":e.s__("MarkdownEditor|Add a bullet list"),icon:"list-bulleted","tracking-property":"bulletList"}}),e._v(" "),e.restrictedToolBarItems.includes("numbered-list")?e._e():t("toolbar-button",{directives:[{name:"show",rawName:"v-show",value:!e.previewMarkdown,expression:"!previewMarkdown"}],attrs:{prepend:!0,tag:"1. ","button-title":e.s__("MarkdownEditor|Add a numbered list"),icon:"list-numbered","tracking-property":"orderedList"}}),e._v(" "),e.restrictedToolBarItems.includes("task-list")?e._e():t("toolbar-button",{directives:[{name:"show",rawName:"v-show",value:!e.previewMarkdown,expression:"!previewMarkdown"}],attrs:{prepend:!0,tag:"- [ ] ","button-title":e.s__("MarkdownEditor|Add a checklist"),icon:"list-task","tracking-property":"taskList"}}),e._v(" "),e.restrictedToolBarItems.includes("indent")?e._e():t("toolbar-button",{directives:[{name:"show",rawName:"v-show",value:!e.previewMarkdown,expression:"!previewMarkdown"}],staticClass:"gl-hidden",attrs:{"button-title":e.indentButtonText,shortcuts:e.$options.shortcuts.indent,command:"indentLines",icon:"list-indent","tracking-property":"indent"}}),e._v(" "),e.restrictedToolBarItems.includes("outdent")?e._e():t("toolbar-button",{directives:[{name:"show",rawName:"v-show",value:!e.previewMarkdown,expression:"!previewMarkdown"}],staticClass:"gl-hidden",attrs:{"button-title":e.outdentButtonText,shortcuts:e.$options.shortcuts.outdent,command:"outdentLines",icon:"list-outdent","tracking-property":"outdent"}}),e._v(" "),t("div",{staticClass:"gl-flex gl-gap-y-2"},[e.hideDividerBeforeTable?e._e():t("header-divider"),e._v(" "),e.restrictedToolBarItems.includes("table")?e._e():t("toolbar-table-button",{directives:[{name:"show",rawName:"v-show",value:!e.previewMarkdown,expression:"!previewMarkdown"}],on:{"insert-table":e.insertTable}})],1),e._v(" "),t("toolbar-button",{directives:[{name:"show",rawName:"v-show",value:!e.previewMarkdown&&!e.restrictedToolBarItems.includes("attach-file"),expression:"!previewMarkdown && !restrictedToolBarItems.includes('attach-file')"}],staticClass:"gl-mr-2",attrs:{"data-testid":"button-attach-file","data-button-type":"attach-file","button-title":e.s__("MarkdownEditor|Attach a file or image"),icon:"paperclip","tracking-property":"upload"}}),e._v(" "),!e.previewMarkdown&&e.drawioEnabled?t("drawio-toolbar-button",{attrs:{"uploads-path":e.uploadsPath,"markdown-preview-path":e.markdownPreviewPath}}):e._e(),e._v(" "),e.supportsQuickActions?t("toolbar-button",{directives:[{name:"show",rawName:"v-show",value:!e.previewMarkdown,expression:"!previewMarkdown"}],attrs:{prepend:!0,tag:"/","button-title":e.s__("MarkdownEditor|Add a quick action"),icon:"quick-actions","tracking-property":"quickAction"}}):e._e(),e._v(" "),e.previewMarkdown?e._e():t("div",{staticClass:"gl-flex gl-gap-y-2"},[t("header-divider"),e._v(" "),!e.previewMarkdown&&e.commentTemplatePaths.length?t("comment-templates-modal",{attrs:{"new-comment-template-paths":e.commentTemplatePaths},on:{select:e.insertSavedReply}}):e._e(),e._v(" "),t("toolbar-more-dropdown")],1),e._v(" "),e.previewMarkdown||!e.canSummarizeChanges||e.canUseComposer?e._e():[t("header-divider"),e._v(" "),t("summarize-code-changes",{attrs:{"disabled-reason":e.summarizeDisabledReason}})],e._v(" "),e.previewMarkdown?e._e():e._t("header-buttons")],2),e._v(" "),e.previewMarkdown?e._e():t("div",{staticClass:"full-screen gl-flex gl-justify-end",class:{"gl-grow":!e.immersive,"gl-py-2":e.immersive}},[e.restrictedToolBarItems.includes("full-screen")?e._e():t("toolbar-button",{staticClass:"js-zen-enter !gl-mr-0",attrs:{icon:"maximize","button-title":e.s__("MarkdownEditor|Go full screen"),prepend:!0,"tracking-property":"fullScreen"}})],1),e._v(" "),e.showFindAndReplaceButton?t("toolbar-button",{directives:[{name:"show",rawName:"v-show",value:!e.previewMarkdown,expression:"!previewMarkdown"}],staticClass:"gl-hidden",attrs:{"button-title":e.s__("MarkdownEditor|Find and replace"),shortcuts:e.$options.shortcuts.findAndReplace,icon:"retry"}}):e._e()],1)]),e._v(" "),e.findAndReplace.shouldShowBar?t("div",{staticClass:"gl-border gl-absolute gl-right-0 gl-z-3 gl-flex gl-items-baseline gl-rounded-bl-base gl-border-r-0 gl-bg-section gl-p-3 gl-shadow-sm",attrs:{"data-testid":"find-and-replace"}},[t("div",{staticClass:"gl-mr-3"},[t("gl-button",{attrs:{category:"tertiary",size:"small","data-testid":"replace-toggle","aria-controls":"replace-section","aria-expanded":e.findAndReplace.shouldShowReplaceInput,icon:e.findAndReplace_ToggleIcon,"aria-label":e.s__("MarkdownEditor|Toggle section")},on:{click:function(t){e.findAndReplace.shouldShowReplaceInput=!e.findAndReplace.shouldShowReplaceInput}}})],1),e._v(" "),t("div",[t("gl-form-input",{staticClass:"gl-min-w-36 gl-mb-3",attrs:{placeholder:e.s__("MarkdownEditor|Find"),autofocus:"","data-testid":"find-input"},on:{keydown:e.findAndReplace_handleKeyDown,keyup:e.findAndReplace_handleKeyUp},model:{value:e.findAndReplace.find,callback:function(t){e.$set(e.findAndReplace,"find",t)},expression:"findAndReplace.find"}}),e._v(" "),e.findAndReplace.shouldShowReplaceInput?t("div",{attrs:{"aria-describedby":"replace-section"}},[t("gl-form-input",{staticClass:"gl-mb-3",attrs:{placeholder:e.s__("MarkdownEditor|Replace"),"data-testid":"replace-input"},model:{value:e.findAndReplace.replace,callback:function(t){e.$set(e.findAndReplace,"replace",t)},expression:"findAndReplace.replace"}}),e._v(" "),t("gl-button",{on:{click:e.findAndReplace_replaceNext}},[e._v("\n          "+e._s(e.s__("MarkdownEditor|Replace"))+"\n        ")])],1):e._e()],1),e._v(" "),t("div",{staticClass:"gl-ml-4 gl-min-w-12 gl-whitespace-nowrap",attrs:{"data-testid":"find-and-replace-matches"}},[e._v("\n      "+e._s(e.findAndReplace_MatchCountText)+"\n    ")]),e._v(" "),t("div",{staticClass:"gl-ml-2"},[t("gl-button",{attrs:{category:"tertiary",icon:"arrow-up",size:"small","data-testid":"find-prev","aria-label":e.s__("MarkdownEditor|Find previous")},on:{click:e.findAndReplace_handlePrev}}),e._v(" "),t("gl-button",{attrs:{category:"tertiary",icon:"arrow-down",size:"small","data-testid":"find-next","aria-label":e.s__("MarkdownEditor|Find next")},on:{click:e.findAndReplace_handleNext}}),e._v(" "),t("gl-button",{attrs:{category:"tertiary",icon:"close",size:"small","data-testid":"find-and-replace-close","aria-label":e.s__("MarkdownEditor|Close find and replace bar")},on:{click:e.findAndReplace_close}})],1)]):e._e()],1)}),[],!1,null,null,null).exports,de=n("NnjE"),ue=n("dIEn"),pe=n("2XMn"),he={components:{GlButton:M.a,GlLoadingIcon:de.a,GlSprintf:ue.a,GlIcon:c.a,EditorModeSwitcher:pe.a},directives:{GlTooltip:d.a},props:{markdownDocsPath:{type:String,required:!0},canAttachFile:{type:Boolean,required:!1,default:!0},showCommentToolBar:{type:Boolean,required:!1,default:!0},showContentEditorSwitcher:{type:Boolean,required:!1,default:!1}},computed:{showEditorModeSwitcher(){return this.showContentEditorSwitcher}}};function fe(e){return r()(Object(v.C)(e).replace(/\\n/g,"%br").replace(/\n/g,""))}var ge={components:{MarkdownHeader:ce,MarkdownToolbar:Object(D.a)(he,(function(){var e=this,t=e._self._c;return e.showCommentToolBar?t("div",{staticClass:"comment-toolbar gl-flex gl-flex-row gl-rounded-b-lg gl-px-2",class:{"gl-items-center gl-justify-between gl-border-default":e.showContentEditorSwitcher,"gl-my-2 gl-justify-end":!e.showContentEditorSwitcher}},[e.showEditorModeSwitcher?t("editor-mode-switcher",{attrs:{size:"small",value:"markdown"},on:{switch:function(t){return e.$emit("enableContentEditor")}}}):e._e(),e._v(" "),t("div",{staticClass:"gl-flex"},[e.canAttachFile?t("div",{staticClass:"uploading-container gl-mr-3 gl-text-sm gl-leading-32"},[t("span",{staticClass:"uploading-progress-container hide"},[t("gl-icon",{attrs:{name:"paperclip"}}),e._v(" "),t("span",{staticClass:"attaching-file-message"}),e._v(" "),t("span",{staticClass:"uploading-progress"},[e._v("0%")]),e._v(" "),t("gl-loading-icon",{attrs:{size:"sm",inline:""}})],1),e._v(" "),t("span",{staticClass:"uploading-error-container hide"},[t("span",{staticClass:"uploading-error-icon"},[t("gl-icon",{attrs:{name:"paperclip"}})],1),e._v(" "),t("span",{staticClass:"uploading-error-message"}),e._v(" "),t("gl-sprintf",{attrs:{message:e.__("%{retryButtonStart}Try again%{retryButtonEnd} or %{newFileButtonStart}attach a new file%{newFileButtonEnd}.")},scopedSlots:e._u([{key:"retryButton",fn:function({content:n}){return[t("gl-button",{staticClass:"retry-uploading-link gl-align-baseline !gl-text-sm",attrs:{variant:"link",category:"primary"}},[e._v("\n              "+e._s(n)+"\n            ")])]}},{key:"newFileButton",fn:function({content:n}){return[t("gl-button",{staticClass:"markdown-selector attach-new-file gl-align-baseline !gl-text-sm",attrs:{variant:"link",category:"primary"}},[e._v("\n              "+e._s(n)+"\n            ")])]}}],null,!1,3239805150)})],1),e._v(" "),t("gl-button",{staticClass:"button-cancel-uploading-files hide gl-align-baseline !gl-text-sm",attrs:{variant:"link",category:"primary"}},[e._v("\n        "+e._s(e.__("Cancel"))+"\n      ")])],1):e._e(),e._v(" "),e._t("toolbar"),e._v(" "),e.markdownDocsPath?t("gl-button",{directives:[{name:"gl-tooltip",rawName:"v-gl-tooltip"}],staticClass:"!gl-px-3",attrs:{icon:"markdown-mark",href:e.markdownDocsPath,target:"_blank",category:"tertiary",size:"small",title:e.__("Markdown is supported"),"aria-label":e.__("Markdown is supported")}}):e._e()],2)],1):e._e()}),[],!1,null,null,null).exports,GlIcon:c.a,Suggestions:y.a},directives:{SafeHtml:g.a,GlTooltip:d.a},props:{textareaValue:{type:String,required:!0},markdownDocsPath:{type:String,required:!0},isSubmitting:{type:Boolean,required:!1,default:!1},markdownPreviewPath:{type:String,required:!1,default:""},newCommentTemplatePaths:{type:Array,required:!1,default:function(){return[]}},enablePreview:{type:Boolean,required:!1,default:!0},supportsQuickActions:{type:Boolean,required:!1,default:!1},supportsTableOfContents:{type:Boolean,required:!1,default:!1},canAttachFile:{type:Boolean,required:!1,default:!0},uploadsPath:{type:String,required:!1,default:""},enableAutocomplete:{type:Boolean,required:!1,default:!0},autocompleteDataSources:{type:Object,required:!1,default:function(){return{}}},line:{type:Object,required:!1,default:null},lines:{type:Array,required:!1,default:function(){return[]}},note:{type:Object,required:!1,default:function(){return{}}},canSuggest:{type:Boolean,required:!1,default:!1},helpPagePath:{type:String,required:!1,default:""},showSuggestPopover:{type:Boolean,required:!1,default:!1},showCommentToolBar:{type:Boolean,required:!1,default:!0},restrictedToolBarItems:{type:Array,required:!1,default:function(){return[]}},showContentEditorSwitcher:{type:Boolean,required:!1,default:!1},drawioEnabled:{type:Boolean,required:!1,default:!1},editorAiActions:{type:Array,required:!1,default:function(){return[]}},immersive:{type:Boolean,required:!1,default:!1}},data(){return{glForm:null,markdownPreview:"",referencedCommands:"",referencedUsers:[],hasSuggestion:!1,markdownPreviewLoading:!1,previewMarkdown:!1,suggestions:this.note.suggestions||[],debouncedFetchMarkdownLoading:!1}},computed:{shouldShowReferencedUsers(){return this.referencedUsers.length>=10},lineContent(){if(this.lines.length)return this.lines.map((function(e){const{rich_text:t,text:n}=e;return n||fe(t)})).join("\\n");if(this.line){const{rich_text:e,text:t}=this.line;return t||fe(e)}return""},lineType(){return this.line?this.line.type:""},addMultipleToDiscussionWarning(){return Object(b.j)(Object(b.a)("You are about to add %{usersTag} people to the discussion. They will all receive a notification."),{usersTag:`<strong><span class="js-referenced-users-count">${this.referencedUsers.length}</span></strong>`},!1)},suggestionsStartIndex(){return Math.max(this.lines.length-1,0)}},watch:{isSubmitting(e){if(!e||!this.$refs["markdown-preview"].querySelectorAll)return;const t=this.$refs["markdown-preview"].querySelectorAll("video, audio");t&&t.forEach((function(e){e.pause()}))},textareaValue:{immediate:!0,handler(e,t){this.hidePreview();const n=/@all([^\w._-]|$)/,i=n.test(e),r=n.test(t),o=r&&!i;!r&&i?(this.debouncedFetchMarkdownLoading=!1,this.debouncedFetchMarkdown()):o&&(this.debouncedFetchMarkdownLoading=!0,this.referencedUsers=[])}},enablePreview:{immediate:!0,handler(e){e||this.hidePreview()}},autocompleteDataSources:{immediate:!0,handler(e,t){!s()(e,t)&&this.glForm&&this.glForm.updateAutocompleteDataSources(e)}}},mounted(){this.glForm=new f.a(p()(this.$refs["gl-form"]),{emojis:this.enableAutocomplete,members:this.enableAutocomplete,issues:this.enableAutocomplete,issuesAlternative:this.enableAutocomplete,workItems:this.enableAutocomplete,mergeRequests:this.enableAutocomplete,epics:this.enableAutocomplete,epicsAlternative:this.enableAutocomplete,milestones:this.enableAutocomplete,labels:this.enableAutocomplete,snippets:this.enableAutocomplete,vulnerabilities:this.enableAutocomplete,contacts:this.enableAutocomplete,statuses:this.enableAutocomplete},!0,this.autocompleteDataSources),k.a.$emit(x.m)},beforeDestroy(){this.glForm&&this.glForm.destroy()},methods:{showPreview(){var e=this;this.previewMarkdown||(this.previewMarkdown=!0,this.textareaValue?(this.markdownPreviewLoading=!0,this.markdownPreview=Object(b.a)("Loading…"),this.fetchMarkdown().then((function(t){return e.renderMarkdown(t)})).catch((function(){return Object(h.createAlert)({message:Object(b.a)("Error loading markdown preview")})}))):this.renderMarkdown())},hidePreview(){this.markdownPreview="",this.previewMarkdown=!1},fetchMarkdown(){var e=this;const t={text:this.textareaValue,no_header_anchors:!this.supportsTableOfContents};return m.a.post(this.markdownPreviewPath,t).then((function({data:t}){const{references:n}=t;var i;n&&(e.referencedCommands=n.commands,e.referencedUsers=n.users,e.hasSuggestion=(null===(i=n.suggestions)||void 0===i?void 0:i.length)>0,e.suggestions=n.suggestions);return t}))},debouncedFetchMarkdown:l()((function(){var e=this;return this.fetchMarkdown().then((function(){e.debouncedFetchMarkdownLoading&&(e.referencedUsers=[],e.debouncedFetchMarkdownLoading=!1)}))}),400),renderMarkdown(e={}){var t=this;const{references:n}=e;n||(this.referencedCommands=""),this.markdownPreviewLoading=!1,this.markdownPreview=e.body||e.html||Object(b.a)("Nothing to preview."),this.$nextTick().then((function(){Object(w.a)(t.$refs["markdown-preview"])})).catch((function(){return Object(h.createAlert)({message:Object(b.a)("Error rendering Markdown preview")})}))}},safeHtmlConfig:{ADD_TAGS:["gl-emoji"]}},me=Object(D.a)(ge,(function(){var e=this,t=e._self._c;return t("div",{ref:"gl-form",staticClass:"js-vue-markdown-field md-area gfm-form !gl-relative",class:{"immersive !gl-border-none !gl-bg-inherit":e.immersive,"gl-relative":!e.immersive},attrs:{"data-uploads-path":e.uploadsPath}},[e.immersive?e._t("header"):e._e(),e._v(" "),t("markdown-header",{attrs:{"editor-ai-actions":e.editorAiActions,"preview-markdown":e.previewMarkdown,"line-content":e.lineContent,"can-suggest":e.canSuggest,"enable-preview":e.enablePreview,"show-suggest-popover":e.showSuggestPopover,"suggestion-start-index":e.suggestionsStartIndex,"uploads-path":e.uploadsPath,"markdown-preview-path":e.markdownPreviewPath,"new-comment-template-paths-prop":e.newCommentTemplatePaths,"drawio-enabled":e.drawioEnabled,"supports-quick-actions":e.supportsQuickActions,"data-testid":"markdownHeader","restricted-tool-bar-items":e.restrictedToolBarItems,immersive:e.immersive},on:{showPreview:e.showPreview,hidePreview:e.hidePreview,handleSuggestDismissed:function(){return e.$emit("handleSuggestDismissed")}},scopedSlots:e._u([{key:"header-buttons",fn:function(){return[e._t("header-buttons"),e._v(" "),t("div",{staticClass:"gl-grow"},[e.immersive?t("markdown-toolbar",{attrs:{"markdown-docs-path":e.markdownDocsPath,"can-attach-file":e.canAttachFile,"show-comment-tool-bar":e.showCommentToolBar,"show-content-editor-switcher":e.showContentEditorSwitcher},on:{enableContentEditor:function(t){return e.$emit("enableContentEditor")}}}):e._e()],1)]},proxy:!0}],null,!0)}),e._v(" "),t("div",{directives:[{name:"show",rawName:"v-show",value:!e.previewMarkdown,expression:"!previewMarkdown"}],staticClass:"md-write-holder"},[t("div",{staticClass:"zen-backdrop"},[e._t("textarea"),e._v(" "),t("a",{directives:[{name:"gl-tooltip",rawName:"v-gl-tooltip.placement.left",modifiers:{placement:!0,left:!0}}],staticClass:"zen-control zen-control-leave js-zen-leave gl-button btn-default-tertiary btn-icon btn-sm",attrs:{href:"#",title:e.__("Exit full screen"),"aria-label":e.__("Exit full screen")}},[t("gl-icon",{attrs:{variant:"subtle",size:24,name:"minimize"}})],1),e._v(" "),t("div",{staticClass:"gl-border-t"},[e.immersive?e._e():t("markdown-toolbar",{class:{showContentEditorSwitcher:"gl-border-t"},attrs:{"markdown-docs-path":e.markdownDocsPath,"can-attach-file":e.canAttachFile,"show-comment-tool-bar":e.showCommentToolBar,"show-content-editor-switcher":e.showContentEditorSwitcher},on:{enableContentEditor:function(t){return e.$emit("enableContentEditor")}},scopedSlots:e._u([{key:"toolbar",fn:function(){return[e._t("toolbar")]},proxy:!0}],null,!0)})],1)],2)]),e._v(" "),t("div",{directives:[{name:"show",rawName:"v-show",value:e.previewMarkdown,expression:"previewMarkdown"}],ref:"markdown-preview",staticClass:"js-vue-md-preview md-preview-holder gl-px-5"},[e.hasSuggestion?t("suggestions",{attrs:{"note-html":e.markdownPreview,"line-type":e.lineType,disabled:!0,suggestions:e.suggestions,"help-page-path":e.helpPagePath}}):[t("div",{directives:[{name:"safe-html",rawName:"v-safe-html:[$options.safeHtmlConfig]",value:e.markdownPreview,expression:"markdownPreview",arg:e.$options.safeHtmlConfig}],staticClass:"md"})]],2),e._v(" "),e.referencedCommands&&e.previewMarkdown&&!e.markdownPreviewLoading?t("div",{directives:[{name:"safe-html",rawName:"v-safe-html:[$options.safeHtmlConfig]",value:e.referencedCommands,expression:"referencedCommands",arg:e.$options.safeHtmlConfig}],staticClass:"referenced-commands gl-mx-2 gl-mb-2 gl-rounded-bl-base gl-rounded-br-base gl-px-4",attrs:{"data-testid":"referenced-commands"}}):e._e(),e._v(" "),e.shouldShowReferencedUsers?t("div",{staticClass:"referenced-users"},[t("gl-icon",{attrs:{name:"warning-solid"}}),e._v(" "),t("span",{directives:[{name:"safe-html",rawName:"v-safe-html:[$options.safeHtmlConfig]",value:e.addMultipleToDiscussionWarning,expression:"addMultipleToDiscussionWarning",arg:e.$options.safeHtmlConfig}]})],1):e._e()],2)}),[],!1,null,null,null);t.a=me.exports},K2dJ:function(e,t,n){"use strict";var i=n("ZfjD"),r=n("yg9e"),o=n("FFON"),s=n("BWND"),a=n("ZpQS").start,l=n("DLxf"),c=Array,d=RegExp.escape,u=r("".charAt),p=r("".charCodeAt),h=r(1.1.toString),f=r([].join),g=/^[0-9a-z]/i,m=/^[$()*+./?[\\\]^{|}]/,v=RegExp("^[!\"#%&',\\-:;<=>@`~"+l+"]"),b=r(g.exec),y={"\t":"t","\n":"n","\v":"v","\f":"f","\r":"r"},w=function(e){var t=h(p(e,0),16);return t.length<3?"\\x"+a(t,2,"0"):"\\u"+a(t,4,"0")};i({target:"RegExp",stat:!0,forced:!d||"\\x61b"!==d("ab")},{escape:function(e){o(e);for(var t=e.length,n=c(t),i=0;i<t;i++){var r=u(e,i);if(0===i&&b(g,r))n[i]=w(r);else if(s(y,r))n[i]="\\"+y[r];else if(b(m,r))n[i]="\\"+r;else if(b(v,r))n[i]=w(r);else{var a=p(r,0);55296!=(63488&a)?n[i]=r:a>=56320||i+1>=t||56320!=(64512&p(e,i+1))?n[i]=w(r):(n[i]=r,n[++i]=u(e,i))}}return f(n,"")}})},KAYR:function(e,t,n){"use strict";n("ZzK0"),n("z6RN"),n("BzOf");var i=n("ewH8"),r=n("Mp8J"),o=n("jlnU"),s=n("/lV4");n("B++/"),n("47t/"),n("3UXl"),n("iyoE"),n("UezY"),n("hG7+");function a(e){return e?e.replace(/^( |\+|-)/,""):e}function l(e){return e.filter((function(e){return"match"!==e.type})).map((function(e){return function(e={}){return{...e,text:a(e.text),rich_text:a(e.rich_text)}}(e)}))}var c=n("9/Bc"),d=n("CbCZ"),u=n("NnjE"),p=n("zIFf"),h=n("xRSn"),f=n("NmEs"),g=n("2TqH"),m=n("nrbW"),v=n("HuCl"),b=n("lCTV"),y={components:{GlDisclosureDropdown:g.a,GlForm:m.a,GlFormTextarea:v.a,GlButton:d.a,GlAlert:b.a},props:{disabled:{type:Boolean,required:!1,default:!1},defaultCommitMessage:{type:String,required:!1,default:null},batchSuggestionsCount:{type:Number,required:!1,default:0},errorMessage:{type:String,required:!1,default:null}},data:()=>({message:null}),computed:{dropdownText(){return this.batchSuggestionsCount<=1?Object(s.a)("Apply suggestion"):Object(s.h)("Apply %d suggestion","Apply %d suggestions",this.batchSuggestionsCount)},helperText(){return this.batchSuggestionsCount<=1?Object(s.a)("This also resolves this thread"):Object(s.a)("This also resolves all related threads")}},methods:{onApply(){this.$emit("apply",this.message)},focusCommitMessageInput(){this.$refs.commitMessage.$el.focus()}}},w=n("tBpV"),x=Object(w.a)(y,(function(){var e=this,t=e._self._c;return t("gl-disclosure-dropdown",{attrs:{"data-testid":"apply-suggestion-dropdown","fluid-width":"",placement:"bottom-end",size:"small",disabled:e.disabled,"toggle-text":e.dropdownText},on:{shown:e.focusCommitMessageInput}},[t("gl-form",{staticClass:"!gl-mx-0 !gl-my-2 gl-flex gl-flex-col !gl-px-4"},[t("label",{attrs:{for:"commit-message"}},[e._v(e._s(e.__("Commit message")))]),e._v(" "),e.errorMessage?t("gl-alert",{staticClass:"gl-mb-4",attrs:{variant:"danger",dismissible:!1}},[e._v("\n      "+e._s(e.errorMessage)+"\n    ")]):e._e(),e._v(" "),t("gl-form-textarea",{ref:"commitMessage",staticClass:"apply-suggestions-input-min-width",attrs:{id:"commit-message",placeholder:e.defaultCommitMessage,"submit-on-enter":"","data-testid":"commit-message-field","no-resize":""},on:{submit:e.onApply},model:{value:e.message,callback:function(t){e.message=t},expression:"message"}}),e._v(" "),t("span",{staticClass:"gl-mt-2 gl-text-subtle"},[e._v("\n      "+e._s(e.helperText)+"\n    ")]),e._v(" "),t("gl-button",{staticClass:"gl-mt-3 !gl-w-auto gl-self-end",attrs:{category:"primary",variant:"confirm","data-testid":"commit-with-custom-message-button"},on:{click:e.onApply}},[e._v("\n      "+e._s(e.__("Apply"))+"\n    ")])],1)],1)}),[],!1,null,null,null).exports;const k=Object(s.a)("Unable to fully load the default commit message. You can still apply this suggestion and the commit message will be correct.");var O={components:{GlBadge:c.a,GlButton:d.a,GlLoadingIcon:u.a,ApplySuggestion:x,HelpIcon:h.a},directives:{GlTooltip:p.a},props:{batchSuggestionsCount:{type:Number,required:!1,default:0},canApply:{type:Boolean,required:!1,default:!1},isApplied:{type:Boolean,required:!0,default:!1},isBatched:{type:Boolean,required:!1,default:!1},isApplyingBatch:{type:Boolean,required:!1,default:!1},helpPagePath:{type:String,required:!0},defaultCommitMessage:{type:String,required:!1,default:null},inapplicableReason:{type:String,required:!1,default:null},suggestionsCount:{type:Number,required:!1,default:0},failedToLoadMetadata:{type:Boolean,required:!1,default:!1}},data:()=>({isApplyingSingle:!1}),computed:{isApplying(){return this.isApplyingSingle||this.isApplyingBatch},tooltipMessage(){return!this.canApply&&this.inapplicableReason},isDisableButton(){return this.isApplying||!this.canApply},applyingSuggestionsMessage(){return this.isApplyingSingle||this.batchSuggestionsCount<2?Object(s.a)("Applying suggestion…"):Object(s.a)("Applying suggestions…")},isLoggedIn:()=>Object(f.z)(),showApplySuggestion(){return!!this.isLoggedIn&&!(this.batchSuggestionsCount>=1&&!this.isBatched)},applySuggestionErrorMessage(){return this.failedToLoadMetadata?k:null}},methods:{apply(e){this.batchSuggestionsCount>1?this.applySuggestionBatch(e):this.applySuggestion(e)},applySuggestion(e){this.canApply&&(this.isApplyingSingle=!0,this.$emit("apply",this.applySuggestionCallback,e))},applySuggestionCallback(){this.isApplyingSingle=!1},applySuggestionBatch(e){this.canApply&&this.$emit("applyBatch",e)},addSuggestionToBatch(){this.$emit("addToBatch")},removeSuggestionFromBatch(){this.$emit("removeFromBatch")}}},S=Object(w.a)(O,(function(){var e=this,t=e._self._c;return t("div",{staticClass:"md-suggestion-header gl-flex-col gl-items-start gl-gap-3 !gl-border-b-0 gl-px-4 gl-py-3 @sm/panel:gl-flex-row @sm/panel:gl-flex-wrap"},[t("div",{staticClass:"js-suggestion-diff-header gl-font-bold"},[e._v("\n    "+e._s(e.__("Suggested change"))+"\n    "),e.helpPagePath?t("a",{staticClass:"js-help-btn",attrs:{href:e.helpPagePath,"aria-label":e.__("Help")}},[t("help-icon")],1):e._e()]),e._v(" "),e.isApplied?t("gl-badge",{attrs:{variant:"success","data-testid":"applied-badge"}},[e._v("\n    "+e._s(e.__("Applied"))+"\n  ")]):e.isApplying?t("div",{staticClass:"gl-flex gl-items-center gl-text-subtle",attrs:{"data-testid":"applying-badge"}},[t("gl-loading-icon",{staticClass:"gl-mr-3 gl-items-center gl-justify-center",attrs:{size:"sm"}}),e._v(" "),t("span",[e._v(e._s(e.applyingSuggestionsMessage))])],1):e.isLoggedIn?t("div",{staticClass:"gl-flex gl-flex-wrap gl-items-center gl-gap-3"},[e.isBatched?t("div",[t("gl-button",{staticClass:"js-remove-from-batch-btn",attrs:{disabled:e.isApplying,size:"small"},on:{click:e.removeSuggestionFromBatch}},[e._v("\n        "+e._s(e.__("Remove from batch"))+"\n      ")])],1):!e.isDisableButton&&e.suggestionsCount>1?t("div",[t("gl-button",{staticClass:"js-add-to-batch-btn",attrs:{"data-testid":"add-suggestion-batch-button",disabled:e.isDisableButton,size:"small"},on:{click:e.addSuggestionToBatch}},[e._v("\n        "+e._s(e.__("Add suggestion to batch"))+"\n      ")])],1):e._e(),e._v(" "),e.showApplySuggestion?t("apply-suggestion",{directives:[{name:"gl-tooltip",rawName:"v-gl-tooltip.viewport",value:e.tooltipMessage,expression:"tooltipMessage",modifiers:{viewport:!0}}],attrs:{disabled:e.isDisableButton,"default-commit-message":e.defaultCommitMessage,"batch-suggestions-count":e.batchSuggestionsCount,"error-message":e.applySuggestionErrorMessage},on:{apply:e.apply}}):e._e()],1):e._e()],1)}),[],!1,null,null,null).exports,_={name:"SuggestionDiffRow",directives:{SafeHtml:r.a},props:{line:{type:Object,required:!0}},computed:{displayAsCell(){return!(this.line.rich_text||this.line.text)},lineType(){return this.line.type}}},M={components:{SuggestionDiffHeader:S,SuggestionDiffRow:Object(w.a)(_,(function(){var e=this,t=e._self._c;return t("tr",{staticClass:"line_holder",class:e.lineType},[t("td",{staticClass:"diff-line-num old_line !gl-border-b-0 !gl-border-t-0",class:e.lineType},[e._v("\n    "+e._s(e.line.old_line)+"\n  ")]),e._v(" "),t("td",{staticClass:"diff-line-num new_line !gl-border-b-0 !gl-border-t-0",class:e.lineType},[e._v("\n    "+e._s(e.line.new_line)+"\n  ")]),e._v(" "),t("td",{staticClass:"line_content",class:[{"!gl-table-cell":e.displayAsCell},e.lineType],attrs:{"data-testid":"suggestion-diff-content"}},[e.line.rich_text?t("span",{directives:[{name:"safe-html",rawName:"v-safe-html",value:e.line.rich_text,expression:"line.rich_text"}],staticClass:"line"}):e.line.text?t("span",{staticClass:"line"},[e._v(e._s(e.line.text))]):t("span",{staticClass:"line"})])])}),[],!1,null,null,null).exports},props:{suggestion:{type:Object,required:!0},batchSuggestionsInfo:{type:Array,required:!1,default:function(){return[]}},disabled:{type:Boolean,required:!1,default:!1},helpPagePath:{type:String,required:!0},defaultCommitMessage:{type:String,required:!0},suggestionsCount:{type:Number,required:!1,default:0},failedToLoadMetadata:{type:Boolean,required:!1,default:!1}},computed:{batchSuggestionsCount(){return this.batchSuggestionsInfo.length},isBatched(){var e=this;return Boolean(this.batchSuggestionsInfo.find((function({suggestionId:t}){return t===e.suggestion.id})))},lines(){return l(this.suggestion.diff_lines)}},methods:{applySuggestion(e,t){this.$emit("apply",{suggestionId:this.suggestion.id,callback:e,message:t})},applySuggestionBatch(e){this.$emit("applyBatch",e)},addSuggestionToBatch(){this.$emit("addToBatch",this.suggestion.id)},removeSuggestionFromBatch(){this.$emit("removeFromBatch",this.suggestion.id)}}},E=Object(w.a)(M,(function(){var e=this,t=e._self._c;return t("div",{staticClass:"md-suggestion"},[t("suggestion-diff-header",{staticClass:"js-suggestion-diff-header",attrs:{"suggestions-count":e.suggestionsCount,"can-apply":e.suggestion.appliable&&e.suggestion.current_user.can_apply&&!e.disabled,"is-applied":e.suggestion.applied,"is-batched":e.isBatched,"is-applying-batch":e.suggestion.is_applying_batch,"batch-suggestions-count":e.batchSuggestionsCount,"help-page-path":e.helpPagePath,"default-commit-message":e.defaultCommitMessage,"inapplicable-reason":e.suggestion.inapplicable_reason,"failed-to-load-metadata":e.failedToLoadMetadata},on:{apply:e.applySuggestion,applyBatch:e.applySuggestionBatch,addToBatch:e.addSuggestionToBatch,removeFromBatch:e.removeSuggestionFromBatch}}),e._v(" "),t("table",{staticClass:"md-suggestion-diff js-syntax-highlight code !gl-mb-5"},[t("tbody",e._l(e.lines,(function(e,n){return t("suggestion-diff-row",{key:`${n}-${e.text}`,attrs:{line:e}})})),1)])],1)}),[],!1,null,null,null).exports,C={directives:{SafeHtml:r.a},props:{lineType:{type:String,required:!1,default:""},suggestions:{type:Array,required:!1,default:function(){return[]}},batchSuggestionsInfo:{type:Array,required:!1,default:function(){return[]}},noteHtml:{type:String,required:!0},disabled:{type:Boolean,required:!1,default:!1},helpPagePath:{type:String,required:!0},defaultCommitMessage:{type:String,required:!1,default:null},suggestionsCount:{type:Number,required:!1,default:0},failedToLoadMetadata:{type:Boolean,required:!1,default:!1}},data:()=>({isRendered:!1}),watch:{suggestions(){this.reset()},noteHtml(){this.reset()},failedToLoadMetadata(){this.reset()}},mounted(){this.renderSuggestions()},beforeDestroy(){this.suggestionsWatch&&this.suggestionsWatch(),this.defaultCommitMessageWatch&&this.defaultCommitMessageWatch()},methods:{renderSuggestions(){var e=this;if(!this.noteHtml)return;const{container:t}=this.$refs,n=t.querySelectorAll(".js-render-suggestion");"old"===this.lineType&&Object(o.createAlert)({message:Object(s.a)("Unable to apply suggestions to a deleted line."),parent:this.$el}),n.forEach((function(t,n){const i=t.parentElement;e.generateDiff(n).$mount(i)})),this.isRendered=!0},generateDiff(e){var t=this;const{suggestions:n,disabled:r,batchSuggestionsInfo:o,helpPagePath:s,defaultCommitMessage:a,suggestionsCount:l,failedToLoadMetadata:c}=this,d=n&&n[e]?n[e]:{},u=new(i.default.extend(E))({propsData:{disabled:r,suggestion:d,batchSuggestionsInfo:o,helpPagePath:s,defaultCommitMessage:a||"",suggestionsCount:l,failedToLoadMetadata:c}});return this.suggestionsWatch=this.$watch("suggestionsCount",(function(){u.suggestionsCount=t.suggestionsCount})),this.defaultCommitMessageWatch=this.$watch("defaultCommitMessage",(function(){u.defaultCommitMessage=t.defaultCommitMessage})),u.$on("apply",(function({suggestionId:e,callback:n,message:i}){t.$emit("apply",{suggestionId:e,callback:n,flashContainer:t.$el,message:i})})),u.$on("applyBatch",(function(e){t.$emit("applyBatch",{message:e,flashContainer:t.$el})})),u.$on("addToBatch",(function(e){t.$emit("addToBatch",e)})),u.$on("removeFromBatch",(function(e){t.$emit("removeFromBatch",e)})),u},reset(){var e=this;this.$refs.container.innerHTML=this.noteHtml,this.isRendered=!1,this.renderSuggestions(),this.$nextTick((function(){return e.renderSuggestions()}))}}},A=Object(w.a)(C,(function(){var e=this._self._c;return e("div",[e("div",{staticClass:"flash-container js-suggestions-flash gl-whitespace-pre-line"}),this._v(" "),e("div",{directives:[{name:"show",rawName:"v-show",value:this.isRendered,expression:"isRendered"},{name:"safe-html",rawName:"v-safe-html",value:this.noteHtml,expression:"noteHtml"}],ref:"container",staticClass:"md suggestions",attrs:{"data-testid":"suggestions-container"}})])}),[],!1,null,null,null);t.a=A.exports},Ldaq:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.integerProp=void 0;const i=n("ATGc"),r=n("M5Z+");t.integerProp=e=>(0,i.propOptionsGenerator)(Number,e,r.isInteger)},LlB7:function(e,t,n){"use strict";n.d(t,"b",(function(){return o})),n.d(t,"a",(function(){return s}));n("lFMf"),n("gOHk"),n("c9hT");const i=/^(\/?(.+\/)+(.+)\/-\/merge_requests\/(\d+)).*$/i,r=/([a-f0-9]{40})/g;function o({endpoint:e}={}){let t,n,r,o,s,a;const l=i.exec(e);return l&&([,t,n,r,o]=l,({diffId:s,startSha:a}=function({endpoint:e}={}){const t=new URL(e,"https://gitlab.com"),n=Object.fromEntries(t.searchParams.entries()),{start_sha:i,diff_id:r}=n;return{diffId:r,startSha:i}}({endpoint:e})),n=n.replace(/\/$/,"")),{mrPath:t,namespace:n,project:r,id:o,diffId:s,startSha:a}}function s({input:e=""}={}){const t=e.match(r);return null==t?void 0:t[0]}},"M5Z+":function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.isSymbol=t.isOneOf=t.isInteger=t.isInstanceOf=t.vuePropValidator=void 0;const r=i(n("ewH8"));t.vuePropValidator=function(e,...t){const n=e?[...t,e]:t;if(0!==n.length)return e=>{for(const t of n){const n=t(e);if(n)return"object"==typeof r.default&&"util"in r.default?r.default.util.warn(`${n} (received: '${String(e)}')`):console.warn(`${n} (received: '${String(e)}')`),!1}return!0}};var o=n("0gdX");Object.defineProperty(t,"isInstanceOf",{enumerable:!0,get:function(){return o.isInstanceOf}});var s=n("3hxv");Object.defineProperty(t,"isInteger",{enumerable:!0,get:function(){return s.isInteger}});var a=n("uSiv");Object.defineProperty(t,"isOneOf",{enumerable:!0,get:function(){return a.isOneOf}});var l=n("3W16");Object.defineProperty(t,"isSymbol",{enumerable:!0,get:function(){return l.isSymbol}})},NsFm:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.oneOfTypesProp=void 0;const i=n("ATGc");t.oneOfTypesProp=(e,t)=>(0,i.propOptionsGenerator)(e,t)},"O/w4":function(e,t,n){"use strict";n.d(t,"a",(function(){return p}));var i=n("vu74"),r=n.n(i),o=n("lROb"),s=n.n(o);const a=Object.assign(l(Error),{eval:l(EvalError),range:l(RangeError),reference:l(ReferenceError),syntax:l(SyntaxError),type:l(TypeError),uri:l(URIError)});function l(e){return t.displayName=e.displayName||e.name,t;function t(t,...n){const i=t?s()(t,...n):t;return new e(i)}}const c={}.hasOwnProperty;function d(e,t,n={}){let i=n.prefix;if("string"!=typeof e)throw a("Expected `string` for name, got `%s`",e);if(!r.a.getLanguage(e))throw a("Unknown language: `%s` is not registered",e);if("string"!=typeof t)throw a("Expected `string` for value, got `%s`",t);null==i&&(i="hljs-"),r.a.configure({__emitter:u,classPrefix:i});const o=r.a.highlight(t,{language:e,ignoreIllegals:!0});if(r.a.configure({}),o.errorRaised)throw o.errorRaised;return o._emitter.root.data.language=o.language,o._emitter.root.data.relevance=o.relevance,o._emitter.root}class u{constructor(e){this.options=e,this.root={type:"root",data:{language:null,relevance:0},children:[]},this.stack=[this.root]}addText(e){if(""===e)return;const t=this.stack[this.stack.length-1],n=t.children[t.children.length-1];n&&"text"===n.type?n.value+=e:t.children.push({type:"text",value:e})}startScope(e){this.openNode(String(e))}endScope(){this.closeNode()}__addSublanguage(e,t){const n=this.stack[this.stack.length-1],i=e.root.children;t?n.children.push({type:"element",tagName:"span",properties:{className:[t]},children:i}):n.children.push(...i)}openNode(e){const t={type:"element",tagName:"span",properties:{className:e.split(".").map((e,t)=>t?e+"_".repeat(t):this.options.classPrefix+e)},children:[]};this.stack[this.stack.length-1].children.push(t),this.stack.push(t)}closeNode(){this.stack.pop()}finalize(){}toHTML(){return""}}const p={highlight:d,highlightAuto:function(e,t={}){const n=t.subset||r.a.listLanguages();let i=t.prefix,o=-1,s={type:"root",data:{language:null,relevance:0},children:[]};if(null==i&&(i="hljs-"),"string"!=typeof e)throw a("Expected `string` for value, got `%s`",e);for(;++o<n.length;){const i=n[o];if(!r.a.getLanguage(i))continue;const a=d(i,e,t);a.data.relevance>s.data.relevance&&(s=a)}return s},registerLanguage:function(e,t){r.a.registerLanguage(e,t)},registered:function(e){return Boolean(r.a.getLanguage(e))},listLanguages:function(){return r.a.listLanguages()},registerAlias:function(e,t){if("string"==typeof e)r.a.registerAliases(t,{languageName:e});else{let t;for(t in e)c.call(e,t)&&r.a.registerAliases(e[t],{languageName:t})}}}},OPli:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isNonPositive=void 0;t.isNonPositive=e=>{if("number"!=typeof e||e>0||Number.isNaN(e))return"value should be a non-positive number"}},"P/GM":function(e,t,n){"use strict";n.d(t,"a",(function(){return Be})),n.d(t,"b",(function(){return D})),n.d(t,"c",(function(){return E})),n.d(t,"d",(function(){return P})),n.d(t,"e",(function(){return qe})),n.d(t,"f",(function(){return Fe})),n.d(t,"g",(function(){return y})),n.d(t,"h",(function(){return Ge})),n.d(t,"i",(function(){return ae})),n.d(t,"j",(function(){return Ue})),n.d(t,"k",(function(){return le})),n.d(t,"l",(function(){return ce})),n.d(t,"m",(function(){return de})),n.d(t,"n",(function(){return he})),n.d(t,"o",(function(){return ge})),n.d(t,"p",(function(){return p})),n.d(t,"q",(function(){return U})),n.d(t,"r",(function(){return V})),n.d(t,"s",(function(){return me})),n.d(t,"t",(function(){return pe})),n.d(t,"u",(function(){return H})),n.d(t,"v",(function(){return xe})),n.d(t,"w",(function(){return K})),n.d(t,"x",(function(){return Ie})),n.d(t,"y",(function(){return ze})),n.d(t,"z",(function(){return m})),n.d(t,"A",(function(){return De})),n.d(t,"B",(function(){return ke})),n.d(t,"C",(function(){return $e})),n.d(t,"D",(function(){return He}));var i=n("roUw"),r=n("+ZU4"),o=n("9CMZ"),s=n("ri0Z"),a=n("oYvw"),l=n("utwq"),c=n("Qoor");function d(e){const{state:t,transaction:n}=e;let{selection:i}=n,{doc:r}=n,{storedMarks:o}=n;return{...t,apply:t.apply.bind(t),applyTransaction:t.applyTransaction.bind(t),plugins:t.plugins,schema:t.schema,reconfigure:t.reconfigure.bind(t),toJSON:t.toJSON.bind(t),get storedMarks(){return o},get selection(){return i},get doc(){return r},get tr(){return i=n.selection,r=n.doc,o=n.storedMarks,n}}}class u{constructor(e){this.editor=e.editor,this.rawCommands=this.editor.extensionManager.commands,this.customState=e.state}get hasCustomState(){return!!this.customState}get state(){return this.customState||this.editor.state}get commands(){const{rawCommands:e,editor:t,state:n}=this,{view:i}=t,{tr:r}=n,o=this.buildProps(r);return Object.fromEntries(Object.entries(e).map(([e,t])=>[e,(...e)=>{const n=t(...e)(o);return r.getMeta("preventDispatch")||this.hasCustomState||i.dispatch(r),n}]))}get chain(){return()=>this.createChain()}get can(){return()=>this.createCan()}createChain(e,t=!0){const{rawCommands:n,editor:i,state:r}=this,{view:o}=i,s=[],a=!!e,l=e||r.tr,c={...Object.fromEntries(Object.entries(n).map(([e,n])=>[e,(...e)=>{const i=this.buildProps(l,t),r=n(...e)(i);return s.push(r),c}])),run:()=>(a||!t||l.getMeta("preventDispatch")||this.hasCustomState||o.dispatch(l),s.every(e=>!0===e))};return c}createCan(e){const{rawCommands:t,state:n}=this,i=e||n.tr,r=this.buildProps(i,!1);return{...Object.fromEntries(Object.entries(t).map(([e,t])=>[e,(...e)=>t(...e)({...r,dispatch:void 0})])),chain:()=>this.createChain(i,!1)}}buildProps(e,t=!0){const{rawCommands:n,editor:i,state:r}=this,{view:o}=i,s={tr:e,editor:i,view:o,state:d({state:r,transaction:e}),dispatch:t?()=>{}:void 0,chain:()=>this.createChain(e,t),can:()=>this.createCan(e),get commands(){return Object.fromEntries(Object.entries(n).map(([e,t])=>[e,(...e)=>t(...e)(s)]))}};return s}}function p(e,t,n){if(void 0===e.config[t]&&e.parent)return p(e.parent,t,n);if("function"==typeof e.config[t]){return e.config[t].bind({...n,parent:e.parent?p(e.parent,t,n):null})}return e.config[t]}function h(e){return{baseExtensions:e.filter(e=>"extension"===e.type),nodeExtensions:e.filter(e=>"node"===e.type),markExtensions:e.filter(e=>"mark"===e.type)}}function f(e){const t=[],{nodeExtensions:n,markExtensions:i}=h(e),r=[...n,...i],o={default:null,rendered:!0,renderHTML:null,parseHTML:null,keepOnSplit:!0,isRequired:!1};return e.forEach(e=>{const n=p(e,"addGlobalAttributes",{name:e.name,options:e.options,storage:e.storage,extensions:r});if(!n)return;n().forEach(e=>{e.types.forEach(n=>{Object.entries(e.attributes).forEach(([e,i])=>{t.push({type:n,name:e,attribute:{...o,...i}})})})})}),r.forEach(e=>{const n={name:e.name,options:e.options,storage:e.storage},i=p(e,"addAttributes",n);if(!i)return;const r=i();Object.entries(r).forEach(([n,i])=>{const r={...o,...i};"function"==typeof(null==r?void 0:r.default)&&(r.default=r.default()),(null==r?void 0:r.isRequired)&&void 0===(null==r?void 0:r.default)&&delete r.default,t.push({type:e.name,name:n,attribute:r})})}),t}function g(e,t){if("string"==typeof e){if(!t.nodes[e])throw Error(`There is no node type named '${e}'. Maybe you forgot to add the extension?`);return t.nodes[e]}return e}function m(...e){return e.filter(e=>!!e).reduce((e,t)=>{const n={...e};return Object.entries(t).forEach(([e,t])=>{if(n[e])if("class"===e){const i=t?String(t).split(" "):[],r=n[e]?n[e].split(" "):[],o=i.filter(e=>!r.includes(e));n[e]=[...r,...o].join(" ")}else if("style"===e){const i=t?t.split(";").map(e=>e.trim()).filter(Boolean):[],r=n[e]?n[e].split(";").map(e=>e.trim()).filter(Boolean):[],o=new Map;r.forEach(e=>{const[t,n]=e.split(":").map(e=>e.trim());o.set(t,n)}),i.forEach(e=>{const[t,n]=e.split(":").map(e=>e.trim());o.set(t,n)}),n[e]=Array.from(o.entries()).map(([e,t])=>`${e}: ${t}`).join("; ")}else n[e]=t;else n[e]=t}),n},{})}function v(e,t){return t.filter(t=>t.type===e.type.name).filter(e=>e.attribute.rendered).map(t=>t.attribute.renderHTML?t.attribute.renderHTML(e.attrs)||{}:{[t.name]:e.attrs[t.name]}).reduce((e,t)=>m(e,t),{})}function b(e){return"function"==typeof e}function y(e,t,...n){return b(e)?t?e.bind(t)(...n):e(...n):e}function w(e,t){return"style"in e?e:{...e,getAttrs:n=>{const i=e.getAttrs?e.getAttrs(n):e.attrs;if(!1===i)return!1;const r=t.reduce((e,t)=>{const i=t.attribute.parseHTML?t.attribute.parseHTML(n):function(e){return"string"!=typeof e?e:e.match(/^[+-]?(?:\d*\.)?\d+$/)?Number(e):"true"===e||"false"!==e&&e}(n.getAttribute(t.name));return null==i?e:{...e,[t.name]:i}},{});return{...i,...r}}}}function x(e){return Object.fromEntries(Object.entries(e).filter(([e,t])=>("attrs"!==e||!function(e={}){return 0===Object.keys(e).length&&e.constructor===Object}(t))&&null!=t))}function k(e,t){var n;const i=f(e),{nodeExtensions:r,markExtensions:o}=h(e),a=null===(n=r.find(e=>p(e,"topNode")))||void 0===n?void 0:n.name,l=Object.fromEntries(r.map(n=>{const r=i.filter(e=>e.type===n.name),o={name:n.name,options:n.options,storage:n.storage,editor:t},s=x({...e.reduce((e,t)=>{const i=p(t,"extendNodeSchema",o);return{...e,...i?i(n):{}}},{}),content:y(p(n,"content",o)),marks:y(p(n,"marks",o)),group:y(p(n,"group",o)),inline:y(p(n,"inline",o)),atom:y(p(n,"atom",o)),selectable:y(p(n,"selectable",o)),draggable:y(p(n,"draggable",o)),code:y(p(n,"code",o)),whitespace:y(p(n,"whitespace",o)),linebreakReplacement:y(p(n,"linebreakReplacement",o)),defining:y(p(n,"defining",o)),isolating:y(p(n,"isolating",o)),attrs:Object.fromEntries(r.map(e=>{var t;return[e.name,{default:null===(t=null==e?void 0:e.attribute)||void 0===t?void 0:t.default}]}))}),a=y(p(n,"parseHTML",o));a&&(s.parseDOM=a.map(e=>w(e,r)));const l=p(n,"renderHTML",o);l&&(s.toDOM=e=>l({node:e,HTMLAttributes:v(e,r)}));const c=p(n,"renderText",o);return c&&(s.toText=c),[n.name,s]})),c=Object.fromEntries(o.map(n=>{const r=i.filter(e=>e.type===n.name),o={name:n.name,options:n.options,storage:n.storage,editor:t},s=x({...e.reduce((e,t)=>{const i=p(t,"extendMarkSchema",o);return{...e,...i?i(n):{}}},{}),inclusive:y(p(n,"inclusive",o)),excludes:y(p(n,"excludes",o)),group:y(p(n,"group",o)),spanning:y(p(n,"spanning",o)),code:y(p(n,"code",o)),attrs:Object.fromEntries(r.map(e=>{var t;return[e.name,{default:null===(t=null==e?void 0:e.attribute)||void 0===t?void 0:t.default}]}))}),a=y(p(n,"parseHTML",o));a&&(s.parseDOM=a.map(e=>w(e,r)));const l=p(n,"renderHTML",o);return l&&(s.toDOM=e=>l({mark:e,HTMLAttributes:v(e,r)})),[n.name,s]}));return new s.Schema({topNode:a,nodes:l,marks:c})}function O(e,t){return t.nodes[e]||t.marks[e]||null}function S(e,t){return Array.isArray(t)?t.some(t=>("string"==typeof t?t:t.name)===e.name):t}function _(e,t){const n=s.DOMSerializer.fromSchema(t).serializeFragment(e),i=document.implementation.createHTMLDocument().createElement("div");return i.appendChild(n),i.innerHTML}function M(e){return"[object RegExp]"===Object.prototype.toString.call(e)}class E{constructor(e){this.find=e.find,this.handler=e.handler}}function C(e){var t;const{editor:n,from:i,to:r,text:o,rules:s,plugin:a}=e,{view:l}=n;if(l.composing)return!1;const c=l.state.doc.resolve(i);if(c.parent.type.spec.code||(null===(t=c.nodeBefore||c.nodeAfter)||void 0===t?void 0:t.marks.find(e=>e.type.spec.code)))return!1;let p=!1;const h=((e,t=500)=>{let n="";const i=e.parentOffset;return e.parent.nodesBetween(Math.max(0,i-t),i,(e,t,r,o)=>{var s,a;const l=(null===(a=(s=e.type.spec).toText)||void 0===a?void 0:a.call(s,{node:e,pos:t,parent:r,index:o}))||e.textContent||"%leaf%";n+=e.isAtom&&!e.isText?l:l.slice(0,Math.max(0,i-t))}),n})(c)+o;return s.forEach(e=>{if(p)return;const t=((e,t)=>{if(M(t))return t.exec(e);const n=t(e);if(!n)return null;const i=[n.text];return i.index=n.index,i.input=e,i.data=n.data,n.replaceWith&&(n.text.includes(n.replaceWith)||console.warn('[tiptap warn]: "inputRuleMatch.replaceWith" must be part of "inputRuleMatch.text".'),i.push(n.replaceWith)),i})(h,e.find);if(!t)return;const s=l.state.tr,c=d({state:l.state,transaction:s}),f={from:i-(t[0].length-o.length),to:r},{commands:g,chain:m,can:v}=new u({editor:n,state:c});null!==e.handler({state:c,range:f,match:t,commands:g,chain:m,can:v})&&s.steps.length&&(s.setMeta(a,{transform:s,from:i,to:r,text:o}),l.dispatch(s),p=!0)}),p}function A(e){const{editor:t,rules:n}=e,r=new i.d({state:{init:()=>null,apply(e,i,o){const a=e.getMeta(r);if(a)return a;const l=e.getMeta("applyInputRules");return!!l&&setTimeout(()=>{let{text:e}=l;e="string"==typeof e?e:_(s.Fragment.from(e),o.schema);const{from:i}=l,a=i+e.length;C({editor:t,from:i,to:a,text:e,rules:n,plugin:r})}),e.selectionSet||e.docChanged?null:i}},props:{handleTextInput:(e,i,o,s)=>C({editor:t,from:i,to:o,text:s,rules:n,plugin:r}),handleDOMEvents:{compositionend:e=>(setTimeout(()=>{const{$cursor:i}=e.state.selection;i&&C({editor:t,from:i.pos,to:i.pos,text:"",rules:n,plugin:r})}),!1)},handleKeyDown(e,i){if("Enter"!==i.key)return!1;const{$cursor:o}=e.state.selection;return!!o&&C({editor:t,from:o.pos,to:o.pos,text:"\n",rules:n,plugin:r})}},isInputRules:!0});return r}function j(e){return"Object"===function(e){return Object.prototype.toString.call(e).slice(8,-1)}(e)&&(e.constructor===Object&&Object.getPrototypeOf(e)===Object.prototype)}function T(e,t){const n={...e};return j(e)&&j(t)&&Object.keys(t).forEach(i=>{j(t[i])&&j(e[i])?n[i]=T(e[i],t[i]):n[i]=t[i]}),n}class P{constructor(e={}){this.type="mark",this.name="mark",this.parent=null,this.child=null,this.config={name:this.name,defaultOptions:{}},this.config={...this.config,...e},this.name=this.config.name,e.defaultOptions&&Object.keys(e.defaultOptions).length>0&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${this.name}".`),this.options=this.config.defaultOptions,this.config.addOptions&&(this.options=y(p(this,"addOptions",{name:this.name}))),this.storage=y(p(this,"addStorage",{name:this.name,options:this.options}))||{}}static create(e={}){return new P(e)}configure(e={}){const t=this.extend({...this.config,addOptions:()=>T(this.options,e)});return t.name=this.name,t.parent=this.parent,t}extend(e={}){const t=new P(e);return t.parent=this,this.child=t,t.name=e.name?e.name:t.parent.name,e.defaultOptions&&Object.keys(e.defaultOptions).length>0&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${t.name}".`),t.options=y(p(t,"addOptions",{name:t.name})),t.storage=y(p(t,"addStorage",{name:t.name,options:t.options})),t}static handleExit({editor:e,mark:t}){const{tr:n}=e.state,i=e.state.selection.$from;if(i.pos===i.end()){const r=i.marks();if(!!!r.find(e=>(null==e?void 0:e.type.name)===t.name))return!1;const o=r.find(e=>(null==e?void 0:e.type.name)===t.name);return o&&n.removeStoredMark(o),n.insertText(" ",i.pos),e.view.dispatch(n),!0}return!1}}class N{constructor(e){this.find=e.find,this.handler=e.handler}}function R(e){const{editor:t,state:n,from:i,to:r,rule:o,pasteEvent:s,dropEvent:a}=e,{commands:l,chain:c,can:d}=new u({editor:t,state:n}),p=[];n.doc.nodesBetween(i,r,(e,t)=>{if(!e.isTextblock||e.type.spec.code)return;const u=Math.max(i,t),h=Math.min(r,t+e.content.size);((e,t,n)=>{if(M(t))return[...e.matchAll(t)];const i=t(e,n);return i?i.map(t=>{const n=[t.text];return n.index=t.index,n.input=e,n.data=t.data,t.replaceWith&&(t.text.includes(t.replaceWith)||console.warn('[tiptap warn]: "pasteRuleMatch.replaceWith" must be part of "pasteRuleMatch.text".'),n.push(t.replaceWith)),n}):[]})(e.textBetween(u-t,h-t,void 0,"￼"),o.find,s).forEach(e=>{if(void 0===e.index)return;const t=u+e.index+1,i=t+e[0].length,r={from:n.tr.mapping.map(t),to:n.tr.mapping.map(i)},h=o.handler({state:n,range:r,match:e,commands:l,chain:c,can:d,pasteEvent:s,dropEvent:a});p.push(h)})});return p.every(e=>null!==e)}let L=null;function B(e){const{editor:t,rules:n}=e;let r,o=null,a=!1,l=!1,c="undefined"!=typeof ClipboardEvent?new ClipboardEvent("paste"):null;try{r="undefined"!=typeof DragEvent?new DragEvent("drop"):null}catch{r=null}const u=({state:e,from:n,to:i,rule:o,pasteEvt:s})=>{const a=e.tr,l=d({state:e,transaction:a});if(R({editor:t,state:l,from:Math.max(n-1,0),to:i.b-1,rule:o,pasteEvent:s,dropEvent:r})&&a.steps.length){try{r="undefined"!=typeof DragEvent?new DragEvent("drop"):null}catch{r=null}return c="undefined"!=typeof ClipboardEvent?new ClipboardEvent("paste"):null,a}};return n.map(e=>new i.d({view(e){const n=n=>{var i;o=(null===(i=e.dom.parentElement)||void 0===i?void 0:i.contains(n.target))?e.dom.parentElement:null,o&&(L=t)},i=()=>{L&&(L=null)};return window.addEventListener("dragstart",n),window.addEventListener("dragend",i),{destroy(){window.removeEventListener("dragstart",n),window.removeEventListener("dragend",i)}}},props:{handleDOMEvents:{drop:(e,t)=>{if(l=o===e.dom.parentElement,r=t,!l){const e=L;(null==e?void 0:e.isEditable)&&setTimeout(()=>{const t=e.state.selection;t&&e.commands.deleteRange({from:t.from,to:t.to})},10)}return!1},paste:(e,t)=>{var n;const i=null===(n=t.clipboardData)||void 0===n?void 0:n.getData("text/html");return c=t,a=!!(null==i?void 0:i.includes("data-pm-slice")),!1}}},appendTransaction:(t,n,i)=>{const r=t[0],o="paste"===r.getMeta("uiEvent")&&!a,d="drop"===r.getMeta("uiEvent")&&!l,p=r.getMeta("applyPasteRules"),h=!!p;if(!o&&!d&&!h)return;if(h){let{text:t}=p;t="string"==typeof t?t:_(s.Fragment.from(t),i.schema);const{from:n}=p,r=n+t.length,o=(e=>{var t;const n=new ClipboardEvent("paste",{clipboardData:new DataTransfer});return null===(t=n.clipboardData)||void 0===t||t.setData("text/html",e),n})(t);return u({rule:e,state:i,from:n,to:{b:r},pasteEvt:o})}const f=n.doc.content.findDiffStart(i.doc.content),g=n.doc.content.findDiffEnd(i.doc.content);return"number"==typeof f&&g&&f!==g.b?u({rule:e,state:i,from:f,to:g,pasteEvt:c}):void 0}}))}class I{constructor(e,t){this.splittableMarks=[],this.editor=t,this.extensions=I.resolve(e),this.schema=k(this.extensions,t),this.setupExtensions()}static resolve(e){const t=I.sort(I.flatten(e)),n=function(e){const t=e.filter((t,n)=>e.indexOf(t)!==n);return Array.from(new Set(t))}(t.map(e=>e.name));return n.length&&console.warn(`[tiptap warn]: Duplicate extension names found: [${n.map(e=>`'${e}'`).join(", ")}]. This can lead to issues.`),t}static flatten(e){return e.map(e=>{const t=p(e,"addExtensions",{name:e.name,options:e.options,storage:e.storage});return t?[e,...this.flatten(t())]:e}).flat(10)}static sort(e){return e.sort((e,t)=>{const n=p(e,"priority")||100,i=p(t,"priority")||100;return n>i?-1:n<i?1:0})}get commands(){return this.extensions.reduce((e,t)=>{const n=p(t,"addCommands",{name:t.name,options:t.options,storage:t.storage,editor:this.editor,type:O(t.name,this.schema)});return n?{...e,...n()}:e},{})}get plugins(){const{editor:e}=this,t=I.sort([...this.extensions].reverse()),n=[],i=[],r=t.map(t=>{const r={name:t.name,options:t.options,storage:t.storage,editor:e,type:O(t.name,this.schema)},s=[],a=p(t,"addKeyboardShortcuts",r);let l={};if("mark"===t.type&&p(t,"exitable",r)&&(l.ArrowRight=()=>P.handleExit({editor:e,mark:t})),a){const t=Object.fromEntries(Object.entries(a()).map(([t,n])=>[t,()=>n({editor:e})]));l={...l,...t}}const c=Object(o.b)(l);s.push(c);const d=p(t,"addInputRules",r);S(t,e.options.enableInputRules)&&d&&n.push(...d());const u=p(t,"addPasteRules",r);S(t,e.options.enablePasteRules)&&u&&i.push(...u());const h=p(t,"addProseMirrorPlugins",r);if(h){const e=h();s.push(...e)}return s}).flat();return[A({editor:e,rules:n}),...B({editor:e,rules:i}),...r]}get attributes(){return f(this.extensions)}get nodeViews(){const{editor:e}=this,{nodeExtensions:t}=h(this.extensions);return Object.fromEntries(t.filter(e=>!!p(e,"addNodeView")).map(t=>{const n=this.attributes.filter(e=>e.type===t.name),i={name:t.name,options:t.options,storage:t.storage,editor:e,type:g(t.name,this.schema)},r=p(t,"addNodeView",i);if(!r)return[];return[t.name,(i,o,s,a,l)=>{const c=v(i,n);return r()({node:i,view:o,getPos:s,decorations:a,innerDecorations:l,editor:e,extension:t,HTMLAttributes:c})}]}))}setupExtensions(){this.extensions.forEach(e=>{var t;this.editor.extensionStorage[e.name]=e.storage;const n={name:e.name,options:e.options,storage:e.storage,editor:this.editor,type:O(e.name,this.schema)};if("mark"===e.type){(null===(t=y(p(e,"keepOnSplit",n)))||void 0===t||t)&&this.splittableMarks.push(e.name)}const i=p(e,"onBeforeCreate",n),r=p(e,"onCreate",n),o=p(e,"onUpdate",n),s=p(e,"onSelectionUpdate",n),a=p(e,"onTransaction",n),l=p(e,"onFocus",n),c=p(e,"onBlur",n),d=p(e,"onDestroy",n);i&&this.editor.on("beforeCreate",i),r&&this.editor.on("create",r),o&&this.editor.on("update",o),s&&this.editor.on("selectionUpdate",s),a&&this.editor.on("transaction",a),l&&this.editor.on("focus",l),c&&this.editor.on("blur",c),d&&this.editor.on("destroy",d)})}}class D{constructor(e={}){this.type="extension",this.name="extension",this.parent=null,this.child=null,this.config={name:this.name,defaultOptions:{}},this.config={...this.config,...e},this.name=this.config.name,e.defaultOptions&&Object.keys(e.defaultOptions).length>0&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${this.name}".`),this.options=this.config.defaultOptions,this.config.addOptions&&(this.options=y(p(this,"addOptions",{name:this.name}))),this.storage=y(p(this,"addStorage",{name:this.name,options:this.options}))||{}}static create(e={}){return new D(e)}configure(e={}){const t=this.extend({...this.config,addOptions:()=>T(this.options,e)});return t.name=this.name,t.parent=this.parent,t}extend(e={}){const t=new D({...this.config,...e});return t.parent=this,this.child=t,t.name=e.name?e.name:t.parent.name,e.defaultOptions&&Object.keys(e.defaultOptions).length>0&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${t.name}".`),t.options=y(p(t,"addOptions",{name:t.name})),t.storage=y(p(t,"addStorage",{name:t.name,options:t.options})),t}}function $(e,t,n){const{from:i,to:r}=t,{blockSeparator:o="\n\n",textSerializers:s={}}=n||{};let a="";return e.nodesBetween(i,r,(e,n,l,c)=>{var d;e.isBlock&&n>i&&(a+=o);const u=null==s?void 0:s[e.type.name];if(u)return l&&(a+=u({node:e,pos:n,parent:l,index:c,range:t})),!1;e.isText&&(a+=null===(d=null==e?void 0:e.text)||void 0===d?void 0:d.slice(Math.max(i,n)-n,r-n))}),a}function H(e){return Object.fromEntries(Object.entries(e.nodes).filter(([,e])=>e.spec.toText).map(([e,t])=>[e,t.spec.toText]))}const q=D.create({name:"clipboardTextSerializer",addOptions:()=>({blockSeparator:void 0}),addProseMirrorPlugins(){return[new i.d({key:new i.e("clipboardTextSerializer"),props:{clipboardTextSerializer:()=>{const{editor:e}=this,{state:t,schema:n}=e,{doc:i,selection:r}=t,{ranges:o}=r,s=Math.min(...o.map(e=>e.$from.pos)),a=Math.max(...o.map(e=>e.$to.pos)),l=H(n);return $(i,{from:s,to:a},{...void 0!==this.options.blockSeparator?{blockSeparator:this.options.blockSeparator}:{},textSerializers:l})}}})]}});function F(e,t,n={strict:!0}){const i=Object.keys(t);return!i.length||i.every(i=>n.strict?t[i]===e[i]:M(t[i])?t[i].test(e[i]):t[i]===e[i])}function z(e,t,n={}){return e.find(e=>e.type===t&&F(Object.fromEntries(Object.keys(n).map(t=>[t,e.attrs[t]])),n))}function G(e,t,n={}){return!!z(e,t,n)}function U(e,t,n){var i;if(!e||!t)return;let r=e.parent.childAfter(e.parentOffset);if(r.node&&r.node.marks.some(e=>e.type===t)||(r=e.parent.childBefore(e.parentOffset)),!r.node||!r.node.marks.some(e=>e.type===t))return;n=n||(null===(i=r.node.marks[0])||void 0===i?void 0:i.attrs);if(!z([...r.node.marks],t,n))return;let o=r.index,s=e.start()+r.offset,a=o+1,l=s+r.node.nodeSize;for(;o>0&&G([...e.parent.child(o-1).marks],t,n);)o-=1,s-=e.parent.child(o).nodeSize;for(;a<e.parent.childCount&&G([...e.parent.child(a).marks],t,n);)l+=e.parent.child(a).nodeSize,a+=1;return{from:s,to:l}}function V(e,t){if("string"==typeof e){if(!t.marks[e])throw Error(`There is no mark type named '${e}'. Maybe you forgot to add the extension?`);return t.marks[e]}return e}function K(e){return e instanceof i.g}function W(e=0,t=0,n=0){return Math.min(Math.max(e,t),n)}function X(e,t=null){if(!t)return null;const n=i.f.atStart(e),r=i.f.atEnd(e);if("start"===t||!0===t)return n;if("end"===t)return r;const o=n.from,s=r.to;return"all"===t?i.g.create(e,W(0,o,s),W(e.content.size,o,s)):i.g.create(e,W(t,o,s),W(t,o,s))}function Z(){return"Android"===navigator.platform||/android/i.test(navigator.userAgent)}function J(){return["iPad Simulator","iPhone Simulator","iPod Simulator","iPad","iPhone","iPod"].includes(navigator.platform)||navigator.userAgent.includes("Mac")&&"ontouchend"in document}const Q=e=>{const t=e.childNodes;for(let n=t.length-1;n>=0;n-=1){const i=t[n];3===i.nodeType&&i.nodeValue&&/^(\n\s\s|\n)$/.test(i.nodeValue)?e.removeChild(i):1===i.nodeType&&Q(i)}return e};function Y(e){const t=`<body>${e}</body>`,n=(new window.DOMParser).parseFromString(t,"text/html").body;return Q(n)}function ee(e,t,n){if(e instanceof s.Node||e instanceof s.Fragment)return e;n={slice:!0,parseOptions:{},...n};const i="string"==typeof e;if("object"==typeof e&&null!==e)try{if(Array.isArray(e)&&e.length>0)return s.Fragment.fromArray(e.map(e=>t.nodeFromJSON(e)));const i=t.nodeFromJSON(e);return n.errorOnInvalidContent&&i.check(),i}catch(i){if(n.errorOnInvalidContent)throw new Error("[tiptap error]: Invalid JSON content",{cause:i});return console.warn("[tiptap warn]: Invalid content.","Passed value:",e,"Error:",i),ee("",t,n)}if(i){if(n.errorOnInvalidContent){let i=!1,r="";const o=new s.Schema({topNode:t.spec.topNode,marks:t.spec.marks,nodes:t.spec.nodes.append({__tiptap__private__unknown__catch__all__node:{content:"inline*",group:"block",parseDOM:[{tag:"*",getAttrs:e=>(i=!0,r="string"==typeof e?e:e.outerHTML,null)}]}})});if(n.slice?s.DOMParser.fromSchema(o).parseSlice(Y(e),n.parseOptions):s.DOMParser.fromSchema(o).parse(Y(e),n.parseOptions),n.errorOnInvalidContent&&i)throw new Error("[tiptap error]: Invalid HTML content",{cause:new Error("Invalid element found: "+r)})}const i=s.DOMParser.fromSchema(t);return n.slice?i.parseSlice(Y(e),n.parseOptions).content:i.parse(Y(e),n.parseOptions)}return ee("",t,n)}function te(){return"undefined"!=typeof navigator&&/Mac/.test(navigator.platform)}function ne(e,t,n={}){const{from:i,to:r,empty:o}=e.selection,s=t?g(t,e.schema):null,a=[];e.doc.nodesBetween(i,r,(e,t)=>{if(e.isText)return;const n=Math.max(i,t),o=Math.min(r,t+e.nodeSize);a.push({node:e,from:n,to:o})});const l=r-i,c=a.filter(e=>!s||s.name===e.node.type.name).filter(e=>F(e.node.attrs,n,{strict:!1}));if(o)return!!c.length;return c.reduce((e,t)=>e+t.to-t.from,0)>=l}function ie(e,t){return t.nodes[e]?"node":t.marks[e]?"mark":null}function re(e,t){const n="string"==typeof t?[t]:t;return Object.keys(e).reduce((t,i)=>(n.includes(i)||(t[i]=e[i]),t),{})}function oe(e,t,n={},i={}){return ee(e,t,{slice:!1,parseOptions:n,errorOnInvalidContent:i.errorOnInvalidContent})}function se(e,t){const n=V(t,e.schema),{from:i,to:r,empty:o}=e.selection,s=[];o?(e.storedMarks&&s.push(...e.storedMarks),s.push(...e.selection.$head.marks())):e.doc.nodesBetween(i,r,e=>{s.push(...e.marks)});const a=s.find(e=>e.type.name===n.name);return a?{...a.attrs}:{}}function ae(e,t){const n=new a.d(e);return t.forEach(e=>{e.steps.forEach(e=>{n.step(e)})}),n}function le(e,t){const n=[];return e.descendants((e,i)=>{t(e)&&n.push({node:e,pos:i})}),n}function ce(e,t,n){const i=[];return e.nodesBetween(t.from,t.to,(e,t)=>{n(e)&&i.push({node:e,pos:t})}),i}function de(e,t){for(let n=e.depth;n>0;n-=1){const i=e.node(n);if(t(i))return{pos:n>0?e.before(n):0,start:e.start(n),depth:n,node:i}}}function ue(e){return t=>de(t.$from,e)}function pe(e,t){return $(e,{from:0,to:e.content.size},t)}function he(e,t){const n=ie("string"==typeof t?t:t.name,e.schema);return"node"===n?function(e,t){const n=g(t,e.schema),{from:i,to:r}=e.selection,o=[];e.doc.nodesBetween(i,r,e=>{o.push(e)});const s=o.reverse().find(e=>e.type.name===n.name);return s?{...s.attrs}:{}}(e,t):"mark"===n?se(e,t):{}}function fe(e){const t=function(e,t=JSON.stringify){const n={};return e.filter(e=>{const i=t(e);return!Object.prototype.hasOwnProperty.call(n,i)&&(n[i]=!0)})}(e);return 1===t.length?t:t.filter((e,n)=>!t.filter((e,t)=>t!==n).some(t=>e.oldRange.from>=t.oldRange.from&&e.oldRange.to<=t.oldRange.to&&e.newRange.from>=t.newRange.from&&e.newRange.to<=t.newRange.to))}function ge(e){const{mapping:t,steps:n}=e,i=[];return t.maps.forEach((e,r)=>{const o=[];if(e.ranges.length)e.forEach((e,t)=>{o.push({from:e,to:t})});else{const{from:e,to:t}=n[r];if(void 0===e||void 0===t)return;o.push({from:e,to:t})}o.forEach(({from:e,to:n})=>{const o=t.slice(r).map(e,-1),s=t.slice(r).map(n),a=t.invert().map(o,-1),l=t.invert().map(s);i.push({oldRange:{from:a,to:l},newRange:{from:o,to:s}})})}),fe(i)}function me(e,t,n){const i=[];return e===t?n.resolve(e).marks().forEach(t=>{const r=U(n.resolve(e),t.type);r&&i.push({mark:t,...r})}):n.nodesBetween(e,t,(e,t)=>{e&&void 0!==(null==e?void 0:e.nodeSize)&&i.push(...e.marks.map(n=>({from:t,to:t+e.nodeSize,mark:n})))}),i}function ve(e,t,n){return Object.fromEntries(Object.entries(n).filter(([n])=>{const i=e.find(e=>e.type===t&&e.name===n);return!!i&&i.attribute.keepOnSplit}))}function be(e,t,n={}){const{empty:i,ranges:r}=e.selection,o=t?V(t,e.schema):null;if(i)return!!(e.storedMarks||e.selection.$from.marks()).filter(e=>!o||o.name===e.type.name).find(e=>F(e.attrs,n,{strict:!1}));let s=0;const a=[];if(r.forEach(({$from:t,$to:n})=>{const i=t.pos,r=n.pos;e.doc.nodesBetween(i,r,(e,t)=>{if(!e.isText&&!e.marks.length)return;const n=Math.max(i,t),o=Math.min(r,t+e.nodeSize);s+=o-n,a.push(...e.marks.map(e=>({mark:e,from:n,to:o})))})}),0===s)return!1;const l=a.filter(e=>!o||o.name===e.mark.type.name).filter(e=>F(e.mark.attrs,n,{strict:!1})).reduce((e,t)=>e+t.to-t.from,0),c=a.filter(e=>!o||e.mark.type!==o&&e.mark.type.excludes(o)).reduce((e,t)=>e+t.to-t.from,0);return(l>0?l+c:l)>=s}function ye(e,t){const{nodeExtensions:n}=h(t),i=n.find(t=>t.name===e);if(!i)return!1;const r=y(p(i,"group",{name:i.name,options:i.options,storage:i.storage}));return"string"==typeof r&&r.split(" ").includes("list")}function we(e,{checkChildren:t=!0,ignoreWhitespace:n=!1}={}){var i;if(n){if("hardBreak"===e.type.name)return!0;if(e.isText)return/^\s*$/m.test(null!==(i=e.text)&&void 0!==i?i:"")}if(e.isText)return!e.text;if(e.isAtom||e.isLeaf)return!1;if(0===e.content.childCount)return!0;if(t){let i=!0;return e.content.forEach(e=>{!1!==i&&(we(e,{ignoreWhitespace:n,checkChildren:t})||(i=!1))}),i}return!1}function xe(e){return e instanceof i.c}function ke(e,t,n){const i=e.state.doc.content.size,r=W(t,0,i),o=W(n,0,i),s=e.coordsAtPos(r),a=e.coordsAtPos(o,-1),l=Math.min(s.top,a.top),c=Math.max(s.bottom,a.bottom),d=Math.min(s.left,a.left),u=Math.max(s.right,a.right),p={top:l,bottom:c,left:d,right:u,width:u-d,height:c-l,x:d,y:l};return{...p,toJSON:()=>p}}function Oe(e,t){const n=e.storedMarks||e.selection.$to.parentOffset&&e.selection.$from.marks();if(n){const i=n.filter(e=>null==t?void 0:t.includes(e.type.name));e.tr.ensureMarks(i)}}const Se=(e,t)=>{const n=ue(e=>e.type===t)(e.selection);if(!n)return!0;const i=e.doc.resolve(Math.max(0,n.pos-1)).before(n.depth);if(void 0===i)return!0;const r=e.doc.nodeAt(i);return n.node.type!==(null==r?void 0:r.type)||!Object(a.e)(e.doc,n.pos)||(e.join(n.pos),!0)},_e=(e,t)=>{const n=ue(e=>e.type===t)(e.selection);if(!n)return!0;const i=e.doc.resolve(n.start).after(n.depth);if(void 0===i)return!0;const r=e.doc.nodeAt(i);return n.node.type!==(null==r?void 0:r.type)||!Object(a.e)(e.doc,i)||(e.join(i),!0)};var Me=Object.freeze({__proto__:null,blur:()=>({editor:e,view:t})=>(requestAnimationFrame(()=>{var n;e.isDestroyed||(t.dom.blur(),null===(n=null===window||void 0===window?void 0:window.getSelection())||void 0===n||n.removeAllRanges())}),!0),clearContent:(e=!1)=>({commands:t})=>t.setContent("",e),clearNodes:()=>({state:e,tr:t,dispatch:n})=>{const{selection:i}=t,{ranges:r}=i;return!n||(r.forEach(({$from:n,$to:i})=>{e.doc.nodesBetween(n.pos,i.pos,(e,n)=>{if(e.type.isText)return;const{doc:i,mapping:r}=t,o=i.resolve(r.map(n)),s=i.resolve(r.map(n+e.nodeSize)),l=o.blockRange(s);if(!l)return;const c=Object(a.i)(l);if(e.type.isTextblock){const{defaultType:e}=o.parent.contentMatchAt(o.index());t.setNodeMarkup(l.start,e)}(c||0===c)&&t.lift(l,c)})}),!0)},command:e=>t=>e(t),createParagraphNear:()=>({state:e,dispatch:t})=>Object(l.a)(e,t),cut:(e,t)=>({editor:n,tr:r})=>{const{state:o}=n,s=o.doc.slice(e.from,e.to);r.deleteRange(e.from,e.to);const a=r.mapping.map(t);return r.insert(a,s.content),r.setSelection(new i.g(r.doc.resolve(Math.max(a-1,0)))),!0},deleteCurrentNode:()=>({tr:e,dispatch:t})=>{const{selection:n}=e,i=n.$anchor.node();if(i.content.size>0)return!1;const r=e.selection.$anchor;for(let n=r.depth;n>0;n-=1){if(r.node(n).type===i.type){if(t){const t=r.before(n),i=r.after(n);e.delete(t,i).scrollIntoView()}return!0}}return!1},deleteNode:e=>({tr:t,state:n,dispatch:i})=>{const r=g(e,n.schema),o=t.selection.$anchor;for(let e=o.depth;e>0;e-=1){if(o.node(e).type===r){if(i){const n=o.before(e),i=o.after(e);t.delete(n,i).scrollIntoView()}return!0}}return!1},deleteRange:e=>({tr:t,dispatch:n})=>{const{from:i,to:r}=e;return n&&t.delete(i,r),!0},deleteSelection:()=>({state:e,dispatch:t})=>Object(l.b)(e,t),enter:()=>({commands:e})=>e.keyboardShortcut("Enter"),exitCode:()=>({state:e,dispatch:t})=>Object(l.c)(e,t),extendMarkRange:(e,t={})=>({tr:n,state:r,dispatch:o})=>{const s=V(e,r.schema),{doc:a,selection:l}=n,{$from:c,from:d,to:u}=l;if(o){const e=U(c,s,t);if(e&&e.from<=d&&e.to>=u){const t=i.g.create(a,e.from,e.to);n.setSelection(t)}}return!0},first:e=>t=>{const n="function"==typeof e?e(t):e;for(let e=0;e<n.length;e+=1)if(n[e](t))return!0;return!1},focus:(e=null,t={})=>({editor:n,view:i,tr:r,dispatch:o})=>{t={scrollIntoView:!0,...t};const s=()=>{(J()||Z())&&i.dom.focus(),requestAnimationFrame(()=>{n.isDestroyed||(i.focus(),"undefined"==typeof navigator||!/^((?!chrome|android).)*safari/i.test(navigator.userAgent)||J()||Z()||i.dom.focus({preventScroll:!0}))})};if(i.hasFocus()&&null===e||!1===e)return!0;if(o&&null===e&&!K(n.state.selection))return s(),!0;const a=X(r.doc,e)||n.state.selection,l=n.state.selection.eq(a);return o&&(l||r.setSelection(a),l&&r.storedMarks&&r.setStoredMarks(r.storedMarks),s()),!0},forEach:(e,t)=>n=>e.every((e,i)=>t(e,{...n,index:i})),insertContent:(e,t)=>({tr:n,commands:i})=>i.insertContentAt({from:n.selection.from,to:n.selection.to},e,t),insertContentAt:(e,t,n)=>({tr:r,dispatch:o,editor:l})=>{var c;if(o){let o;const d=e=>{l.emit("contentError",{editor:l,error:e,disableCollaboration:()=>{l.storage.collaboration&&(l.storage.collaboration.isDisabled=!0)}})},u={preserveWhitespace:"full",...(n={parseOptions:l.options.parseOptions,updateSelection:!0,applyInputRules:!1,applyPasteRules:!1,...n}).parseOptions};if(!n.errorOnInvalidContent&&!l.options.enableContentCheck&&l.options.emitContentError)try{ee(t,l.schema,{parseOptions:u,errorOnInvalidContent:!0})}catch(e){d(e)}try{o=ee(t,l.schema,{parseOptions:u,errorOnInvalidContent:null!==(c=n.errorOnInvalidContent)&&void 0!==c?c:l.options.enableContentCheck})}catch(e){return d(e),!1}let{from:p,to:h}="number"==typeof e?{from:e,to:e}:{from:e.from,to:e.to},f=!0,g=!0;if(("type"in o?[o]:o).forEach(e=>{e.check(),f=!!f&&(e.isText&&0===e.marks.length),g=!!g&&e.isBlock}),p===h&&g){const{parent:e}=r.doc.resolve(p);e.isTextblock&&!e.type.spec.code&&!e.childCount&&(p-=1,h+=1)}let m;if(f){if(Array.isArray(t))m=t.map(e=>e.text||"").join("");else if(t instanceof s.Fragment){let e="";t.forEach(t=>{t.text&&(e+=t.text)}),m=e}else m="object"==typeof t&&t&&t.text?t.text:t;r.insertText(m,p,h)}else m=o,r.replaceWith(p,h,m);n.updateSelection&&function(e,t,n){const r=e.steps.length-1;if(r<t)return;const o=e.steps[r];if(!(o instanceof a.c||o instanceof a.b))return;const s=e.mapping.maps[r];let l=0;s.forEach((e,t,n,i)=>{0===l&&(l=i)}),e.setSelection(i.f.near(e.doc.resolve(l),n))}(r,r.steps.length-1,-1),n.applyInputRules&&r.setMeta("applyInputRules",{from:p,text:m}),n.applyPasteRules&&r.setMeta("applyPasteRules",{from:p,text:m})}return!0},joinBackward:()=>({state:e,dispatch:t})=>Object(l.d)(e,t),joinDown:()=>({state:e,dispatch:t})=>Object(l.e)(e,t),joinForward:()=>({state:e,dispatch:t})=>Object(l.f)(e,t),joinItemBackward:()=>({state:e,dispatch:t,tr:n})=>{try{const i=Object(a.h)(e.doc,e.selection.$from.pos,-1);return null!=i&&(n.join(i,2),t&&t(n),!0)}catch{return!1}},joinItemForward:()=>({state:e,dispatch:t,tr:n})=>{try{const i=Object(a.h)(e.doc,e.selection.$from.pos,1);return null!=i&&(n.join(i,2),t&&t(n),!0)}catch{return!1}},joinTextblockBackward:()=>({state:e,dispatch:t})=>Object(l.g)(e,t),joinTextblockForward:()=>({state:e,dispatch:t})=>Object(l.h)(e,t),joinUp:()=>({state:e,dispatch:t})=>Object(l.i)(e,t),keyboardShortcut:e=>({editor:t,view:n,tr:i,dispatch:r})=>{const o=function(e){const t=e.split(/-(?!$)/);let n,i,r,o,s=t[t.length-1];"Space"===s&&(s=" ");for(let e=0;e<t.length-1;e+=1){const s=t[e];if(/^(cmd|meta|m)$/i.test(s))o=!0;else if(/^a(lt)?$/i.test(s))n=!0;else if(/^(c|ctrl|control)$/i.test(s))i=!0;else if(/^s(hift)?$/i.test(s))r=!0;else{if(!/^mod$/i.test(s))throw new Error("Unrecognized modifier name: "+s);J()||te()?o=!0:i=!0}}return n&&(s="Alt-"+s),i&&(s="Ctrl-"+s),o&&(s="Meta-"+s),r&&(s="Shift-"+s),s}(e).split(/-(?!$)/),s=o.find(e=>!["Alt","Ctrl","Meta","Shift"].includes(e)),a=new KeyboardEvent("keydown",{key:"Space"===s?" ":s,altKey:o.includes("Alt"),ctrlKey:o.includes("Ctrl"),metaKey:o.includes("Meta"),shiftKey:o.includes("Shift"),bubbles:!0,cancelable:!0}),l=t.captureTransaction(()=>{n.someProp("handleKeyDown",e=>e(n,a))});return null==l||l.steps.forEach(e=>{const t=e.map(i.mapping);t&&r&&i.maybeStep(t)}),!0},lift:(e,t={})=>({state:n,dispatch:i})=>!!ne(n,g(e,n.schema),t)&&Object(l.j)(n,i),liftEmptyBlock:()=>({state:e,dispatch:t})=>Object(l.k)(e,t),liftListItem:e=>({state:t,dispatch:n})=>{const i=g(e,t.schema);return Object(c.a)(i)(t,n)},newlineInCode:()=>({state:e,dispatch:t})=>Object(l.l)(e,t),resetAttributes:(e,t)=>({tr:n,state:i,dispatch:r})=>{let o=null,s=null;const a=ie("string"==typeof e?e:e.name,i.schema);return!!a&&("node"===a&&(o=g(e,i.schema)),"mark"===a&&(s=V(e,i.schema)),r&&n.selection.ranges.forEach(e=>{i.doc.nodesBetween(e.$from.pos,e.$to.pos,(e,i)=>{o&&o===e.type&&n.setNodeMarkup(i,void 0,re(e.attrs,t)),s&&e.marks.length&&e.marks.forEach(r=>{s===r.type&&n.addMark(i,i+e.nodeSize,s.create(re(r.attrs,t)))})})}),!0)},scrollIntoView:()=>({tr:e,dispatch:t})=>(t&&e.scrollIntoView(),!0),selectAll:()=>({tr:e,dispatch:t})=>{if(t){const t=new i.a(e.doc);e.setSelection(t)}return!0},selectNodeBackward:()=>({state:e,dispatch:t})=>Object(l.m)(e,t),selectNodeForward:()=>({state:e,dispatch:t})=>Object(l.n)(e,t),selectParentNode:()=>({state:e,dispatch:t})=>Object(l.o)(e,t),selectTextblockEnd:()=>({state:e,dispatch:t})=>Object(l.p)(e,t),selectTextblockStart:()=>({state:e,dispatch:t})=>Object(l.q)(e,t),setContent:(e,t=!1,n={},i={})=>({editor:r,tr:o,dispatch:s,commands:a})=>{var l,c;const{doc:d}=o;if("full"!==n.preserveWhitespace){const a=oe(e,r.schema,n,{errorOnInvalidContent:null!==(l=i.errorOnInvalidContent)&&void 0!==l?l:r.options.enableContentCheck});return s&&o.replaceWith(0,d.content.size,a).setMeta("preventUpdate",!t),!0}return s&&o.setMeta("preventUpdate",!t),a.insertContentAt({from:0,to:d.content.size},e,{parseOptions:n,errorOnInvalidContent:null!==(c=i.errorOnInvalidContent)&&void 0!==c?c:r.options.enableContentCheck})},setMark:(e,t={})=>({tr:n,state:i,dispatch:r})=>{const{selection:o}=n,{empty:s,ranges:a}=o,l=V(e,i.schema);if(r)if(s){const e=se(i,l);n.addStoredMark(l.create({...e,...t}))}else a.forEach(e=>{const r=e.$from.pos,o=e.$to.pos;i.doc.nodesBetween(r,o,(e,i)=>{const s=Math.max(i,r),a=Math.min(i+e.nodeSize,o);e.marks.find(e=>e.type===l)?e.marks.forEach(e=>{l===e.type&&n.addMark(s,a,l.create({...e.attrs,...t}))}):n.addMark(s,a,l.create(t))})});return function(e,t,n){var i;const{selection:r}=t;let o=null;if(K(r)&&(o=r.$cursor),o){const t=null!==(i=e.storedMarks)&&void 0!==i?i:o.marks();return!!n.isInSet(t)||!t.some(e=>e.type.excludes(n))}const{ranges:s}=r;return s.some(({$from:t,$to:i})=>{let r=0===t.depth&&(e.doc.inlineContent&&e.doc.type.allowsMarkType(n));return e.doc.nodesBetween(t.pos,i.pos,(e,t,i)=>{if(r)return!1;if(e.isInline){const t=!i||i.type.allowsMarkType(n),o=!!n.isInSet(e.marks)||!e.marks.some(e=>e.type.excludes(n));r=t&&o}return!r}),r})}(i,n,l)},setMeta:(e,t)=>({tr:n})=>(n.setMeta(e,t),!0),setNode:(e,t={})=>({state:n,dispatch:i,chain:r})=>{const o=g(e,n.schema);let s;return n.selection.$anchor.sameParent(n.selection.$head)&&(s=n.selection.$anchor.parent.attrs),o.isTextblock?r().command(({commands:e})=>!!Object(l.r)(o,{...s,...t})(n)||e.clearNodes()).command(({state:e})=>Object(l.r)(o,{...s,...t})(e,i)).run():(console.warn('[tiptap warn]: Currently "setNode()" only supports text block nodes.'),!1)},setNodeSelection:e=>({tr:t,dispatch:n})=>{if(n){const{doc:n}=t,r=W(e,0,n.content.size),o=i.c.create(n,r);t.setSelection(o)}return!0},setTextSelection:e=>({tr:t,dispatch:n})=>{if(n){const{doc:n}=t,{from:r,to:o}="number"==typeof e?{from:e,to:e}:e,s=i.g.atStart(n).from,a=i.g.atEnd(n).to,l=W(r,s,a),c=W(o,s,a),d=i.g.create(n,l,c);t.setSelection(d)}return!0},sinkListItem:e=>({state:t,dispatch:n})=>{const i=g(e,t.schema);return Object(c.b)(i)(t,n)},splitBlock:({keepMarks:e=!0}={})=>({tr:t,state:n,dispatch:r,editor:o})=>{const{selection:s,doc:l}=t,{$from:c,$to:d}=s,u=ve(o.extensionManager.attributes,c.node().type.name,c.node().attrs);if(s instanceof i.c&&s.node.isBlock)return!(!c.parentOffset||!Object(a.f)(l,c.pos))&&(r&&(e&&Oe(n,o.extensionManager.splittableMarks),t.split(c.pos).scrollIntoView()),!0);if(!c.parent.isBlock)return!1;const p=d.parentOffset===d.parent.content.size,h=0===c.depth?void 0:function(e){for(let t=0;t<e.edgeCount;t+=1){const{type:n}=e.edge(t);if(n.isTextblock&&!n.hasRequiredAttrs())return n}return null}(c.node(-1).contentMatchAt(c.indexAfter(-1)));let f=p&&h?[{type:h,attrs:u}]:void 0,g=Object(a.f)(t.doc,t.mapping.map(c.pos),1,f);if(f||g||!Object(a.f)(t.doc,t.mapping.map(c.pos),1,h?[{type:h}]:void 0)||(g=!0,f=h?[{type:h,attrs:u}]:void 0),r){if(g&&(s instanceof i.g&&t.deleteSelection(),t.split(t.mapping.map(c.pos),1,f),h&&!p&&!c.parentOffset&&c.parent.type!==h)){const e=t.mapping.map(c.before()),n=t.doc.resolve(e);c.node(-1).canReplaceWith(n.index(),n.index()+1,h)&&t.setNodeMarkup(t.mapping.map(c.before()),h)}e&&Oe(n,o.extensionManager.splittableMarks),t.scrollIntoView()}return g},splitListItem:(e,t={})=>({tr:n,state:r,dispatch:o,editor:l})=>{var c;const d=g(e,r.schema),{$from:u,$to:p}=r.selection,h=r.selection.node;if(h&&h.isBlock||u.depth<2||!u.sameParent(p))return!1;const f=u.node(-1);if(f.type!==d)return!1;const m=l.extensionManager.attributes;if(0===u.parent.content.size&&u.node(-1).childCount===u.indexAfter(-1)){if(2===u.depth||u.node(-3).type!==d||u.index(-2)!==u.node(-2).childCount-1)return!1;if(o){let e=s.Fragment.empty;const r=u.index(-1)?1:u.index(-2)?2:3;for(let t=u.depth-r;t>=u.depth-3;t-=1)e=s.Fragment.from(u.node(t).copy(e));const o=u.indexAfter(-1)<u.node(-2).childCount?1:u.indexAfter(-2)<u.node(-3).childCount?2:3,a={...ve(m,u.node().type.name,u.node().attrs),...t},l=(null===(c=d.contentMatch.defaultType)||void 0===c?void 0:c.createAndFill(a))||void 0;e=e.append(s.Fragment.from(d.createAndFill(null,l)||void 0));const p=u.before(u.depth-(r-1));n.replace(p,u.after(-o),new s.Slice(e,4-r,0));let h=-1;n.doc.nodesBetween(p,n.doc.content.size,(e,t)=>{if(h>-1)return!1;e.isTextblock&&0===e.content.size&&(h=t+1)}),h>-1&&n.setSelection(i.g.near(n.doc.resolve(h))),n.scrollIntoView()}return!0}const v=p.pos===u.end()?f.contentMatchAt(0).defaultType:null,b={...ve(m,f.type.name,f.attrs),...t},y={...ve(m,u.node().type.name,u.node().attrs),...t};n.delete(u.pos,p.pos);const w=v?[{type:d,attrs:b},{type:v,attrs:y}]:[{type:d,attrs:b}];if(!Object(a.f)(n.doc,u.pos,2))return!1;if(o){const{selection:e,storedMarks:t}=r,{splittableMarks:i}=l.extensionManager,s=t||e.$to.parentOffset&&e.$from.marks();if(n.split(u.pos,2,w).scrollIntoView(),!s||!o)return!0;const a=s.filter(e=>i.includes(e.type.name));n.ensureMarks(a)}return!0},toggleList:(e,t,n,i={})=>({editor:r,tr:o,state:s,dispatch:a,chain:l,commands:c,can:d})=>{const{extensions:u,splittableMarks:p}=r.extensionManager,h=g(e,s.schema),f=g(t,s.schema),{selection:m,storedMarks:v}=s,{$from:b,$to:y}=m,w=b.blockRange(y),x=v||m.$to.parentOffset&&m.$from.marks();if(!w)return!1;const k=ue(e=>ye(e.type.name,u))(m);if(w.depth>=1&&k&&w.depth-k.depth<=1){if(k.node.type===h)return c.liftListItem(f);if(ye(k.node.type.name,u)&&h.validContent(k.node.content)&&a)return l().command(()=>(o.setNodeMarkup(k.pos,h),!0)).command(()=>Se(o,h)).command(()=>_e(o,h)).run()}return n&&x&&a?l().command(()=>{const e=d().wrapInList(h,i),t=x.filter(e=>p.includes(e.type.name));return o.ensureMarks(t),!!e||c.clearNodes()}).wrapInList(h,i).command(()=>Se(o,h)).command(()=>_e(o,h)).run():l().command(()=>!!d().wrapInList(h,i)||c.clearNodes()).wrapInList(h,i).command(()=>Se(o,h)).command(()=>_e(o,h)).run()},toggleMark:(e,t={},n={})=>({state:i,commands:r})=>{const{extendEmptyMarkRange:o=!1}=n,s=V(e,i.schema);return be(i,s,t)?r.unsetMark(s,{extendEmptyMarkRange:o}):r.setMark(s,t)},toggleNode:(e,t,n={})=>({state:i,commands:r})=>{const o=g(e,i.schema),s=g(t,i.schema),a=ne(i,o,n);let l;return i.selection.$anchor.sameParent(i.selection.$head)&&(l=i.selection.$anchor.parent.attrs),a?r.setNode(s,l):r.setNode(o,{...l,...n})},toggleWrap:(e,t={})=>({state:n,commands:i})=>{const r=g(e,n.schema);return ne(n,r,t)?i.lift(r):i.wrapIn(r,t)},undoInputRule:()=>({state:e,dispatch:t})=>{const n=e.plugins;for(let i=0;i<n.length;i+=1){const r=n[i];let o;if(r.spec.isInputRules&&(o=r.getState(e))){if(t){const t=e.tr,n=o.transform;for(let e=n.steps.length-1;e>=0;e-=1)t.step(n.steps[e].invert(n.docs[e]));if(o.text){const n=t.doc.resolve(o.from).marks();t.replaceWith(o.from,o.to,e.schema.text(o.text,n))}else t.delete(o.from,o.to)}return!0}}return!1},unsetAllMarks:()=>({tr:e,dispatch:t})=>{const{selection:n}=e,{empty:i,ranges:r}=n;return i||t&&r.forEach(t=>{e.removeMark(t.$from.pos,t.$to.pos)}),!0},unsetMark:(e,t={})=>({tr:n,state:i,dispatch:r})=>{var o;const{extendEmptyMarkRange:s=!1}=t,{selection:a}=n,l=V(e,i.schema),{$from:c,empty:d,ranges:u}=a;if(!r)return!0;if(d&&s){let{from:e,to:t}=a;const i=null===(o=c.marks().find(e=>e.type===l))||void 0===o?void 0:o.attrs,r=U(c,l,i);r&&(e=r.from,t=r.to),n.removeMark(e,t,l)}else u.forEach(e=>{n.removeMark(e.$from.pos,e.$to.pos,l)});return n.removeStoredMark(l),!0},updateAttributes:(e,t={})=>({tr:n,state:i,dispatch:r})=>{let o=null,s=null;const a=ie("string"==typeof e?e:e.name,i.schema);return!!a&&("node"===a&&(o=g(e,i.schema)),"mark"===a&&(s=V(e,i.schema)),r&&n.selection.ranges.forEach(e=>{const r=e.$from.pos,a=e.$to.pos;let l,c,d,u;n.selection.empty?i.doc.nodesBetween(r,a,(e,t)=>{o&&o===e.type&&(d=Math.max(t,r),u=Math.min(t+e.nodeSize,a),l=t,c=e)}):i.doc.nodesBetween(r,a,(e,i)=>{i<r&&o&&o===e.type&&(d=Math.max(i,r),u=Math.min(i+e.nodeSize,a),l=i,c=e),i>=r&&i<=a&&(o&&o===e.type&&n.setNodeMarkup(i,void 0,{...e.attrs,...t}),s&&e.marks.length&&e.marks.forEach(o=>{if(s===o.type){const l=Math.max(i,r),c=Math.min(i+e.nodeSize,a);n.addMark(l,c,s.create({...o.attrs,...t}))}}))}),c&&(void 0!==l&&n.setNodeMarkup(l,void 0,{...c.attrs,...t}),s&&c.marks.length&&c.marks.forEach(e=>{s===e.type&&n.addMark(d,u,s.create({...e.attrs,...t}))}))}),!0)},wrapIn:(e,t={})=>({state:n,dispatch:i})=>{const r=g(e,n.schema);return Object(l.s)(r,t)(n,i)},wrapInList:(e,t={})=>({state:n,dispatch:i})=>{const r=g(e,n.schema);return Object(c.c)(r,t)(n,i)}});const Ee=D.create({name:"commands",addCommands:()=>({...Me})}),Ce=D.create({name:"drop",addProseMirrorPlugins(){return[new i.d({key:new i.e("tiptapDrop"),props:{handleDrop:(e,t,n,i)=>{this.editor.emit("drop",{editor:this.editor,event:t,slice:n,moved:i})}}})]}}),Ae=D.create({name:"editable",addProseMirrorPlugins(){return[new i.d({key:new i.e("editable"),props:{editable:()=>this.editor.options.editable}})]}}),je=new i.e("focusEvents"),Te=D.create({name:"focusEvents",addProseMirrorPlugins(){const{editor:e}=this;return[new i.d({key:je,props:{handleDOMEvents:{focus:(t,n)=>{e.isFocused=!0;const i=e.state.tr.setMeta("focus",{event:n}).setMeta("addToHistory",!1);return t.dispatch(i),!1},blur:(t,n)=>{e.isFocused=!1;const i=e.state.tr.setMeta("blur",{event:n}).setMeta("addToHistory",!1);return t.dispatch(i),!1}}}})]}}),Pe=D.create({name:"keymap",addKeyboardShortcuts(){const e=()=>this.editor.commands.first(({commands:e})=>[()=>e.undoInputRule(),()=>e.command(({tr:t})=>{const{selection:n,doc:r}=t,{empty:o,$anchor:s}=n,{pos:a,parent:l}=s,c=s.parent.isTextblock&&a>0?t.doc.resolve(a-1):s,d=c.parent.type.spec.isolating,u=s.pos-s.parentOffset,p=d&&1===c.parent.childCount?u===s.pos:i.f.atStart(r).from===a;return!(!o||!l.type.isTextblock||l.textContent.length||!p||p&&"paragraph"===s.parent.type.name)&&e.clearNodes()}),()=>e.deleteSelection(),()=>e.joinBackward(),()=>e.selectNodeBackward()]),t=()=>this.editor.commands.first(({commands:e})=>[()=>e.deleteSelection(),()=>e.deleteCurrentNode(),()=>e.joinForward(),()=>e.selectNodeForward()]),n={Enter:()=>this.editor.commands.first(({commands:e})=>[()=>e.newlineInCode(),()=>e.createParagraphNear(),()=>e.liftEmptyBlock(),()=>e.splitBlock()]),"Mod-Enter":()=>this.editor.commands.exitCode(),Backspace:e,"Mod-Backspace":e,"Shift-Backspace":e,Delete:t,"Mod-Delete":t,"Mod-a":()=>this.editor.commands.selectAll()},r={...n},o={...n,"Ctrl-h":e,"Alt-Backspace":e,"Ctrl-d":t,"Ctrl-Alt-Backspace":t,"Alt-Delete":t,"Alt-d":t,"Ctrl-a":()=>this.editor.commands.selectTextblockStart(),"Ctrl-e":()=>this.editor.commands.selectTextblockEnd()};return J()||te()?o:r},addProseMirrorPlugins(){return[new i.d({key:new i.e("clearDocument"),appendTransaction:(e,t,n)=>{if(e.some(e=>e.getMeta("composition")))return;const r=e.some(e=>e.docChanged)&&!t.doc.eq(n.doc),o=e.some(e=>e.getMeta("preventClearDocument"));if(!r||o)return;const{empty:s,from:a,to:l}=t.selection,c=i.f.atStart(t.doc).from,p=i.f.atEnd(t.doc).to;if(s||!(a===c&&l===p))return;if(!we(n.doc))return;const h=n.tr,f=d({state:n,transaction:h}),{commands:g}=new u({editor:this.editor,state:f});return g.clearNodes(),h.steps.length?h:void 0}})]}}),Ne=D.create({name:"paste",addProseMirrorPlugins(){return[new i.d({key:new i.e("tiptapPaste"),props:{handlePaste:(e,t,n)=>{this.editor.emit("paste",{editor:this.editor,event:t,slice:n})}}})]}}),Re=D.create({name:"tabindex",addProseMirrorPlugins(){return[new i.d({key:new i.e("tabindex"),props:{attributes:()=>this.editor.isEditable?{tabindex:"0"}:{}}})]}});class Le{get name(){return this.node.type.name}constructor(e,t,n=!1,i=null){this.currentNode=null,this.actualDepth=null,this.isBlock=n,this.resolvedPos=e,this.editor=t,this.currentNode=i}get node(){return this.currentNode||this.resolvedPos.node()}get element(){return this.editor.view.domAtPos(this.pos).node}get depth(){var e;return null!==(e=this.actualDepth)&&void 0!==e?e:this.resolvedPos.depth}get pos(){return this.resolvedPos.pos}get content(){return this.node.content}set content(e){let t=this.from,n=this.to;if(this.isBlock){if(0===this.content.size)return void console.error(`You can’t set content on a block node. Tried to set content on ${this.name} at ${this.pos}`);t=this.from+1,n=this.to-1}this.editor.commands.insertContentAt({from:t,to:n},e)}get attributes(){return this.node.attrs}get textContent(){return this.node.textContent}get size(){return this.node.nodeSize}get from(){return this.isBlock?this.pos:this.resolvedPos.start(this.resolvedPos.depth)}get range(){return{from:this.from,to:this.to}}get to(){return this.isBlock?this.pos+this.size:this.resolvedPos.end(this.resolvedPos.depth)+(this.node.isText?0:1)}get parent(){if(0===this.depth)return null;const e=this.resolvedPos.start(this.resolvedPos.depth-1),t=this.resolvedPos.doc.resolve(e);return new Le(t,this.editor)}get before(){let e=this.resolvedPos.doc.resolve(this.from-(this.isBlock?1:2));return e.depth!==this.depth&&(e=this.resolvedPos.doc.resolve(this.from-3)),new Le(e,this.editor)}get after(){let e=this.resolvedPos.doc.resolve(this.to+(this.isBlock?2:1));return e.depth!==this.depth&&(e=this.resolvedPos.doc.resolve(this.to+3)),new Le(e,this.editor)}get children(){const e=[];return this.node.content.forEach((t,n)=>{const i=t.isBlock&&!t.isTextblock,r=t.isAtom&&!t.isText,o=this.pos+n+(r?0:1);if(o<0||o>this.resolvedPos.doc.nodeSize-2)return;const s=this.resolvedPos.doc.resolve(o);if(!i&&s.depth<=this.depth)return;const a=new Le(s,this.editor,i,i?t:null);i&&(a.actualDepth=this.depth+1),e.push(new Le(s,this.editor,i,i?t:null))}),e}get firstChild(){return this.children[0]||null}get lastChild(){const e=this.children;return e[e.length-1]||null}closest(e,t={}){let n=null,i=this.parent;for(;i&&!n;){if(i.node.type.name===e)if(Object.keys(t).length>0){const e=i.node.attrs,n=Object.keys(t);for(let i=0;i<n.length;i+=1){const r=n[i];if(e[r]!==t[r])break}}else n=i;i=i.parent}return n}querySelector(e,t={}){return this.querySelectorAll(e,t,!0)[0]||null}querySelectorAll(e,t={},n=!1){let i=[];if(!this.children||0===this.children.length)return i;const r=Object.keys(t);return this.children.forEach(o=>{if(!(n&&i.length>0)){if(o.node.type.name===e){r.every(e=>t[e]===o.node.attrs[e])&&i.push(o)}n&&i.length>0||(i=i.concat(o.querySelectorAll(e,t,n)))}}),i}setAttribute(e){const{tr:t}=this.editor.state;t.setNodeMarkup(this.from,void 0,{...this.node.attrs,...e}),this.editor.view.dispatch(t)}}class Be extends class{constructor(){this.callbacks={}}on(e,t){return this.callbacks[e]||(this.callbacks[e]=[]),this.callbacks[e].push(t),this}emit(e,...t){const n=this.callbacks[e];return n&&n.forEach(e=>e.apply(this,t)),this}off(e,t){const n=this.callbacks[e];return n&&(t?this.callbacks[e]=n.filter(e=>e!==t):delete this.callbacks[e]),this}once(e,t){const n=(...i)=>{this.off(e,n),t.apply(this,i)};return this.on(e,n)}removeAllListeners(){this.callbacks={}}}{constructor(e={}){super(),this.isFocused=!1,this.isInitialized=!1,this.extensionStorage={},this.options={element:document.createElement("div"),content:"",injectCSS:!0,injectNonce:void 0,extensions:[],autofocus:!1,editable:!0,editorProps:{},parseOptions:{},coreExtensionOptions:{},enableInputRules:!0,enablePasteRules:!0,enableCoreExtensions:!0,enableContentCheck:!1,emitContentError:!1,onBeforeCreate:()=>null,onCreate:()=>null,onUpdate:()=>null,onSelectionUpdate:()=>null,onTransaction:()=>null,onFocus:()=>null,onBlur:()=>null,onDestroy:()=>null,onContentError:({error:e})=>{throw e},onPaste:()=>null,onDrop:()=>null},this.isCapturingTransaction=!1,this.capturedTransaction=null,this.setOptions(e),this.createExtensionManager(),this.createCommandManager(),this.createSchema(),this.on("beforeCreate",this.options.onBeforeCreate),this.emit("beforeCreate",{editor:this}),this.on("contentError",this.options.onContentError),this.createView(),this.injectCSS(),this.on("create",this.options.onCreate),this.on("update",this.options.onUpdate),this.on("selectionUpdate",this.options.onSelectionUpdate),this.on("transaction",this.options.onTransaction),this.on("focus",this.options.onFocus),this.on("blur",this.options.onBlur),this.on("destroy",this.options.onDestroy),this.on("drop",({event:e,slice:t,moved:n})=>this.options.onDrop(e,t,n)),this.on("paste",({event:e,slice:t})=>this.options.onPaste(e,t)),window.setTimeout(()=>{this.isDestroyed||(this.commands.focus(this.options.autofocus),this.emit("create",{editor:this}),this.isInitialized=!0)},0)}get storage(){return this.extensionStorage}get commands(){return this.commandManager.commands}chain(){return this.commandManager.chain()}can(){return this.commandManager.can()}injectCSS(){this.options.injectCSS&&document&&(this.css=function(e,t,n){const i=document.querySelector(`style[data-tiptap-style${n?"-"+n:""}]`);if(null!==i)return i;const r=document.createElement("style");return t&&r.setAttribute("nonce",t),r.setAttribute("data-tiptap-style"+(n?"-"+n:""),""),r.innerHTML=e,document.getElementsByTagName("head")[0].appendChild(r),r}('.ProseMirror {\n  position: relative;\n}\n\n.ProseMirror {\n  word-wrap: break-word;\n  white-space: pre-wrap;\n  white-space: break-spaces;\n  -webkit-font-variant-ligatures: none;\n  font-variant-ligatures: none;\n  font-feature-settings: "liga" 0; /* the above doesn\'t seem to work in Edge */\n}\n\n.ProseMirror [contenteditable="false"] {\n  white-space: normal;\n}\n\n.ProseMirror [contenteditable="false"] [contenteditable="true"] {\n  white-space: pre-wrap;\n}\n\n.ProseMirror pre {\n  white-space: pre-wrap;\n}\n\nimg.ProseMirror-separator {\n  display: inline !important;\n  border: none !important;\n  margin: 0 !important;\n  width: 0 !important;\n  height: 0 !important;\n}\n\n.ProseMirror-gapcursor {\n  display: none;\n  pointer-events: none;\n  position: absolute;\n  margin: 0;\n}\n\n.ProseMirror-gapcursor:after {\n  content: "";\n  display: block;\n  position: absolute;\n  top: -2px;\n  width: 20px;\n  border-top: 1px solid black;\n  animation: ProseMirror-cursor-blink 1.1s steps(2, start) infinite;\n}\n\n@keyframes ProseMirror-cursor-blink {\n  to {\n    visibility: hidden;\n  }\n}\n\n.ProseMirror-hideselection *::selection {\n  background: transparent;\n}\n\n.ProseMirror-hideselection *::-moz-selection {\n  background: transparent;\n}\n\n.ProseMirror-hideselection * {\n  caret-color: transparent;\n}\n\n.ProseMirror-focused .ProseMirror-gapcursor {\n  display: block;\n}\n\n.tippy-box[data-animation=fade][data-state=hidden] {\n  opacity: 0\n}',this.options.injectNonce))}setOptions(e={}){this.options={...this.options,...e},this.view&&this.state&&!this.isDestroyed&&(this.options.editorProps&&this.view.setProps(this.options.editorProps),this.view.updateState(this.state))}setEditable(e,t=!0){this.setOptions({editable:e}),t&&this.emit("update",{editor:this,transaction:this.state.tr})}get isEditable(){return this.options.editable&&this.view&&this.view.editable}get state(){return this.view.state}registerPlugin(e,t){const n=b(t)?t(e,[...this.state.plugins]):[...this.state.plugins,e],i=this.state.reconfigure({plugins:n});return this.view.updateState(i),i}unregisterPlugin(e){if(this.isDestroyed)return;const t=this.state.plugins;let n=t;if([].concat(e).forEach(e=>{const t="string"==typeof e?e+"$":e.key;n=n.filter(e=>!e.key.startsWith(t))}),t.length===n.length)return;const i=this.state.reconfigure({plugins:n});return this.view.updateState(i),i}createExtensionManager(){var e,t;const n=[...this.options.enableCoreExtensions?[Ae,q.configure({blockSeparator:null===(t=null===(e=this.options.coreExtensionOptions)||void 0===e?void 0:e.clipboardTextSerializer)||void 0===t?void 0:t.blockSeparator}),Ee,Te,Pe,Re,Ce,Ne].filter(e=>"object"!=typeof this.options.enableCoreExtensions||!1!==this.options.enableCoreExtensions[e.name]):[],...this.options.extensions].filter(e=>["extension","node","mark"].includes(null==e?void 0:e.type));this.extensionManager=new I(n,this)}createCommandManager(){this.commandManager=new u({editor:this})}createSchema(){this.schema=this.extensionManager.schema}createView(){var e;let t;try{t=oe(this.options.content,this.schema,this.options.parseOptions,{errorOnInvalidContent:this.options.enableContentCheck})}catch(e){if(!(e instanceof Error&&["[tiptap error]: Invalid JSON content","[tiptap error]: Invalid HTML content"].includes(e.message)))throw e;this.emit("contentError",{editor:this,error:e,disableCollaboration:()=>{this.storage.collaboration&&(this.storage.collaboration.isDisabled=!0),this.options.extensions=this.options.extensions.filter(e=>"collaboration"!==e.name),this.createExtensionManager()}}),t=oe(this.options.content,this.schema,this.options.parseOptions,{errorOnInvalidContent:!1})}const n=X(t,this.options.autofocus);this.view=new r.c(this.options.element,{...this.options.editorProps,attributes:{role:"textbox",...null===(e=this.options.editorProps)||void 0===e?void 0:e.attributes},dispatchTransaction:this.dispatchTransaction.bind(this),state:i.b.create({doc:t,selection:n||void 0})});const o=this.state.reconfigure({plugins:this.extensionManager.plugins});this.view.updateState(o),this.createNodeViews(),this.prependClass();this.view.dom.editor=this}createNodeViews(){this.view.isDestroyed||this.view.setProps({nodeViews:this.extensionManager.nodeViews})}prependClass(){this.view.dom.className="tiptap "+this.view.dom.className}captureTransaction(e){this.isCapturingTransaction=!0,e(),this.isCapturingTransaction=!1;const t=this.capturedTransaction;return this.capturedTransaction=null,t}dispatchTransaction(e){if(this.view.isDestroyed)return;if(this.isCapturingTransaction)return this.capturedTransaction?void e.steps.forEach(e=>{var t;return null===(t=this.capturedTransaction)||void 0===t?void 0:t.step(e)}):void(this.capturedTransaction=e);const t=this.state.apply(e),n=!this.state.selection.eq(t.selection);this.emit("beforeTransaction",{editor:this,transaction:e,nextState:t}),this.view.updateState(t),this.emit("transaction",{editor:this,transaction:e}),n&&this.emit("selectionUpdate",{editor:this,transaction:e});const i=e.getMeta("focus"),r=e.getMeta("blur");i&&this.emit("focus",{editor:this,event:i.event,transaction:e}),r&&this.emit("blur",{editor:this,event:r.event,transaction:e}),e.docChanged&&!e.getMeta("preventUpdate")&&this.emit("update",{editor:this,transaction:e})}getAttributes(e){return he(this.state,e)}isActive(e,t){const n="string"==typeof e?e:null,i="string"==typeof e?t:e;return function(e,t,n={}){if(!t)return ne(e,null,n)||be(e,null,n);const i=ie(t,e.schema);return"node"===i?ne(e,t,n):"mark"===i&&be(e,t,n)}(this.state,n,i)}getJSON(){return this.state.doc.toJSON()}getHTML(){return _(this.state.doc.content,this.schema)}getText(e){const{blockSeparator:t="\n\n",textSerializers:n={}}=e||{};return pe(this.state.doc,{blockSeparator:t,textSerializers:{...H(this.schema),...n}})}get isEmpty(){return we(this.state.doc)}getCharacterCount(){return console.warn('[tiptap warn]: "editor.getCharacterCount()" is deprecated. Please use "editor.storage.characterCount.characters()" instead.'),this.state.doc.content.size-2}destroy(){if(this.emit("destroy"),this.view){const e=this.view.dom;e&&e.editor&&delete e.editor,this.view.destroy()}this.removeAllListeners()}get isDestroyed(){var e;return!(null===(e=this.view)||void 0===e?void 0:e.docView)}$node(e,t){var n;return(null===(n=this.$doc)||void 0===n?void 0:n.querySelector(e,t))||null}$nodes(e,t){var n;return(null===(n=this.$doc)||void 0===n?void 0:n.querySelectorAll(e,t))||null}$pos(e){const t=this.state.doc.resolve(e);return new Le(t,this)}get $doc(){return this.$pos(0)}}function Ie(e){return new E({find:e.find,handler:({state:t,range:n,match:i})=>{const r=y(e.getAttributes,void 0,i);if(!1===r||null===r)return null;const{tr:o}=t,s=i[i.length-1],a=i[0];if(s){const i=a.search(/\S/),l=n.from+a.indexOf(s),c=l+s.length;if(me(n.from,n.to,t.doc).filter(t=>t.mark.type.excluded.find(n=>n===e.type&&n!==t.mark.type)).filter(e=>e.to>l).length)return null;c<n.to&&o.delete(c,n.to),l>n.from&&o.delete(n.from+i,l);const d=n.from+i+s.length;o.addMark(n.from+i,d,e.type.create(r||{})),o.removeStoredMark(e.type)}}})}function De(e){return new E({find:e.find,handler:({state:t,range:n,match:i})=>{const r=y(e.getAttributes,void 0,i)||{},{tr:o}=t,s=n.from;let a=n.to;const l=e.type.create(r);if(i[1]){let e=s+i[0].lastIndexOf(i[1]);e>a?e=a:a=e+i[1].length;const t=i[0][i[0].length-1];o.insertText(t,s+i[0].length-1),o.replaceWith(e,a,l)}else if(i[0]){const t=e.type.isInline?s:s-1;o.insert(t,e.type.create(r)).delete(o.mapping.map(s),o.mapping.map(a))}o.scrollIntoView()}})}function $e(e){return new E({find:e.find,handler:({state:t,range:n,match:i})=>{const r=t.doc.resolve(n.from),o=y(e.getAttributes,void 0,i)||{};if(!r.node(-1).canReplaceWith(r.index(-1),r.indexAfter(-1),e.type))return null;t.tr.delete(n.from,n.to).setBlockType(n.from,n.from,e.type,o)}})}function He(e){return new E({find:e.find,handler:({state:t,range:n,match:i,chain:r})=>{const o=y(e.getAttributes,void 0,i)||{},s=t.tr.delete(n.from,n.to),l=s.doc.resolve(n.from).blockRange(),c=l&&Object(a.g)(l,e.type,o);if(!c)return null;if(s.wrap(l,c),e.keepMarks&&e.editor){const{selection:n,storedMarks:i}=t,{splittableMarks:r}=e.editor.extensionManager,o=i||n.$to.parentOffset&&n.$from.marks();if(o){const e=o.filter(e=>r.includes(e.type.name));s.ensureMarks(e)}}if(e.keepAttributes){const t="bulletList"===e.type.name||"orderedList"===e.type.name?"listItem":"taskList";r().updateAttributes(t,o).run()}const d=s.doc.resolve(n.from-1).nodeBefore;d&&d.type===e.type&&Object(a.e)(s.doc,n.from-1)&&(!e.joinPredicate||e.joinPredicate(i,d))&&s.join(n.from-1)}})}class qe{constructor(e={}){this.type="node",this.name="node",this.parent=null,this.child=null,this.config={name:this.name,defaultOptions:{}},this.config={...this.config,...e},this.name=this.config.name,e.defaultOptions&&Object.keys(e.defaultOptions).length>0&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${this.name}".`),this.options=this.config.defaultOptions,this.config.addOptions&&(this.options=y(p(this,"addOptions",{name:this.name}))),this.storage=y(p(this,"addStorage",{name:this.name,options:this.options}))||{}}static create(e={}){return new qe(e)}configure(e={}){const t=this.extend({...this.config,addOptions:()=>T(this.options,e)});return t.name=this.name,t.parent=this.parent,t}extend(e={}){const t=new qe(e);return t.parent=this,this.child=t,t.name=e.name?e.name:t.parent.name,e.defaultOptions&&Object.keys(e.defaultOptions).length>0&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${t.name}".`),t.options=y(p(t,"addOptions",{name:t.name})),t.storage=y(p(t,"addStorage",{name:t.name,options:t.options})),t}}class Fe{constructor(e,t,n){this.isDragging=!1,this.component=e,this.editor=t.editor,this.options={stopEvent:null,ignoreMutation:null,...n},this.extension=t.extension,this.node=t.node,this.decorations=t.decorations,this.innerDecorations=t.innerDecorations,this.view=t.view,this.HTMLAttributes=t.HTMLAttributes,this.getPos=t.getPos,this.mount()}mount(){}get dom(){return this.editor.view.dom}get contentDOM(){return null}onDragStart(e){var t,n,r,o,s,a,l;const{view:c}=this.editor,d=e.target,u=3===d.nodeType?null===(t=d.parentElement)||void 0===t?void 0:t.closest("[data-drag-handle]"):d.closest("[data-drag-handle]");if(!this.dom||(null===(n=this.contentDOM)||void 0===n?void 0:n.contains(d))||!u)return;let p=0,h=0;if(this.dom!==u){const t=this.dom.getBoundingClientRect(),n=u.getBoundingClientRect(),i=null!==(r=e.offsetX)&&void 0!==r?r:null===(o=e.nativeEvent)||void 0===o?void 0:o.offsetX,l=null!==(s=e.offsetY)&&void 0!==s?s:null===(a=e.nativeEvent)||void 0===a?void 0:a.offsetY;p=n.x-t.x+i,h=n.y-t.y+l}const f=this.dom.cloneNode(!0);null===(l=e.dataTransfer)||void 0===l||l.setDragImage(f,p,h);const g=this.getPos();if("number"!=typeof g)return;const m=i.c.create(c.state.doc,g),v=c.state.tr.setSelection(m);c.dispatch(v)}stopEvent(e){var t;if(!this.dom)return!1;if("function"==typeof this.options.stopEvent)return this.options.stopEvent({event:e});const n=e.target;if(!(this.dom.contains(n)&&!(null===(t=this.contentDOM)||void 0===t?void 0:t.contains(n))))return!1;const r=e.type.startsWith("drag"),o="drop"===e.type;if((["INPUT","BUTTON","SELECT","TEXTAREA"].includes(n.tagName)||n.isContentEditable)&&!o&&!r)return!0;const{isEditable:s}=this.editor,{isDragging:a}=this,l=!!this.node.type.spec.draggable,c=i.c.isSelectable(this.node),d="copy"===e.type,u="paste"===e.type,p="cut"===e.type,h="mousedown"===e.type;if(!l&&c&&r&&e.target===this.dom&&e.preventDefault(),l&&r&&!a&&e.target===this.dom)return e.preventDefault(),!1;if(l&&s&&!a&&h){const e=n.closest("[data-drag-handle]");e&&(this.dom===e||this.dom.contains(e))&&(this.isDragging=!0,document.addEventListener("dragend",()=>{this.isDragging=!1},{once:!0}),document.addEventListener("drop",()=>{this.isDragging=!1},{once:!0}),document.addEventListener("mouseup",()=>{this.isDragging=!1},{once:!0}))}return!(a||o||d||u||p||h&&c)}ignoreMutation(e){if(!this.dom||!this.contentDOM)return!0;if("function"==typeof this.options.ignoreMutation)return this.options.ignoreMutation({mutation:e});if(this.node.isLeaf||this.node.isAtom)return!0;if("selection"===e.type)return!1;if(this.dom.contains(e.target)&&"childList"===e.type&&(J()||Z())&&this.editor.isFocused){if([...Array.from(e.addedNodes),...Array.from(e.removedNodes)].every(e=>e.isContentEditable))return!1}return this.contentDOM===e.target&&"attributes"===e.type||!this.contentDOM.contains(e.target)}updateAttributes(e){this.editor.commands.command(({tr:t})=>{const n=this.getPos();return"number"==typeof n&&(t.setNodeMarkup(n,void 0,{...this.node.attrs,...e}),!0)})}deleteNode(){const e=this.getPos();if("number"!=typeof e)return;const t=e+this.node.nodeSize;this.editor.commands.deleteRange({from:e,to:t})}}function ze(e){return new N({find:e.find,handler:({state:t,range:n,match:i,pasteEvent:r})=>{const o=y(e.getAttributes,void 0,i,r);if(!1===o||null===o)return null;const{tr:s}=t,a=i[i.length-1],l=i[0];let c=n.to;if(a){const i=l.search(/\S/),r=n.from+l.indexOf(a),d=r+a.length;if(me(n.from,n.to,t.doc).filter(t=>t.mark.type.excluded.find(n=>n===e.type&&n!==t.mark.type)).filter(e=>e.to>r).length)return null;d<n.to&&s.delete(d,n.to),r>n.from&&s.delete(n.from+i,r),c=n.from+i+a.length,s.addMark(n.from+i,c,e.type.create(o||{})),s.removeStoredMark(e.type)}}})}function Ge(e,t){const{selection:n}=e,{$from:r}=n;if(n instanceof i.c){const e=r.index();return r.parent.canReplaceWith(e,e+1,t)}let o=r.depth;for(;o>=0;){const e=r.index(o);if(r.node(o).contentMatchAt(e).matchType(t))return!0;o-=1}return!1}function Ue(e){return e.replace(/[-/\\^$*+?.()|[\]{}]/g,"\\$&")}},QKC9:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.vueComponentProp=void 0;const i=n("ATGc");t.vueComponentProp=e=>(0,i.propOptionsGenerator)([Object,String],e)},"RJQ+":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.instanceOfProp=void 0;const i=n("ATGc"),r=n("M5Z+");t.instanceOfProp=(e,t)=>(0,i.propOptionsGenerator)(e,t,(0,r.isInstanceOf)(e))},RV11:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isNonPositive=t.isNonNegative=t.isPositive=t.isNegative=t.instanceOfProp=t.oneOfTypesProp=t.oneOfObjectKeysProp=t.oneOfProp=t.functionProp=t.objectProp=t.arrayProp=t.anyProp=t.vueComponentProp=t.symbolProp=t.integerProp=t.numberProp=t.booleanProp=t.stringProp=void 0;var i=n("GBvS");Object.defineProperty(t,"stringProp",{enumerable:!0,get:function(){return i.stringProp}});var r=n("wjpx");Object.defineProperty(t,"booleanProp",{enumerable:!0,get:function(){return r.booleanProp}});var o=n("VwVM");Object.defineProperty(t,"numberProp",{enumerable:!0,get:function(){return o.numberProp}});var s=n("Ldaq");Object.defineProperty(t,"integerProp",{enumerable:!0,get:function(){return s.integerProp}});var a=n("yGBk");Object.defineProperty(t,"symbolProp",{enumerable:!0,get:function(){return a.symbolProp}});var l=n("QKC9");Object.defineProperty(t,"vueComponentProp",{enumerable:!0,get:function(){return l.vueComponentProp}});var c=n("64u9");Object.defineProperty(t,"anyProp",{enumerable:!0,get:function(){return c.anyProp}});var d=n("BOSz");Object.defineProperty(t,"arrayProp",{enumerable:!0,get:function(){return d.arrayProp}});var u=n("8X9H");Object.defineProperty(t,"objectProp",{enumerable:!0,get:function(){return u.objectProp}});var p=n("comH");Object.defineProperty(t,"functionProp",{enumerable:!0,get:function(){return p.functionProp}});var h=n("5L1K");Object.defineProperty(t,"oneOfProp",{enumerable:!0,get:function(){return h.oneOfProp}});var f=n("kXv+");Object.defineProperty(t,"oneOfObjectKeysProp",{enumerable:!0,get:function(){return f.oneOfObjectKeysProp}});var g=n("NsFm");Object.defineProperty(t,"oneOfTypesProp",{enumerable:!0,get:function(){return g.oneOfTypesProp}});var m=n("RJQ+");Object.defineProperty(t,"instanceOfProp",{enumerable:!0,get:function(){return m.instanceOfProp}});var v=n("GlSK");Object.defineProperty(t,"isNegative",{enumerable:!0,get:function(){return v.isNegative}});var b=n("pnD1");Object.defineProperty(t,"isPositive",{enumerable:!0,get:function(){return b.isPositive}});var y=n("A30U");Object.defineProperty(t,"isNonNegative",{enumerable:!0,get:function(){return y.isNonNegative}});var w=n("OPli");Object.defineProperty(t,"isNonPositive",{enumerable:!0,get:function(){return w.isNonPositive}})},SkoZ:function(e,t,n){"use strict";n.d(t,"a",(function(){return d})),n.d(t,"b",(function(){return u})),n.d(t,"c",(function(){return p})),n.d(t,"d",(function(){return h})),n.d(t,"e",(function(){return m})),n.d(t,"f",(function(){return f}));n("3PqT");var i=n("P/GM"),r=n("roUw"),o=n("pblh");class s{getTextContent(e){return Object(i.t)(e,{textSerializers:Object(i.u)(this.editor.schema)})}constructor({editor:e,element:t,view:n,tippyOptions:i={},shouldShow:r}){this.preventHide=!1,this.shouldShow=({view:e,state:t})=>{const{selection:n}=t,{$anchor:i,empty:r}=n,o=1===i.depth,s=i.parent.isTextblock&&!i.parent.type.spec.code&&!i.parent.textContent&&0===i.parent.childCount&&!this.getTextContent(i.parent);return!!(e.hasFocus()&&r&&o&&s&&this.editor.isEditable)},this.mousedownHandler=()=>{this.preventHide=!0},this.focusHandler=()=>{setTimeout(()=>this.update(this.editor.view))},this.blurHandler=({event:e})=>{var t;this.preventHide?this.preventHide=!1:(null==e?void 0:e.relatedTarget)&&(null===(t=this.element.parentNode)||void 0===t?void 0:t.contains(e.relatedTarget))||(null==e?void 0:e.relatedTarget)!==this.editor.view.dom&&this.hide()},this.tippyBlurHandler=e=>{this.blurHandler({event:e})},this.editor=e,this.element=t,this.view=n,r&&(this.shouldShow=r),this.element.addEventListener("mousedown",this.mousedownHandler,{capture:!0}),this.editor.on("focus",this.focusHandler),this.editor.on("blur",this.blurHandler),this.tippyOptions=i,this.element.remove(),this.element.style.visibility="visible"}createTooltip(){const{element:e}=this.editor.options,t=!!e.parentElement;this.element.tabIndex=0,!this.tippy&&t&&(this.tippy=Object(o.a)(e,{duration:0,getReferenceClientRect:null,content:this.element,interactive:!0,trigger:"manual",placement:"right",hideOnClick:"toggle",...this.tippyOptions}),this.tippy.popper.firstChild&&this.tippy.popper.firstChild.addEventListener("blur",this.tippyBlurHandler))}update(e,t){var n,r,o;const{state:s}=e,{doc:a,selection:l}=s,{from:c,to:d}=l;if(t&&t.doc.eq(a)&&t.selection.eq(l))return;this.createTooltip();(null===(n=this.shouldShow)||void 0===n?void 0:n.call(this,{editor:this.editor,view:e,state:s,oldState:t}))?(null===(r=this.tippy)||void 0===r||r.setProps({getReferenceClientRect:(null===(o=this.tippyOptions)||void 0===o?void 0:o.getReferenceClientRect)||(()=>Object(i.B)(e,c,d))}),this.show()):this.hide()}show(){var e;null===(e=this.tippy)||void 0===e||e.show()}hide(){var e;null===(e=this.tippy)||void 0===e||e.hide()}destroy(){var e,t;(null===(e=this.tippy)||void 0===e?void 0:e.popper.firstChild)&&this.tippy.popper.firstChild.removeEventListener("blur",this.tippyBlurHandler),null===(t=this.tippy)||void 0===t||t.destroy(),this.element.removeEventListener("mousedown",this.mousedownHandler,{capture:!0}),this.editor.off("focus",this.focusHandler),this.editor.off("blur",this.blurHandler)}}const a=e=>new r.d({key:"string"==typeof e.pluginKey?new r.e(e.pluginKey):e.pluginKey,view:t=>new s({view:t,...e})});i.b.create({name:"floatingMenu",addOptions:()=>({element:null,tippyOptions:{},pluginKey:"floatingMenu",shouldShow:null}),addProseMirrorPlugins(){return this.options.element?[a({pluginKey:this.options.pluginKey,editor:this.editor,element:this.options.element,tippyOptions:this.options.tippyOptions,shouldShow:this.options.shouldShow})]:[]}});var l=n("ewH8"),c=n("RV11");class d extends i.a{constructor(){super(...arguments),this.contentComponent=null}}const u={name:"EditorContent",props:{editor:{default:null,type:Object}},watch:{editor:{immediate:!0,handler(e){e&&e.options.element&&this.$nextTick(()=>{const t=this.$el;t&&e.options.element.firstChild&&(t.append(...e.options.element.childNodes),e.contentComponent=this,e.setOptions({element:t}),e.createNodeViews())})}}},render:e=>e("div"),beforeDestroy(){const{editor:e}=this;if(!e)return;if(e.isDestroyed||e.view.setProps({nodeViews:{}}),e.contentComponent=null,!e.options.element.firstChild)return;const t=document.createElement("div");t.append(...e.options.element.childNodes),e.setOptions({element:t})}},p={props:{as:{type:String,default:"div"}},render(e){return e(this.as,{style:{whiteSpace:"pre-wrap"},attrs:{"data-node-view-content":""}})}},h={props:{as:{type:String,default:"div"}},inject:["onDragStart","decorationClasses"],render(e){return e(this.as,{class:this.decorationClasses.value,style:{whiteSpace:"normal"},attrs:{"data-node-view-wrapper":""},on:{dragstart:this.onDragStart}},this.$slots.default)}};class f{constructor(e,t){const n="function"==typeof e?e:l.default.extend(e);this.ref=new n(t).$mount()}get element(){return this.ref.$el}updateProps(e={}){var t,n,i;if(!this.ref.$props)return;const r=null!==(i=null===(n=null===(t=this.ref.$props.editor)||void 0===t?void 0:t.contentComponent)||void 0===n?void 0:n.$options._base)&&void 0!==i?i:l.default,o=r.config.silent;r.config.silent=!0,Object.defineProperty(this.ref.$props,"__GITLAB_VUE3_MIGRATION_MUTABLE_PROPS__",{value:!0,enumerable:!0,configurable:!0}),Object.entries(e).forEach(([e,t])=>{this.ref.$props[e]=t}),r.config.silent=o}destroy(){this.ref.$destroy()}}Object(c.objectProp)().required,Object(c.objectProp)().required,Object(c.objectProp)().required,Object(c.booleanProp)().required,Object(c.objectProp)().required,Object(c.functionProp)().required,Object(c.functionProp)().required,Object(c.functionProp)().required;class g extends i.f{mount(){var e,t;const n={editor:this.editor,node:this.node,decorations:this.decorations,innerDecorations:this.innerDecorations,view:this.view,selected:!1,extension:this.extension,HTMLAttributes:this.HTMLAttributes,getPos:()=>this.getPos(),updateAttributes:(e={})=>this.updateAttributes(e),deleteNode:()=>this.deleteNode()},i=this.onDragStart.bind(this);this.decorationClasses=l.default.observable({value:this.getDecorationClasses()});const r=null!==(t=null===(e=this.editor.contentComponent)||void 0===e?void 0:e.$options._base)&&void 0!==t?t:l.default;Object.defineProperty(n,"__GITLAB_VUE3_MIGRATION_MUTABLE_PROPS__",{value:!0,enumerable:!0,configurable:!0});const o=r.extend(this.component).extend({props:Object.keys(n),provide:()=>({onDragStart:i,decorationClasses:this.decorationClasses})});this.handleSelectionUpdate=this.handleSelectionUpdate.bind(this),this.editor.on("selectionUpdate",this.handleSelectionUpdate),this.renderer=new f(o,{parent:this.editor.contentComponent,propsData:n})}get dom(){if(!this.renderer.element.hasAttribute("data-node-view-wrapper"))throw Error("Please use the NodeViewWrapper component for your node view.");return this.renderer.element}get contentDOM(){if(this.node.isLeaf)return null;return this.dom.querySelector("[data-node-view-content]")||this.dom}handleSelectionUpdate(){const{from:e,to:t}=this.editor.state.selection,n=this.getPos();if("number"==typeof n)if(e<=n&&t>=n+this.node.nodeSize){if(this.renderer.ref.$props.selected)return;this.selectNode()}else{if(!this.renderer.ref.$props.selected)return;this.deselectNode()}}update(e,t,n){const i=e=>{this.decorationClasses.value=this.getDecorationClasses(),this.renderer.updateProps(e)};if("function"==typeof this.options.update){const r=this.node,o=this.decorations,s=this.innerDecorations;return this.node=e,this.decorations=t,this.innerDecorations=n,this.options.update({oldNode:r,oldDecorations:o,newNode:e,newDecorations:t,oldInnerDecorations:s,innerDecorations:n,updateProps:()=>i({node:e,decorations:t,innerDecorations:n})})}return e.type===this.node.type&&(e===this.node&&this.decorations===t&&this.innerDecorations===n||(this.node=e,this.decorations=t,this.innerDecorations=n,i({node:e,decorations:t,innerDecorations:n})),!0)}selectNode(){this.renderer.updateProps({selected:!0}),this.renderer.element.classList.add("ProseMirror-selectednode")}deselectNode(){this.renderer.updateProps({selected:!1}),this.renderer.element.classList.remove("ProseMirror-selectednode")}getDecorationClasses(){return this.decorations.map(e=>e.type.attrs.class).flat().join(" ")}destroy(){this.renderer.destroy(),this.editor.off("selectionUpdate",this.handleSelectionUpdate)}}function m(e,t){return n=>n.editor.contentComponent?new g(e,n,t):{}}},VwVM:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.numberProp=void 0;const i=n("ATGc");t.numberProp=e=>(0,i.propOptionsGenerator)(Number,e)},ZpQS:function(e,t,n){"use strict";var i=n("yg9e"),r=n("KG2+"),o=n("+602"),s=n("7PMs"),a=n("R6g9"),l=i(s),c=i("".slice),d=Math.ceil,u=function(e){return function(t,n,i){var s,u,p=o(a(t)),h=r(n),f=p.length,g=void 0===i?" ":o(i);return h<=f||""===g?p:((u=l(g,d((s=h-f)/g.length))).length>s&&(u=c(u,0,s)),e?p+u:u+p)}};e.exports={start:u(!1),end:u(!0)}},aUre:function(e,t,n){"use strict";var i=n("Tmea"),r=n.n(i),o=(n("ZzK0"),n("z6RN"),n("BzOf"),n("v2fZ"),n("ZUW3")),s=n("qCaJ");const a={update:"docUpdate",selectionUpdate:"selectionUpdate",transaction:"transaction",focus:"focus",blur:"blur"},l=[s.a,s.h];var c=Object(o.a)({inject:["tiptapEditor","eventHub"],props:{debounce:{type:Number,required:!1,default:100}},created(){var e=this;this.disposables=[],Object.keys(a).forEach((function(t){var n;let i=function(n){return e.bubbleEvent(a[t],n)};e.debounce&&(i=r()(i,e.debounce)),null===(n=e.tiptapEditor)||void 0===n||n.on(t,i),e.disposables.push((function(){var n;return null===(n=e.tiptapEditor)||void 0===n?void 0:n.off(t,i)}))})),l.forEach((function(t){const n=function(...n){e.bubbleEvent(t,...n)};e.eventHub.$on(t,n),e.disposables.push((function(){var i;return null===(i=e.eventHub)||void 0===i?void 0:i.$off(t,n)}))}))},beforeDestroy(){this.disposables.forEach((function(e){return e()}))},methods:{bubbleEvent(e,t){this.$emit(e,t)}},render(){var e,t;return null===(e=(t=this.$scopedSlots).default)||void 0===e?void 0:e.call(t)}}),d=n("tBpV"),u=Object(d.a)(c,void 0,void 0,!1,null,null,null);t.a=u.exports},bTte:function(e,t,n){"use strict";n("K2dJ")},cfPK:function(e,t,n){"use strict";n.d(t,"a",(function(){return be}));var i=n("P/GM"),r=n("roUw");const o=/^```([a-z]+)?[\s\n]$/,s=/^~~~([a-z]+)?[\s\n]$/,a=i.e.create({name:"codeBlock",addOptions:()=>({languageClassPrefix:"language-",exitOnTripleEnter:!0,exitOnArrowDown:!0,defaultLanguage:null,HTMLAttributes:{}}),content:"text*",marks:"",group:"block",code:!0,defining:!0,addAttributes(){return{language:{default:this.options.defaultLanguage,parseHTML:e=>{var t;const{languageClassPrefix:n}=this.options,i=[...(null===(t=e.firstElementChild)||void 0===t?void 0:t.classList)||[]].filter(e=>e.startsWith(n)).map(e=>e.replace(n,""))[0];return i||null},rendered:!1}}},parseHTML:()=>[{tag:"pre",preserveWhitespace:"full"}],renderHTML({node:e,HTMLAttributes:t}){return["pre",Object(i.z)(this.options.HTMLAttributes,t),["code",{class:e.attrs.language?this.options.languageClassPrefix+e.attrs.language:null},0]]},addCommands(){return{setCodeBlock:e=>({commands:t})=>t.setNode(this.name,e),toggleCodeBlock:e=>({commands:t})=>t.toggleNode(this.name,"paragraph",e)}},addKeyboardShortcuts(){return{"Mod-Alt-c":()=>this.editor.commands.toggleCodeBlock(),Backspace:()=>{const{empty:e,$anchor:t}=this.editor.state.selection,n=1===t.pos;return!(!e||t.parent.type.name!==this.name)&&(!(!n&&t.parent.textContent.length)&&this.editor.commands.clearNodes())},Enter:({editor:e})=>{if(!this.options.exitOnTripleEnter)return!1;const{state:t}=e,{selection:n}=t,{$from:i,empty:r}=n;if(!r||i.parent.type!==this.type)return!1;const o=i.parentOffset===i.parent.nodeSize-2,s=i.parent.textContent.endsWith("\n\n");return!(!o||!s)&&e.chain().command(({tr:e})=>(e.delete(i.pos-2,i.pos),!0)).exitCode().run()},ArrowDown:({editor:e})=>{if(!this.options.exitOnArrowDown)return!1;const{state:t}=e,{selection:n,doc:i}=t,{$from:o,empty:s}=n;if(!s||o.parent.type!==this.type)return!1;if(!(o.parentOffset===o.parent.nodeSize-2))return!1;const a=o.after();if(void 0===a)return!1;return i.nodeAt(a)?e.commands.command(({tr:e})=>(e.setSelection(r.f.near(i.resolve(a))),!0)):e.commands.exitCode()}}},addInputRules(){return[Object(i.C)({find:o,type:this.type,getAttributes:e=>({language:e[1]})}),Object(i.C)({find:s,type:this.type,getAttributes:e=>({language:e[1]})})]},addProseMirrorPlugins(){return[new r.d({key:new r.e("codeBlockVSCodeHandler"),props:{handlePaste:(e,t)=>{if(!t.clipboardData)return!1;if(this.editor.isActive(this.type.name))return!1;const n=t.clipboardData.getData("text/plain"),i=t.clipboardData.getData("vscode-editor-data"),o=i?JSON.parse(i):void 0,s=null==o?void 0:o.mode;if(!n||!s)return!1;const{tr:a,schema:l}=e.state,c=l.text(n.replace(/\r\n?/g,"\n"));return a.replaceSelectionWith(this.type.create({language:s},c)),a.selection.$from.parent.type!==this.type&&a.setSelection(r.g.near(a.doc.resolve(Math.max(0,a.selection.from-2)))),a.setMeta("paste",!0),e.dispatch(a),!0}}})]}});var l=n("+ZU4");function c(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function d(e){return e instanceof Map?e.clear=e.delete=e.set=function(){throw new Error("map is read-only")}:e instanceof Set&&(e.add=e.clear=e.delete=function(){throw new Error("set is read-only")}),Object.freeze(e),Object.getOwnPropertyNames(e).forEach(t=>{const n=e[t],i=typeof n;"object"!==i&&"function"!==i||Object.isFrozen(n)||d(n)}),e}class u{constructor(e){void 0===e.data&&(e.data={}),this.data=e.data,this.isMatchIgnored=!1}ignoreMatch(){this.isMatchIgnored=!0}}function p(e){return e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;")}function h(e,...t){const n=Object.create(null);for(const t in e)n[t]=e[t];return t.forEach((function(e){for(const t in e)n[t]=e[t]})),n}const f=e=>!!e.scope;class g{constructor(e,t){this.buffer="",this.classPrefix=t.classPrefix,e.walk(this)}addText(e){this.buffer+=p(e)}openNode(e){if(!f(e))return;const t=((e,{prefix:t})=>{if(e.startsWith("language:"))return e.replace("language:","language-");if(e.includes(".")){const n=e.split(".");return[`${t}${n.shift()}`,...n.map((e,t)=>`${e}${"_".repeat(t+1)}`)].join(" ")}return`${t}${e}`})(e.scope,{prefix:this.classPrefix});this.span(t)}closeNode(e){f(e)&&(this.buffer+="</span>")}value(){return this.buffer}span(e){this.buffer+=`<span class="${e}">`}}const m=(e={})=>{const t={children:[]};return Object.assign(t,e),t};class v{constructor(){this.rootNode=m(),this.stack=[this.rootNode]}get top(){return this.stack[this.stack.length-1]}get root(){return this.rootNode}add(e){this.top.children.push(e)}openNode(e){const t=m({scope:e});this.add(t),this.stack.push(t)}closeNode(){if(this.stack.length>1)return this.stack.pop()}closeAllNodes(){for(;this.closeNode(););}toJSON(){return JSON.stringify(this.rootNode,null,4)}walk(e){return this.constructor._walk(e,this.rootNode)}static _walk(e,t){return"string"==typeof t?e.addText(t):t.children&&(e.openNode(t),t.children.forEach(t=>this._walk(e,t)),e.closeNode(t)),e}static _collapse(e){"string"!=typeof e&&e.children&&(e.children.every(e=>"string"==typeof e)?e.children=[e.children.join("")]:e.children.forEach(e=>{v._collapse(e)}))}}class b extends v{constructor(e){super(),this.options=e}addText(e){""!==e&&this.add(e)}startScope(e){this.openNode(e)}endScope(){this.closeNode()}__addSublanguage(e,t){const n=e.root;t&&(n.scope="language:"+t),this.add(n)}toHTML(){return new g(this,this.options).value()}finalize(){return this.closeAllNodes(),!0}}function y(e){return e?"string"==typeof e?e:e.source:null}function w(e){return O("(?=",e,")")}function x(e){return O("(?:",e,")*")}function k(e){return O("(?:",e,")?")}function O(...e){return e.map(e=>y(e)).join("")}function S(...e){return"("+(function(e){const t=e[e.length-1];return"object"==typeof t&&t.constructor===Object?(e.splice(e.length-1,1),t):{}}(e).capture?"":"?:")+e.map(e=>y(e)).join("|")+")"}function _(e){return new RegExp(e.toString()+"|").exec("").length-1}const M=/\[(?:[^\\\]]|\\.)*\]|\(\??|\\([1-9][0-9]*)|\\./;function E(e,{joinWith:t}){let n=0;return e.map(e=>{n+=1;const t=n;let i=y(e),r="";for(;i.length>0;){const e=M.exec(i);if(!e){r+=i;break}r+=i.substring(0,e.index),i=i.substring(e.index+e[0].length),"\\"===e[0][0]&&e[1]?r+="\\"+String(Number(e[1])+t):(r+=e[0],"("===e[0]&&n++)}return r}).map(e=>`(${e})`).join(t)}const C="(-?)(\\b0[xX][a-fA-F0-9]+|(\\b\\d+(\\.\\d*)?|\\.\\d+)([eE][-+]?\\d+)?)",A={begin:"\\\\[\\s\\S]",relevance:0},j={scope:"string",begin:"'",end:"'",illegal:"\\n",contains:[A]},T={scope:"string",begin:'"',end:'"',illegal:"\\n",contains:[A]},P=function(e,t,n={}){const i=h({scope:"comment",begin:e,end:t,contains:[]},n);i.contains.push({scope:"doctag",begin:"[ ]*(?=(TODO|FIXME|NOTE|BUG|OPTIMIZE|HACK|XXX):)",end:/(TODO|FIXME|NOTE|BUG|OPTIMIZE|HACK|XXX):/,excludeBegin:!0,relevance:0});const r=S("I","a","is","so","us","to","at","if","in","it","on",/[A-Za-z]+['](d|ve|re|ll|t|s|n)/,/[A-Za-z]+[-][a-z]+/,/[A-Za-z][a-z]{2,}/);return i.contains.push({begin:O(/[ ]+/,"(",r,/[.]?[:]?([.][ ]|[ ])/,"){3}")}),i},N=P("//","$"),R=P("/\\*","\\*/"),L=P("#","$"),B={scope:"number",begin:"\\b\\d+(\\.\\d+)?",relevance:0},I={scope:"number",begin:C,relevance:0},D={scope:"number",begin:"\\b(0b[01]+)",relevance:0},$={scope:"regexp",begin:/\/(?=[^/\n]*\/)/,end:/\/[gimuy]*/,contains:[A,{begin:/\[/,end:/\]/,relevance:0,contains:[A]}]},H={scope:"title",begin:"[a-zA-Z]\\w*",relevance:0},q={scope:"title",begin:"[a-zA-Z_]\\w*",relevance:0},F={begin:"\\.\\s*[a-zA-Z_]\\w*",relevance:0};var z=Object.freeze({__proto__:null,APOS_STRING_MODE:j,BACKSLASH_ESCAPE:A,BINARY_NUMBER_MODE:D,BINARY_NUMBER_RE:"\\b(0b[01]+)",COMMENT:P,C_BLOCK_COMMENT_MODE:R,C_LINE_COMMENT_MODE:N,C_NUMBER_MODE:I,C_NUMBER_RE:C,END_SAME_AS_BEGIN:function(e){return Object.assign(e,{"on:begin":(e,t)=>{t.data._beginMatch=e[1]},"on:end":(e,t)=>{t.data._beginMatch!==e[1]&&t.ignoreMatch()}})},HASH_COMMENT_MODE:L,IDENT_RE:"[a-zA-Z]\\w*",MATCH_NOTHING_RE:/\b\B/,METHOD_GUARD:F,NUMBER_MODE:B,NUMBER_RE:"\\b\\d+(\\.\\d+)?",PHRASAL_WORDS_MODE:{begin:/\b(a|an|the|are|I'm|isn't|don't|doesn't|won't|but|just|should|pretty|simply|enough|gonna|going|wtf|so|such|will|you|your|they|like|more)\b/},QUOTE_STRING_MODE:T,REGEXP_MODE:$,RE_STARTERS_RE:"!|!=|!==|%|%=|&|&&|&=|\\*|\\*=|\\+|\\+=|,|-|-=|/=|/|:|;|<<|<<=|<=|<|===|==|=|>>>=|>>=|>=|>>>|>>|>|\\?|\\[|\\{|\\(|\\^|\\^=|\\||\\|=|\\|\\||~",SHEBANG:(e={})=>{const t=/^#![ ]*\//;return e.binary&&(e.begin=O(t,/.*\b/,e.binary,/\b.*/)),h({scope:"meta",begin:t,end:/$/,relevance:0,"on:begin":(e,t)=>{0!==e.index&&t.ignoreMatch()}},e)},TITLE_MODE:H,UNDERSCORE_IDENT_RE:"[a-zA-Z_]\\w*",UNDERSCORE_TITLE_MODE:q});function G(e,t){"."===e.input[e.index-1]&&t.ignoreMatch()}function U(e,t){void 0!==e.className&&(e.scope=e.className,delete e.className)}function V(e,t){t&&e.beginKeywords&&(e.begin="\\b("+e.beginKeywords.split(" ").join("|")+")(?!\\.)(?=\\b|\\s)",e.__beforeBegin=G,e.keywords=e.keywords||e.beginKeywords,delete e.beginKeywords,void 0===e.relevance&&(e.relevance=0))}function K(e,t){Array.isArray(e.illegal)&&(e.illegal=S(...e.illegal))}function W(e,t){if(e.match){if(e.begin||e.end)throw new Error("begin & end are not supported with match");e.begin=e.match,delete e.match}}function X(e,t){void 0===e.relevance&&(e.relevance=1)}const Z=(e,t)=>{if(!e.beforeMatch)return;if(e.starts)throw new Error("beforeMatch cannot be used with starts");const n=Object.assign({},e);Object.keys(e).forEach(t=>{delete e[t]}),e.keywords=n.keywords,e.begin=O(n.beforeMatch,w(n.begin)),e.starts={relevance:0,contains:[Object.assign(n,{endsParent:!0})]},e.relevance=0,delete n.beforeMatch},J=["of","and","for","in","not","or","if","then","parent","list","value"];function Q(e,t){return t?Number(t):function(e){return J.includes(e.toLowerCase())}(e)?0:1}const Y={},ee=e=>{console.error(e)},te=(e,...t)=>{console.log("WARN: "+e,...t)},ne=(e,t)=>{Y[`${e}/${t}`]||(console.log(`Deprecated as of ${e}. ${t}`),Y[`${e}/${t}`]=!0)},ie=new Error;function re(e,t,{key:n}){let i=0;const r=e[n],o={},s={};for(let e=1;e<=t.length;e++)s[e+i]=r[e],o[e+i]=!0,i+=_(t[e-1]);e[n]=s,e[n]._emit=o,e[n]._multi=!0}function oe(e){!function(e){e.scope&&"object"==typeof e.scope&&null!==e.scope&&(e.beginScope=e.scope,delete e.scope)}(e),"string"==typeof e.beginScope&&(e.beginScope={_wrap:e.beginScope}),"string"==typeof e.endScope&&(e.endScope={_wrap:e.endScope}),function(e){if(Array.isArray(e.begin)){if(e.skip||e.excludeBegin||e.returnBegin)throw ee("skip, excludeBegin, returnBegin not compatible with beginScope: {}"),ie;if("object"!=typeof e.beginScope||null===e.beginScope)throw ee("beginScope must be object"),ie;re(e,e.begin,{key:"beginScope"}),e.begin=E(e.begin,{joinWith:""})}}(e),function(e){if(Array.isArray(e.end)){if(e.skip||e.excludeEnd||e.returnEnd)throw ee("skip, excludeEnd, returnEnd not compatible with endScope: {}"),ie;if("object"!=typeof e.endScope||null===e.endScope)throw ee("endScope must be object"),ie;re(e,e.end,{key:"endScope"}),e.end=E(e.end,{joinWith:""})}}(e)}function se(e){function t(t,n){return new RegExp(y(t),"m"+(e.case_insensitive?"i":"")+(e.unicodeRegex?"u":"")+(n?"g":""))}class n{constructor(){this.matchIndexes={},this.regexes=[],this.matchAt=1,this.position=0}addRule(e,t){t.position=this.position++,this.matchIndexes[this.matchAt]=t,this.regexes.push([t,e]),this.matchAt+=_(e)+1}compile(){0===this.regexes.length&&(this.exec=()=>null);const e=this.regexes.map(e=>e[1]);this.matcherRe=t(E(e,{joinWith:"|"}),!0),this.lastIndex=0}exec(e){this.matcherRe.lastIndex=this.lastIndex;const t=this.matcherRe.exec(e);if(!t)return null;const n=t.findIndex((e,t)=>t>0&&void 0!==e),i=this.matchIndexes[n];return t.splice(0,n),Object.assign(t,i)}}class i{constructor(){this.rules=[],this.multiRegexes=[],this.count=0,this.lastIndex=0,this.regexIndex=0}getMatcher(e){if(this.multiRegexes[e])return this.multiRegexes[e];const t=new n;return this.rules.slice(e).forEach(([e,n])=>t.addRule(e,n)),t.compile(),this.multiRegexes[e]=t,t}resumingScanAtSamePosition(){return 0!==this.regexIndex}considerAll(){this.regexIndex=0}addRule(e,t){this.rules.push([e,t]),"begin"===t.type&&this.count++}exec(e){const t=this.getMatcher(this.regexIndex);t.lastIndex=this.lastIndex;let n=t.exec(e);if(this.resumingScanAtSamePosition())if(n&&n.index===this.lastIndex);else{const t=this.getMatcher(0);t.lastIndex=this.lastIndex+1,n=t.exec(e)}return n&&(this.regexIndex+=n.position+1,this.regexIndex===this.count&&this.considerAll()),n}}if(e.compilerExtensions||(e.compilerExtensions=[]),e.contains&&e.contains.includes("self"))throw new Error("ERR: contains `self` is not supported at the top-level of a language.  See documentation.");return e.classNameAliases=h(e.classNameAliases||{}),function n(r,o){const s=r;if(r.isCompiled)return s;[U,W,oe,Z].forEach(e=>e(r,o)),e.compilerExtensions.forEach(e=>e(r,o)),r.__beforeBegin=null,[V,K,X].forEach(e=>e(r,o)),r.isCompiled=!0;let a=null;return"object"==typeof r.keywords&&r.keywords.$pattern&&(r.keywords=Object.assign({},r.keywords),a=r.keywords.$pattern,delete r.keywords.$pattern),a=a||/\w+/,r.keywords&&(r.keywords=function e(t,n,i="keyword"){const r=Object.create(null);return"string"==typeof t?o(i,t.split(" ")):Array.isArray(t)?o(i,t):Object.keys(t).forEach((function(i){Object.assign(r,e(t[i],n,i))})),r;function o(e,t){n&&(t=t.map(e=>e.toLowerCase())),t.forEach((function(t){const n=t.split("|");r[n[0]]=[e,Q(n[0],n[1])]}))}}(r.keywords,e.case_insensitive)),s.keywordPatternRe=t(a,!0),o&&(r.begin||(r.begin=/\B|\b/),s.beginRe=t(s.begin),r.end||r.endsWithParent||(r.end=/\B|\b/),r.end&&(s.endRe=t(s.end)),s.terminatorEnd=y(s.end)||"",r.endsWithParent&&o.terminatorEnd&&(s.terminatorEnd+=(r.end?"|":"")+o.terminatorEnd)),r.illegal&&(s.illegalRe=t(r.illegal)),r.contains||(r.contains=[]),r.contains=[].concat(...r.contains.map((function(e){return function(e){e.variants&&!e.cachedVariants&&(e.cachedVariants=e.variants.map((function(t){return h(e,{variants:null},t)})));if(e.cachedVariants)return e.cachedVariants;if(function e(t){return!!t&&(t.endsWithParent||e(t.starts))}(e))return h(e,{starts:e.starts?h(e.starts):null});if(Object.isFrozen(e))return h(e);return e}("self"===e?r:e)}))),r.contains.forEach((function(e){n(e,s)})),r.starts&&n(r.starts,o),s.matcher=function(e){const t=new i;return e.contains.forEach(e=>t.addRule(e.begin,{rule:e,type:"begin"})),e.terminatorEnd&&t.addRule(e.terminatorEnd,{type:"end"}),e.illegal&&t.addRule(e.illegal,{type:"illegal"}),t}(s),s}(e)}class ae extends Error{constructor(e,t){super(e),this.name="HTMLInjectionError",this.html=t}}const le=p,ce=h,de=Symbol("nomatch"),ue=function(e){const t=Object.create(null),n=Object.create(null),i=[];let r=!0;const o="Could not find the language '{}', did you forget to load/include a language module?",s={disableAutodetect:!0,name:"Plain text",contains:[]};let a={ignoreUnescapedHTML:!1,throwUnescapedHTML:!1,noHighlightRe:/^(no-?highlight)$/i,languageDetectRe:/\blang(?:uage)?-([\w-]+)\b/i,classPrefix:"hljs-",cssSelector:"pre code",languages:null,__emitter:b};function l(e){return a.noHighlightRe.test(e)}function c(e,t,n){let i="",r="";"object"==typeof t?(i=e,n=t.ignoreIllegals,r=t.language):(ne("10.7.0","highlight(lang, code, ...args) has been deprecated."),ne("10.7.0","Please use highlight(code, options) instead.\nhttps://github.com/highlightjs/highlight.js/issues/2277"),r=e,i=t),void 0===n&&(n=!0);const o={code:i,language:r};M("before:highlight",o);const s=o.result?o.result:p(o.language,o.code,n);return s.code=o.code,M("after:highlight",s),s}function p(e,n,i,s){const l=Object.create(null);function c(){if(!_.keywords)return void E.addText(C);let e=0;_.keywordPatternRe.lastIndex=0;let t=_.keywordPatternRe.exec(C),n="";for(;t;){n+=C.substring(e,t.index);const r=k.case_insensitive?t[0].toLowerCase():t[0],o=(i=r,_.keywords[i]);if(o){const[e,i]=o;if(E.addText(n),n="",l[r]=(l[r]||0)+1,l[r]<=7&&(A+=i),e.startsWith("_"))n+=t[0];else{const n=k.classNameAliases[e]||e;f(t[0],n)}}else n+=t[0];e=_.keywordPatternRe.lastIndex,t=_.keywordPatternRe.exec(C)}var i;n+=C.substring(e),E.addText(n)}function d(){null!=_.subLanguage?function(){if(""===C)return;let e=null;if("string"==typeof _.subLanguage){if(!t[_.subLanguage])return void E.addText(C);e=p(_.subLanguage,C,!0,M[_.subLanguage]),M[_.subLanguage]=e._top}else e=h(C,_.subLanguage.length?_.subLanguage:null);_.relevance>0&&(A+=e.relevance),E.__addSublanguage(e._emitter,e.language)}():c(),C=""}function f(e,t){""!==e&&(E.startScope(t),E.addText(e),E.endScope())}function g(e,t){let n=1;const i=t.length-1;for(;n<=i;){if(!e._emit[n]){n++;continue}const i=k.classNameAliases[e[n]]||e[n],r=t[n];i?f(r,i):(C=r,c(),C=""),n++}}function m(e,t){return e.scope&&"string"==typeof e.scope&&E.openNode(k.classNameAliases[e.scope]||e.scope),e.beginScope&&(e.beginScope._wrap?(f(C,k.classNameAliases[e.beginScope._wrap]||e.beginScope._wrap),C=""):e.beginScope._multi&&(g(e.beginScope,t),C="")),_=Object.create(e,{parent:{value:_}}),_}function b(e){return 0===_.matcher.regexIndex?(C+=e[0],1):(P=!0,0)}function y(e){const t=e[0],i=n.substring(e.index),r=function e(t,n,i){let r=function(e,t){const n=e&&e.exec(t);return n&&0===n.index}(t.endRe,i);if(r){if(t["on:end"]){const e=new u(t);t["on:end"](n,e),e.isMatchIgnored&&(r=!1)}if(r){for(;t.endsParent&&t.parent;)t=t.parent;return t}}if(t.endsWithParent)return e(t.parent,n,i)}(_,e,i);if(!r)return de;const o=_;_.endScope&&_.endScope._wrap?(d(),f(t,_.endScope._wrap)):_.endScope&&_.endScope._multi?(d(),g(_.endScope,e)):o.skip?C+=t:(o.returnEnd||o.excludeEnd||(C+=t),d(),o.excludeEnd&&(C=t));do{_.scope&&E.closeNode(),_.skip||_.subLanguage||(A+=_.relevance),_=_.parent}while(_!==r.parent);return r.starts&&m(r.starts,e),o.returnEnd?0:t.length}let w={};function x(t,o){const s=o&&o[0];if(C+=t,null==s)return d(),0;if("begin"===w.type&&"end"===o.type&&w.index===o.index&&""===s){if(C+=n.slice(o.index,o.index+1),!r){const t=new Error(`0 width match regex (${e})`);throw t.languageName=e,t.badRule=w.rule,t}return 1}if(w=o,"begin"===o.type)return function(e){const t=e[0],n=e.rule,i=new u(n),r=[n.__beforeBegin,n["on:begin"]];for(const n of r)if(n&&(n(e,i),i.isMatchIgnored))return b(t);return n.skip?C+=t:(n.excludeBegin&&(C+=t),d(),n.returnBegin||n.excludeBegin||(C=t)),m(n,e),n.returnBegin?0:t.length}(o);if("illegal"===o.type&&!i){const e=new Error('Illegal lexeme "'+s+'" for mode "'+(_.scope||"<unnamed>")+'"');throw e.mode=_,e}if("end"===o.type){const e=y(o);if(e!==de)return e}if("illegal"===o.type&&""===s)return 1;if(T>1e5&&T>3*o.index){throw new Error("potential infinite loop, way more iterations than matches")}return C+=s,s.length}const k=v(e);if(!k)throw ee(o.replace("{}",e)),new Error('Unknown language: "'+e+'"');const O=se(k);let S="",_=s||O;const M={},E=new a.__emitter(a);!function(){const e=[];for(let t=_;t!==k;t=t.parent)t.scope&&e.unshift(t.scope);e.forEach(e=>E.openNode(e))}();let C="",A=0,j=0,T=0,P=!1;try{if(k.__emitTokens)k.__emitTokens(n,E);else{for(_.matcher.considerAll();;){T++,P?P=!1:_.matcher.considerAll(),_.matcher.lastIndex=j;const e=_.matcher.exec(n);if(!e)break;const t=x(n.substring(j,e.index),e);j=e.index+t}x(n.substring(j))}return E.finalize(),S=E.toHTML(),{language:e,value:S,relevance:A,illegal:!1,_emitter:E,_top:_}}catch(t){if(t.message&&t.message.includes("Illegal"))return{language:e,value:le(n),illegal:!0,relevance:0,_illegalBy:{message:t.message,index:j,context:n.slice(j-100,j+100),mode:t.mode,resultSoFar:S},_emitter:E};if(r)return{language:e,value:le(n),illegal:!1,relevance:0,errorRaised:t,_emitter:E,_top:_};throw t}}function h(e,n){n=n||a.languages||Object.keys(t);const i=function(e){const t={value:le(e),illegal:!1,relevance:0,_top:s,_emitter:new a.__emitter(a)};return t._emitter.addText(e),t}(e),r=n.filter(v).filter(_).map(t=>p(t,e,!1));r.unshift(i);const o=r.sort((e,t)=>{if(e.relevance!==t.relevance)return t.relevance-e.relevance;if(e.language&&t.language){if(v(e.language).supersetOf===t.language)return 1;if(v(t.language).supersetOf===e.language)return-1}return 0}),[l,c]=o,d=l;return d.secondBest=c,d}function f(e){let t=null;const i=function(e){let t=e.className+" ";t+=e.parentNode?e.parentNode.className:"";const n=a.languageDetectRe.exec(t);if(n){const t=v(n[1]);return t||(te(o.replace("{}",n[1])),te("Falling back to no-highlight mode for this block.",e)),t?n[1]:"no-highlight"}return t.split(/\s+/).find(e=>l(e)||v(e))}(e);if(l(i))return;if(M("before:highlightElement",{el:e,language:i}),e.dataset.highlighted)return void console.log("Element previously highlighted. To highlight again, first unset `dataset.highlighted`.",e);if(e.children.length>0&&(a.ignoreUnescapedHTML||(console.warn("One of your code blocks includes unescaped HTML. This is a potentially serious security risk."),console.warn("https://github.com/highlightjs/highlight.js/wiki/security"),console.warn("The element with unescaped HTML:"),console.warn(e)),a.throwUnescapedHTML)){throw new ae("One of your code blocks includes unescaped HTML.",e.innerHTML)}t=e;const r=t.textContent,s=i?c(r,{language:i,ignoreIllegals:!0}):h(r);e.innerHTML=s.value,e.dataset.highlighted="yes",function(e,t,i){const r=t&&n[t]||i;e.classList.add("hljs"),e.classList.add("language-"+r)}(e,i,s.language),e.result={language:s.language,re:s.relevance,relevance:s.relevance},s.secondBest&&(e.secondBest={language:s.secondBest.language,relevance:s.secondBest.relevance}),M("after:highlightElement",{el:e,result:s,text:r})}let g=!1;function m(){if("loading"===document.readyState)return void(g=!0);document.querySelectorAll(a.cssSelector).forEach(f)}function v(e){return e=(e||"").toLowerCase(),t[e]||t[n[e]]}function y(e,{languageName:t}){"string"==typeof e&&(e=[e]),e.forEach(e=>{n[e.toLowerCase()]=t})}function _(e){const t=v(e);return t&&!t.disableAutodetect}function M(e,t){const n=e;i.forEach((function(e){e[n]&&e[n](t)}))}"undefined"!=typeof window&&window.addEventListener&&window.addEventListener("DOMContentLoaded",(function(){g&&m()}),!1),Object.assign(e,{highlight:c,highlightAuto:h,highlightAll:m,highlightElement:f,highlightBlock:function(e){return ne("10.7.0","highlightBlock will be removed entirely in v12.0"),ne("10.7.0","Please use highlightElement now."),f(e)},configure:function(e){a=ce(a,e)},initHighlighting:()=>{m(),ne("10.6.0","initHighlighting() deprecated.  Use highlightAll() now.")},initHighlightingOnLoad:function(){m(),ne("10.6.0","initHighlightingOnLoad() deprecated.  Use highlightAll() now.")},registerLanguage:function(n,i){let o=null;try{o=i(e)}catch(e){if(ee("Language definition for '{}' could not be registered.".replace("{}",n)),!r)throw e;ee(e),o=s}o.name||(o.name=n),t[n]=o,o.rawDefinition=i.bind(null,e),o.aliases&&y(o.aliases,{languageName:n})},unregisterLanguage:function(e){delete t[e];for(const t of Object.keys(n))n[t]===e&&delete n[t]},listLanguages:function(){return Object.keys(t)},getLanguage:v,registerAliases:y,autoDetection:_,inherit:ce,addPlugin:function(e){!function(e){e["before:highlightBlock"]&&!e["before:highlightElement"]&&(e["before:highlightElement"]=t=>{e["before:highlightBlock"](Object.assign({block:t.el},t))}),e["after:highlightBlock"]&&!e["after:highlightElement"]&&(e["after:highlightElement"]=t=>{e["after:highlightBlock"](Object.assign({block:t.el},t))})}(e),i.push(e)},removePlugin:function(e){const t=i.indexOf(e);-1!==t&&i.splice(t,1)}}),e.debugMode=function(){r=!1},e.safeMode=function(){r=!0},e.versionString="11.10.0",e.regex={concat:O,lookahead:w,either:S,optional:k,anyNumberOfTimes:x};for(const e in z)"object"==typeof z[e]&&d(z[e]);return Object.assign(e,z),e},pe=ue({});pe.newInstance=()=>ue({});var he=pe;pe.HighlightJS=pe,pe.default=pe;var fe=c(he);function ge(e){return e.value||e.children||[]}function me({doc:e,name:t,lowlight:n,defaultLanguage:r}){const o=[];return Object(i.k)(e,e=>e.type.name===t).forEach(e=>{var t;let i=e.pos+1;const s=e.node.attrs.language||r,a=n.listLanguages();var c;(function e(t,n=[]){return t.map(t=>{const i=[...n,...t.properties?t.properties.className:[]];return t.children?e(t.children,i):{text:t.value,classes:i}}).flat()})(s&&(a.includes(s)||(c=s,Boolean(fe.getLanguage(c)))||(null===(t=n.registered)||void 0===t?void 0:t.call(n,s)))?ge(n.highlight(s,e.node.textContent)):ge(n.highlightAuto(e.node.textContent))).forEach(e=>{const t=i+e.text.length;if(e.classes.length){const n=l.a.inline(i,t,{class:e.classes.join(" ")});o.push(n)}i=t})}),l.b.create(e,o)}function ve({name:e,lowlight:t,defaultLanguage:n}){if(!["highlight","highlightAuto","listLanguages"].every(e=>"function"==typeof t[e]))throw Error("You should provide an instance of lowlight to use the code-block-lowlight extension");const o=new r.d({key:new r.e("lowlight"),state:{init:(i,{doc:r})=>me({doc:r,name:e,lowlight:t,defaultLanguage:n}),apply:(r,o,s,a)=>{const l=s.selection.$head.parent.type.name,c=a.selection.$head.parent.type.name,d=Object(i.k)(s.doc,t=>t.type.name===e),u=Object(i.k)(a.doc,t=>t.type.name===e);return r.docChanged&&([l,c].includes(e)||u.length!==d.length||r.steps.some(e=>void 0!==e.from&&void 0!==e.to&&d.some(t=>t.pos>=e.from&&t.pos+t.node.nodeSize<=e.to)))?me({doc:r.doc,name:e,lowlight:t,defaultLanguage:n}):o.map(r.mapping,r.doc)}},props:{decorations:e=>o.getState(e)}});return o}const be=a.extend({addOptions(){var e;return{...null===(e=this.parent)||void 0===e?void 0:e.call(this),lowlight:{},languageClassPrefix:"language-",exitOnTripleEnter:!0,exitOnArrowDown:!0,defaultLanguage:null,HTMLAttributes:{}}},addProseMirrorPlugins(){var e;return[...(null===(e=this.parent)||void 0===e?void 0:e.call(this))||[],ve({name:this.name,lowlight:this.options.lowlight,defaultLanguage:this.options.defaultLanguage})]}})},comH:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.functionProp=void 0;const i=n("M5Z+");t.functionProp=e=>({optional:{type:Function,required:!1,default:void 0,validator:(0,i.vuePropValidator)(e)},nullable:{type:Function,required:!1,default:null,validator:(0,i.vuePropValidator)(e)},required:{type:Function,required:!0,validator:(0,i.vuePropValidator)(e)}})},fIL9:function(e,t,n){"use strict";function i(e){this.content=e}i.prototype={constructor:i,find:function(e){for(var t=0;t<this.content.length;t+=2)if(this.content[t]===e)return t;return-1},get:function(e){var t=this.find(e);return-1==t?void 0:this.content[t+1]},update:function(e,t,n){var r=n&&n!=e?this.remove(n):this,o=r.find(e),s=r.content.slice();return-1==o?s.push(n||e,t):(s[o+1]=t,n&&(s[o]=n)),new i(s)},remove:function(e){var t=this.find(e);if(-1==t)return this;var n=this.content.slice();return n.splice(t,2),new i(n)},addToStart:function(e,t){return new i([e,t].concat(this.remove(e).content))},addToEnd:function(e,t){var n=this.remove(e).content.slice();return n.push(e,t),new i(n)},addBefore:function(e,t,n){var r=this.remove(t),o=r.content.slice(),s=r.find(e);return o.splice(-1==s?o.length:s,0,t,n),new i(o)},forEach:function(e){for(var t=0;t<this.content.length;t+=2)e(this.content[t],this.content[t+1])},prepend:function(e){return(e=i.from(e)).size?new i(e.content.concat(this.subtract(e).content)):this},append:function(e){return(e=i.from(e)).size?new i(this.subtract(e).content.concat(e.content)):this},subtract:function(e){var t=this;e=i.from(e);for(var n=0;n<e.content.length;n+=2)t=t.remove(e.content[n]);return t},toObject:function(){var e={};return this.forEach((function(t,n){e[t]=n})),e},get size(){return this.content.length>>1}},i.from=function(e){if(e instanceof i)return e;var t=[];if(e)for(var n in e)t.push(n,e[n]);return new i(t)},t.a=i},"kXv+":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.oneOfObjectKeysProp=void 0;const i=n("5L1K");t.oneOfObjectKeysProp=(e,t)=>(0,i.oneOfProp)(Object.keys(e),t)},lROb:function(e,t,n){!function(){var t;function n(e){for(var t,n,i,r,o=1,s=[].slice.call(arguments),a=0,l=e.length,c="",d=!1,u=!1,p=function(){return s[o++]},h=function(){for(var n="";/\d/.test(e[a]);)n+=e[a++],t=e[a];return n.length>0?parseInt(n):null};a<l;++a)if(t=e[a],d)switch(d=!1,"."==t?(u=!1,t=e[++a]):"0"==t&&"."==e[a+1]?(u=!0,t=e[a+=2]):u=!0,r=h(),t){case"b":c+=parseInt(p(),10).toString(2);break;case"c":c+="string"==typeof(n=p())||n instanceof String?n:String.fromCharCode(parseInt(n,10));break;case"d":c+=parseInt(p(),10);break;case"f":i=String(parseFloat(p()).toFixed(r||6)),c+=u?i:i.replace(/^0/,"");break;case"j":c+=JSON.stringify(p());break;case"o":c+="0"+parseInt(p(),10).toString(8);break;case"s":c+=p();break;case"x":c+="0x"+parseInt(p(),10).toString(16);break;case"X":c+="0x"+parseInt(p(),10).toString(16).toUpperCase();break;default:c+=t}else"%"===t?d=!0:c+=t;return c}(t=e.exports=n).format=n,t.vsprintf=function(e,t){return n.apply(null,[e].concat(t))},"undefined"!=typeof console&&"function"==typeof console.log&&(t.printf=function(){console.log(n.apply(null,arguments))})}()},oYvw:function(e,t,n){"use strict";var i=n("3381");n.d(t,"a",(function(){return i.a})),n.d(t,"b",(function(){return i.c})),n.d(t,"c",(function(){return i.d})),n.d(t,"d",(function(){return i.e})),n.d(t,"e",(function(){return i.f})),n.d(t,"f",(function(){return i.g})),n.d(t,"g",(function(){return i.i})),n.d(t,"h",(function(){return i.j})),n.d(t,"i",(function(){return i.k}))},pblh:function(e,t,n){"use strict";function i(e){if(null==e)return window;if("[object Window]"!==e.toString()){var t=e.ownerDocument;return t&&t.defaultView||window}return e}function r(e){return e instanceof i(e).Element||e instanceof Element}function o(e){return e instanceof i(e).HTMLElement||e instanceof HTMLElement}function s(e){return"undefined"!=typeof ShadowRoot&&(e instanceof i(e).ShadowRoot||e instanceof ShadowRoot)}var a=Math.max,l=Math.min,c=Math.round;function d(e,t){void 0===t&&(t=!1);var n=e.getBoundingClientRect(),i=1,r=1;if(o(e)&&t){var s=e.offsetHeight,a=e.offsetWidth;a>0&&(i=c(n.width)/a||1),s>0&&(r=c(n.height)/s||1)}return{width:n.width/i,height:n.height/r,top:n.top/r,right:n.right/i,bottom:n.bottom/r,left:n.left/i,x:n.left/i,y:n.top/r}}function u(e){var t=i(e);return{scrollLeft:t.pageXOffset,scrollTop:t.pageYOffset}}function p(e){return e?(e.nodeName||"").toLowerCase():null}function h(e){return((r(e)?e.ownerDocument:e.document)||window.document).documentElement}function f(e){return d(h(e)).left+u(e).scrollLeft}function g(e){return i(e).getComputedStyle(e)}function m(e){var t=g(e),n=t.overflow,i=t.overflowX,r=t.overflowY;return/auto|scroll|overlay|hidden/.test(n+r+i)}function v(e,t,n){void 0===n&&(n=!1);var r,s,a=o(t),l=o(t)&&function(e){var t=e.getBoundingClientRect(),n=c(t.width)/e.offsetWidth||1,i=c(t.height)/e.offsetHeight||1;return 1!==n||1!==i}(t),g=h(t),v=d(e,l),b={scrollLeft:0,scrollTop:0},y={x:0,y:0};return(a||!a&&!n)&&(("body"!==p(t)||m(g))&&(b=(r=t)!==i(r)&&o(r)?{scrollLeft:(s=r).scrollLeft,scrollTop:s.scrollTop}:u(r)),o(t)?((y=d(t,!0)).x+=t.clientLeft,y.y+=t.clientTop):g&&(y.x=f(g))),{x:v.left+b.scrollLeft-y.x,y:v.top+b.scrollTop-y.y,width:v.width,height:v.height}}function b(e){var t=d(e),n=e.offsetWidth,i=e.offsetHeight;return Math.abs(t.width-n)<=1&&(n=t.width),Math.abs(t.height-i)<=1&&(i=t.height),{x:e.offsetLeft,y:e.offsetTop,width:n,height:i}}function y(e){return"html"===p(e)?e:e.assignedSlot||e.parentNode||(s(e)?e.host:null)||h(e)}function w(e,t){var n;void 0===t&&(t=[]);var r=function e(t){return["html","body","#document"].indexOf(p(t))>=0?t.ownerDocument.body:o(t)&&m(t)?t:e(y(t))}(e),s=r===(null==(n=e.ownerDocument)?void 0:n.body),a=i(r),l=s?[a].concat(a.visualViewport||[],m(r)?r:[]):r,c=t.concat(l);return s?c:c.concat(w(y(l)))}function x(e){return["table","td","th"].indexOf(p(e))>=0}function k(e){return o(e)&&"fixed"!==g(e).position?e.offsetParent:null}function O(e){for(var t=i(e),n=k(e);n&&x(n)&&"static"===g(n).position;)n=k(n);return n&&("html"===p(n)||"body"===p(n)&&"static"===g(n).position)?t:n||function(e){var t=-1!==navigator.userAgent.toLowerCase().indexOf("firefox");if(-1!==navigator.userAgent.indexOf("Trident")&&o(e)&&"fixed"===g(e).position)return null;var n=y(e);for(s(n)&&(n=n.host);o(n)&&["html","body"].indexOf(p(n))<0;){var i=g(n);if("none"!==i.transform||"none"!==i.perspective||"paint"===i.contain||-1!==["transform","perspective"].indexOf(i.willChange)||t&&"filter"===i.willChange||t&&i.filter&&"none"!==i.filter)return n;n=n.parentNode}return null}(e)||t}var S="top",_="bottom",M="right",E="left",C=[S,_,M,E],A=C.reduce((function(e,t){return e.concat([t+"-start",t+"-end"])}),[]),j=[].concat(C,["auto"]).reduce((function(e,t){return e.concat([t,t+"-start",t+"-end"])}),[]),T=["beforeRead","read","afterRead","beforeMain","main","afterMain","beforeWrite","write","afterWrite"];function P(e){var t=new Map,n=new Set,i=[];return e.forEach((function(e){t.set(e.name,e)})),e.forEach((function(e){n.has(e.name)||function e(r){n.add(r.name),[].concat(r.requires||[],r.requiresIfExists||[]).forEach((function(i){if(!n.has(i)){var r=t.get(i);r&&e(r)}})),i.push(r)}(e)})),i}var N={placement:"bottom",modifiers:[],strategy:"absolute"};function R(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return!t.some((function(e){return!(e&&"function"==typeof e.getBoundingClientRect)}))}function L(e){void 0===e&&(e={});var t=e,n=t.defaultModifiers,i=void 0===n?[]:n,o=t.defaultOptions,s=void 0===o?N:o;return function(e,t,n){void 0===n&&(n=s);var o,a,l={placement:"bottom",orderedModifiers:[],options:Object.assign({},N,s),modifiersData:{},elements:{reference:e,popper:t},attributes:{},styles:{}},c=[],d=!1,u={state:l,setOptions:function(n){var o="function"==typeof n?n(l.options):n;p(),l.options=Object.assign({},s,l.options,o),l.scrollParents={reference:r(e)?w(e):e.contextElement?w(e.contextElement):[],popper:w(t)};var a=function(e){var t=P(e);return T.reduce((function(e,n){return e.concat(t.filter((function(e){return e.phase===n})))}),[])}(function(e){var t=e.reduce((function(e,t){var n=e[t.name];return e[t.name]=n?Object.assign({},n,t,{options:Object.assign({},n.options,t.options),data:Object.assign({},n.data,t.data)}):t,e}),{});return Object.keys(t).map((function(e){return t[e]}))}([].concat(i,l.options.modifiers)));return l.orderedModifiers=a.filter((function(e){return e.enabled})),l.orderedModifiers.forEach((function(e){var t=e.name,n=e.options,i=void 0===n?{}:n,r=e.effect;if("function"==typeof r){var o=r({state:l,name:t,instance:u,options:i});c.push(o||function(){})}})),u.update()},forceUpdate:function(){if(!d){var e=l.elements,t=e.reference,n=e.popper;if(R(t,n)){l.rects={reference:v(t,O(n),"fixed"===l.options.strategy),popper:b(n)},l.reset=!1,l.placement=l.options.placement,l.orderedModifiers.forEach((function(e){return l.modifiersData[e.name]=Object.assign({},e.data)}));for(var i=0;i<l.orderedModifiers.length;i++)if(!0!==l.reset){var r=l.orderedModifiers[i],o=r.fn,s=r.options,a=void 0===s?{}:s,c=r.name;"function"==typeof o&&(l=o({state:l,options:a,name:c,instance:u})||l)}else l.reset=!1,i=-1}}},update:(o=function(){return new Promise((function(e){u.forceUpdate(),e(l)}))},function(){return a||(a=new Promise((function(e){Promise.resolve().then((function(){a=void 0,e(o())}))}))),a}),destroy:function(){p(),d=!0}};if(!R(e,t))return u;function p(){c.forEach((function(e){return e()})),c=[]}return u.setOptions(n).then((function(e){!d&&n.onFirstUpdate&&n.onFirstUpdate(e)})),u}}var B={passive:!0};function I(e){return e.split("-")[0]}function D(e){return e.split("-")[1]}function $(e){return["top","bottom"].indexOf(e)>=0?"x":"y"}function H(e){var t,n=e.reference,i=e.element,r=e.placement,o=r?I(r):null,s=r?D(r):null,a=n.x+n.width/2-i.width/2,l=n.y+n.height/2-i.height/2;switch(o){case S:t={x:a,y:n.y-i.height};break;case _:t={x:a,y:n.y+n.height};break;case M:t={x:n.x+n.width,y:l};break;case E:t={x:n.x-i.width,y:l};break;default:t={x:n.x,y:n.y}}var c=o?$(o):null;if(null!=c){var d="y"===c?"height":"width";switch(s){case"start":t[c]=t[c]-(n[d]/2-i[d]/2);break;case"end":t[c]=t[c]+(n[d]/2-i[d]/2)}}return t}var q={top:"auto",right:"auto",bottom:"auto",left:"auto"};function F(e){var t,n=e.popper,r=e.popperRect,o=e.placement,s=e.variation,a=e.offsets,l=e.position,d=e.gpuAcceleration,u=e.adaptive,p=e.roundOffsets,f=e.isFixed,m=a.x,v=void 0===m?0:m,b=a.y,y=void 0===b?0:b,w="function"==typeof p?p({x:v,y:y}):{x:v,y:y};v=w.x,y=w.y;var x=a.hasOwnProperty("x"),k=a.hasOwnProperty("y"),C=E,A=S,j=window;if(u){var T=O(n),P="clientHeight",N="clientWidth";if(T===i(n)&&"static"!==g(T=h(n)).position&&"absolute"===l&&(P="scrollHeight",N="scrollWidth"),T=T,o===S||(o===E||o===M)&&"end"===s)A=_,y-=(f&&T===j&&j.visualViewport?j.visualViewport.height:T[P])-r.height,y*=d?1:-1;if(o===E||(o===S||o===_)&&"end"===s)C=M,v-=(f&&T===j&&j.visualViewport?j.visualViewport.width:T[N])-r.width,v*=d?1:-1}var R,L=Object.assign({position:l},u&&q),B=!0===p?function(e){var t=e.x,n=e.y,i=window.devicePixelRatio||1;return{x:c(t*i)/i||0,y:c(n*i)/i||0}}({x:v,y:y}):{x:v,y:y};return v=B.x,y=B.y,d?Object.assign({},L,((R={})[A]=k?"0":"",R[C]=x?"0":"",R.transform=(j.devicePixelRatio||1)<=1?"translate("+v+"px, "+y+"px)":"translate3d("+v+"px, "+y+"px, 0)",R)):Object.assign({},L,((t={})[A]=k?y+"px":"",t[C]=x?v+"px":"",t.transform="",t))}var z={name:"applyStyles",enabled:!0,phase:"write",fn:function(e){var t=e.state;Object.keys(t.elements).forEach((function(e){var n=t.styles[e]||{},i=t.attributes[e]||{},r=t.elements[e];o(r)&&p(r)&&(Object.assign(r.style,n),Object.keys(i).forEach((function(e){var t=i[e];!1===t?r.removeAttribute(e):r.setAttribute(e,!0===t?"":t)})))}))},effect:function(e){var t=e.state,n={popper:{position:t.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(t.elements.popper.style,n.popper),t.styles=n,t.elements.arrow&&Object.assign(t.elements.arrow.style,n.arrow),function(){Object.keys(t.elements).forEach((function(e){var i=t.elements[e],r=t.attributes[e]||{},s=Object.keys(t.styles.hasOwnProperty(e)?t.styles[e]:n[e]).reduce((function(e,t){return e[t]="",e}),{});o(i)&&p(i)&&(Object.assign(i.style,s),Object.keys(r).forEach((function(e){i.removeAttribute(e)})))}))}},requires:["computeStyles"]};var G={left:"right",right:"left",bottom:"top",top:"bottom"};function U(e){return e.replace(/left|right|bottom|top/g,(function(e){return G[e]}))}var V={start:"end",end:"start"};function K(e){return e.replace(/start|end/g,(function(e){return V[e]}))}function W(e,t){var n=t.getRootNode&&t.getRootNode();if(e.contains(t))return!0;if(n&&s(n)){var i=t;do{if(i&&e.isSameNode(i))return!0;i=i.parentNode||i.host}while(i)}return!1}function X(e){return Object.assign({},e,{left:e.x,top:e.y,right:e.x+e.width,bottom:e.y+e.height})}function Z(e,t){return"viewport"===t?X(function(e){var t=i(e),n=h(e),r=t.visualViewport,o=n.clientWidth,s=n.clientHeight,a=0,l=0;return r&&(o=r.width,s=r.height,/^((?!chrome|android).)*safari/i.test(navigator.userAgent)||(a=r.offsetLeft,l=r.offsetTop)),{width:o,height:s,x:a+f(e),y:l}}(e)):r(t)?function(e){var t=d(e);return t.top=t.top+e.clientTop,t.left=t.left+e.clientLeft,t.bottom=t.top+e.clientHeight,t.right=t.left+e.clientWidth,t.width=e.clientWidth,t.height=e.clientHeight,t.x=t.left,t.y=t.top,t}(t):X(function(e){var t,n=h(e),i=u(e),r=null==(t=e.ownerDocument)?void 0:t.body,o=a(n.scrollWidth,n.clientWidth,r?r.scrollWidth:0,r?r.clientWidth:0),s=a(n.scrollHeight,n.clientHeight,r?r.scrollHeight:0,r?r.clientHeight:0),l=-i.scrollLeft+f(e),c=-i.scrollTop;return"rtl"===g(r||n).direction&&(l+=a(n.clientWidth,r?r.clientWidth:0)-o),{width:o,height:s,x:l,y:c}}(h(e)))}function J(e,t,n){var i="clippingParents"===t?function(e){var t=w(y(e)),n=["absolute","fixed"].indexOf(g(e).position)>=0&&o(e)?O(e):e;return r(n)?t.filter((function(e){return r(e)&&W(e,n)&&"body"!==p(e)})):[]}(e):[].concat(t),s=[].concat(i,[n]),c=s[0],d=s.reduce((function(t,n){var i=Z(e,n);return t.top=a(i.top,t.top),t.right=l(i.right,t.right),t.bottom=l(i.bottom,t.bottom),t.left=a(i.left,t.left),t}),Z(e,c));return d.width=d.right-d.left,d.height=d.bottom-d.top,d.x=d.left,d.y=d.top,d}function Q(e){return Object.assign({},{top:0,right:0,bottom:0,left:0},e)}function Y(e,t){return t.reduce((function(t,n){return t[n]=e,t}),{})}function ee(e,t){void 0===t&&(t={});var n=t,i=n.placement,o=void 0===i?e.placement:i,s=n.boundary,a=void 0===s?"clippingParents":s,l=n.rootBoundary,c=void 0===l?"viewport":l,u=n.elementContext,p=void 0===u?"popper":u,f=n.altBoundary,g=void 0!==f&&f,m=n.padding,v=void 0===m?0:m,b=Q("number"!=typeof v?v:Y(v,C)),y="popper"===p?"reference":"popper",w=e.rects.popper,x=e.elements[g?y:p],k=J(r(x)?x:x.contextElement||h(e.elements.popper),a,c),O=d(e.elements.reference),E=H({reference:O,element:w,strategy:"absolute",placement:o}),A=X(Object.assign({},w,E)),j="popper"===p?A:O,T={top:k.top-j.top+b.top,bottom:j.bottom-k.bottom+b.bottom,left:k.left-j.left+b.left,right:j.right-k.right+b.right},P=e.modifiersData.offset;if("popper"===p&&P){var N=P[o];Object.keys(T).forEach((function(e){var t=[M,_].indexOf(e)>=0?1:-1,n=[S,_].indexOf(e)>=0?"y":"x";T[e]+=N[n]*t}))}return T}function te(e,t,n){return a(e,l(t,n))}function ne(e,t,n){return void 0===n&&(n={x:0,y:0}),{top:e.top-t.height-n.y,right:e.right-t.width+n.x,bottom:e.bottom-t.height+n.y,left:e.left-t.width-n.x}}function ie(e){return[S,M,_,E].some((function(t){return e[t]>=0}))}var re=L({defaultModifiers:[{name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:function(e){var t=e.state,n=e.instance,r=e.options,o=r.scroll,s=void 0===o||o,a=r.resize,l=void 0===a||a,c=i(t.elements.popper),d=[].concat(t.scrollParents.reference,t.scrollParents.popper);return s&&d.forEach((function(e){e.addEventListener("scroll",n.update,B)})),l&&c.addEventListener("resize",n.update,B),function(){s&&d.forEach((function(e){e.removeEventListener("scroll",n.update,B)})),l&&c.removeEventListener("resize",n.update,B)}},data:{}},{name:"popperOffsets",enabled:!0,phase:"read",fn:function(e){var t=e.state,n=e.name;t.modifiersData[n]=H({reference:t.rects.reference,element:t.rects.popper,strategy:"absolute",placement:t.placement})},data:{}},{name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:function(e){var t=e.state,n=e.options,i=n.gpuAcceleration,r=void 0===i||i,o=n.adaptive,s=void 0===o||o,a=n.roundOffsets,l=void 0===a||a,c={placement:I(t.placement),variation:D(t.placement),popper:t.elements.popper,popperRect:t.rects.popper,gpuAcceleration:r,isFixed:"fixed"===t.options.strategy};null!=t.modifiersData.popperOffsets&&(t.styles.popper=Object.assign({},t.styles.popper,F(Object.assign({},c,{offsets:t.modifiersData.popperOffsets,position:t.options.strategy,adaptive:s,roundOffsets:l})))),null!=t.modifiersData.arrow&&(t.styles.arrow=Object.assign({},t.styles.arrow,F(Object.assign({},c,{offsets:t.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:l})))),t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-placement":t.placement})},data:{}},z,{name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:function(e){var t=e.state,n=e.options,i=e.name,r=n.offset,o=void 0===r?[0,0]:r,s=j.reduce((function(e,n){return e[n]=function(e,t,n){var i=I(e),r=[E,S].indexOf(i)>=0?-1:1,o="function"==typeof n?n(Object.assign({},t,{placement:e})):n,s=o[0],a=o[1];return s=s||0,a=(a||0)*r,[E,M].indexOf(i)>=0?{x:a,y:s}:{x:s,y:a}}(n,t.rects,o),e}),{}),a=s[t.placement],l=a.x,c=a.y;null!=t.modifiersData.popperOffsets&&(t.modifiersData.popperOffsets.x+=l,t.modifiersData.popperOffsets.y+=c),t.modifiersData[i]=s}},{name:"flip",enabled:!0,phase:"main",fn:function(e){var t=e.state,n=e.options,i=e.name;if(!t.modifiersData[i]._skip){for(var r=n.mainAxis,o=void 0===r||r,s=n.altAxis,a=void 0===s||s,l=n.fallbackPlacements,c=n.padding,d=n.boundary,u=n.rootBoundary,p=n.altBoundary,h=n.flipVariations,f=void 0===h||h,g=n.allowedAutoPlacements,m=t.options.placement,v=I(m),b=l||(v===m||!f?[U(m)]:function(e){if("auto"===I(e))return[];var t=U(e);return[K(e),t,K(t)]}(m)),y=[m].concat(b).reduce((function(e,n){return e.concat("auto"===I(n)?function(e,t){void 0===t&&(t={});var n=t,i=n.placement,r=n.boundary,o=n.rootBoundary,s=n.padding,a=n.flipVariations,l=n.allowedAutoPlacements,c=void 0===l?j:l,d=D(i),u=d?a?A:A.filter((function(e){return D(e)===d})):C,p=u.filter((function(e){return c.indexOf(e)>=0}));0===p.length&&(p=u);var h=p.reduce((function(t,n){return t[n]=ee(e,{placement:n,boundary:r,rootBoundary:o,padding:s})[I(n)],t}),{});return Object.keys(h).sort((function(e,t){return h[e]-h[t]}))}(t,{placement:n,boundary:d,rootBoundary:u,padding:c,flipVariations:f,allowedAutoPlacements:g}):n)}),[]),w=t.rects.reference,x=t.rects.popper,k=new Map,O=!0,T=y[0],P=0;P<y.length;P++){var N=y[P],R=I(N),L="start"===D(N),B=[S,_].indexOf(R)>=0,$=B?"width":"height",H=ee(t,{placement:N,boundary:d,rootBoundary:u,altBoundary:p,padding:c}),q=B?L?M:E:L?_:S;w[$]>x[$]&&(q=U(q));var F=U(q),z=[];if(o&&z.push(H[R]<=0),a&&z.push(H[q]<=0,H[F]<=0),z.every((function(e){return e}))){T=N,O=!1;break}k.set(N,z)}if(O)for(var G=function(e){var t=y.find((function(t){var n=k.get(t);if(n)return n.slice(0,e).every((function(e){return e}))}));if(t)return T=t,"break"},V=f?3:1;V>0;V--){if("break"===G(V))break}t.placement!==T&&(t.modifiersData[i]._skip=!0,t.placement=T,t.reset=!0)}},requiresIfExists:["offset"],data:{_skip:!1}},{name:"preventOverflow",enabled:!0,phase:"main",fn:function(e){var t=e.state,n=e.options,i=e.name,r=n.mainAxis,o=void 0===r||r,s=n.altAxis,c=void 0!==s&&s,d=n.boundary,u=n.rootBoundary,p=n.altBoundary,h=n.padding,f=n.tether,g=void 0===f||f,m=n.tetherOffset,v=void 0===m?0:m,y=ee(t,{boundary:d,rootBoundary:u,padding:h,altBoundary:p}),w=I(t.placement),x=D(t.placement),k=!x,C=$(w),A="x"===C?"y":"x",j=t.modifiersData.popperOffsets,T=t.rects.reference,P=t.rects.popper,N="function"==typeof v?v(Object.assign({},t.rects,{placement:t.placement})):v,R="number"==typeof N?{mainAxis:N,altAxis:N}:Object.assign({mainAxis:0,altAxis:0},N),L=t.modifiersData.offset?t.modifiersData.offset[t.placement]:null,B={x:0,y:0};if(j){if(o){var H,q="y"===C?S:E,F="y"===C?_:M,z="y"===C?"height":"width",G=j[C],U=G+y[q],V=G-y[F],K=g?-P[z]/2:0,W="start"===x?T[z]:P[z],X="start"===x?-P[z]:-T[z],Z=t.elements.arrow,J=g&&Z?b(Z):{width:0,height:0},Q=t.modifiersData["arrow#persistent"]?t.modifiersData["arrow#persistent"].padding:{top:0,right:0,bottom:0,left:0},Y=Q[q],ne=Q[F],ie=te(0,T[z],J[z]),re=k?T[z]/2-K-ie-Y-R.mainAxis:W-ie-Y-R.mainAxis,oe=k?-T[z]/2+K+ie+ne+R.mainAxis:X+ie+ne+R.mainAxis,se=t.elements.arrow&&O(t.elements.arrow),ae=se?"y"===C?se.clientTop||0:se.clientLeft||0:0,le=null!=(H=null==L?void 0:L[C])?H:0,ce=G+oe-le,de=te(g?l(U,G+re-le-ae):U,G,g?a(V,ce):V);j[C]=de,B[C]=de-G}if(c){var ue,pe="x"===C?S:E,he="x"===C?_:M,fe=j[A],ge="y"===A?"height":"width",me=fe+y[pe],ve=fe-y[he],be=-1!==[S,E].indexOf(w),ye=null!=(ue=null==L?void 0:L[A])?ue:0,we=be?me:fe-T[ge]-P[ge]-ye+R.altAxis,xe=be?fe+T[ge]+P[ge]-ye-R.altAxis:ve,ke=g&&be?function(e,t,n){var i=te(e,t,n);return i>n?n:i}(we,fe,xe):te(g?we:me,fe,g?xe:ve);j[A]=ke,B[A]=ke-fe}t.modifiersData[i]=B}},requiresIfExists:["offset"]},{name:"arrow",enabled:!0,phase:"main",fn:function(e){var t,n=e.state,i=e.name,r=e.options,o=n.elements.arrow,s=n.modifiersData.popperOffsets,a=I(n.placement),l=$(a),c=[E,M].indexOf(a)>=0?"height":"width";if(o&&s){var d=function(e,t){return Q("number"!=typeof(e="function"==typeof e?e(Object.assign({},t.rects,{placement:t.placement})):e)?e:Y(e,C))}(r.padding,n),u=b(o),p="y"===l?S:E,h="y"===l?_:M,f=n.rects.reference[c]+n.rects.reference[l]-s[l]-n.rects.popper[c],g=s[l]-n.rects.reference[l],m=O(o),v=m?"y"===l?m.clientHeight||0:m.clientWidth||0:0,y=f/2-g/2,w=d[p],x=v-u[c]-d[h],k=v/2-u[c]/2+y,A=te(w,k,x),j=l;n.modifiersData[i]=((t={})[j]=A,t.centerOffset=A-k,t)}},effect:function(e){var t=e.state,n=e.options.element,i=void 0===n?"[data-popper-arrow]":n;null!=i&&("string"!=typeof i||(i=t.elements.popper.querySelector(i)))&&W(t.elements.popper,i)&&(t.elements.arrow=i)},requires:["popperOffsets"],requiresIfExists:["preventOverflow"]},{name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:function(e){var t=e.state,n=e.name,i=t.rects.reference,r=t.rects.popper,o=t.modifiersData.preventOverflow,s=ee(t,{elementContext:"reference"}),a=ee(t,{altBoundary:!0}),l=ne(s,i),c=ne(a,r,o),d=ie(l),u=ie(c);t.modifiersData[n]={referenceClippingOffsets:l,popperEscapeOffsets:c,isReferenceHidden:d,hasPopperEscaped:u},t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-reference-hidden":d,"data-popper-escaped":u})}}]}),oe={passive:!0,capture:!0},se=function(){return document.body};function ae(e,t,n){if(Array.isArray(e)){var i=e[t];return null==i?Array.isArray(n)?n[t]:n:i}return e}function le(e,t){var n={}.toString.call(e);return 0===n.indexOf("[object")&&n.indexOf(t+"]")>-1}function ce(e,t){return"function"==typeof e?e.apply(void 0,t):e}function de(e,t){return 0===t?e:function(i){clearTimeout(n),n=setTimeout((function(){e(i)}),t)};var n}function ue(e){return[].concat(e)}function pe(e,t){-1===e.indexOf(t)&&e.push(t)}function he(e){return e.split("-")[0]}function fe(e){return[].slice.call(e)}function ge(e){return Object.keys(e).reduce((function(t,n){return void 0!==e[n]&&(t[n]=e[n]),t}),{})}function me(){return document.createElement("div")}function ve(e){return["Element","Fragment"].some((function(t){return le(e,t)}))}function be(e){return le(e,"MouseEvent")}function ye(e){return!(!e||!e._tippy||e._tippy.reference!==e)}function we(e){return ve(e)?[e]:function(e){return le(e,"NodeList")}(e)?fe(e):Array.isArray(e)?e:fe(document.querySelectorAll(e))}function xe(e,t){e.forEach((function(e){e&&(e.style.transitionDuration=t+"ms")}))}function ke(e,t){e.forEach((function(e){e&&e.setAttribute("data-state",t)}))}function Oe(e){var t,n=ue(e)[0];return null!=n&&null!=(t=n.ownerDocument)&&t.body?n.ownerDocument:document}function Se(e,t,n){var i=t+"EventListener";["transitionend","webkitTransitionEnd"].forEach((function(t){e[i](t,n)}))}function _e(e,t){for(var n=t;n;){var i;if(e.contains(n))return!0;n=null==n.getRootNode||null==(i=n.getRootNode())?void 0:i.host}return!1}var Me={isTouch:!1},Ee=0;function Ce(){Me.isTouch||(Me.isTouch=!0,window.performance&&document.addEventListener("mousemove",Ae))}function Ae(){var e=performance.now();e-Ee<20&&(Me.isTouch=!1,document.removeEventListener("mousemove",Ae)),Ee=e}function je(){var e=document.activeElement;if(ye(e)){var t=e._tippy;e.blur&&!t.state.isVisible&&e.blur()}}var Te=!!("undefined"!=typeof window&&"undefined"!=typeof document)&&!!window.msCrypto;var Pe={animateFill:!1,followCursor:!1,inlinePositioning:!1,sticky:!1},Ne=Object.assign({appendTo:se,aria:{content:"auto",expanded:"auto"},delay:0,duration:[300,250],getReferenceClientRect:null,hideOnClick:!0,ignoreAttributes:!1,interactive:!1,interactiveBorder:2,interactiveDebounce:0,moveTransition:"",offset:[0,10],onAfterUpdate:function(){},onBeforeUpdate:function(){},onCreate:function(){},onDestroy:function(){},onHidden:function(){},onHide:function(){},onMount:function(){},onShow:function(){},onShown:function(){},onTrigger:function(){},onUntrigger:function(){},onClickOutside:function(){},placement:"top",plugins:[],popperOptions:{},render:null,showOnCreate:!1,touch:!0,trigger:"mouseenter focus",triggerTarget:null},Pe,{allowHTML:!1,animation:"fade",arrow:!0,content:"",inertia:!1,maxWidth:350,role:"tooltip",theme:"",zIndex:9999}),Re=Object.keys(Ne);function Le(e){var t=(e.plugins||[]).reduce((function(t,n){var i,r=n.name,o=n.defaultValue;r&&(t[r]=void 0!==e[r]?e[r]:null!=(i=Ne[r])?i:o);return t}),{});return Object.assign({},e,t)}function Be(e,t){var n=Object.assign({},t,{content:ce(t.content,[e])},t.ignoreAttributes?{}:function(e,t){return(t?Object.keys(Le(Object.assign({},Ne,{plugins:t}))):Re).reduce((function(t,n){var i=(e.getAttribute("data-tippy-"+n)||"").trim();if(!i)return t;if("content"===n)t[n]=i;else try{t[n]=JSON.parse(i)}catch(e){t[n]=i}return t}),{})}(e,t.plugins));return n.aria=Object.assign({},Ne.aria,n.aria),n.aria={expanded:"auto"===n.aria.expanded?t.interactive:n.aria.expanded,content:"auto"===n.aria.content?t.interactive?null:"describedby":n.aria.content},n}function Ie(e,t){e.innerHTML=t}function De(e){var t=me();return!0===e?t.className="tippy-arrow":(t.className="tippy-svg-arrow",ve(e)?t.appendChild(e):Ie(t,e)),t}function $e(e,t){ve(t.content)?(Ie(e,""),e.appendChild(t.content)):"function"!=typeof t.content&&(t.allowHTML?Ie(e,t.content):e.textContent=t.content)}function He(e){var t=e.firstElementChild,n=fe(t.children);return{box:t,content:n.find((function(e){return e.classList.contains("tippy-content")})),arrow:n.find((function(e){return e.classList.contains("tippy-arrow")||e.classList.contains("tippy-svg-arrow")})),backdrop:n.find((function(e){return e.classList.contains("tippy-backdrop")}))}}function qe(e){var t=me(),n=me();n.className="tippy-box",n.setAttribute("data-state","hidden"),n.setAttribute("tabindex","-1");var i=me();function r(n,i){var r=He(t),o=r.box,s=r.content,a=r.arrow;i.theme?o.setAttribute("data-theme",i.theme):o.removeAttribute("data-theme"),"string"==typeof i.animation?o.setAttribute("data-animation",i.animation):o.removeAttribute("data-animation"),i.inertia?o.setAttribute("data-inertia",""):o.removeAttribute("data-inertia"),o.style.maxWidth="number"==typeof i.maxWidth?i.maxWidth+"px":i.maxWidth,i.role?o.setAttribute("role",i.role):o.removeAttribute("role"),n.content===i.content&&n.allowHTML===i.allowHTML||$e(s,e.props),i.arrow?a?n.arrow!==i.arrow&&(o.removeChild(a),o.appendChild(De(i.arrow))):o.appendChild(De(i.arrow)):a&&o.removeChild(a)}return i.className="tippy-content",i.setAttribute("data-state","hidden"),$e(i,e.props),t.appendChild(n),n.appendChild(i),r(e.props,e.props),{popper:t,onUpdate:r}}qe.$$tippy=!0;var Fe=1,ze=[],Ge=[];function Ue(e,t){var n,i,r,o,s,a,l,c,d=Be(e,Object.assign({},Ne,Le(ge(t)))),u=!1,p=!1,h=!1,f=!1,g=[],m=de(K,d.interactiveDebounce),v=Fe++,b=(c=d.plugins).filter((function(e,t){return c.indexOf(e)===t})),y={id:v,reference:e,popper:me(),popperInstance:null,props:d,state:{isEnabled:!0,isVisible:!1,isDestroyed:!1,isMounted:!1,isShown:!1},plugins:b,clearDelayTimeouts:function(){clearTimeout(n),clearTimeout(i),cancelAnimationFrame(r)},setProps:function(t){0;if(y.state.isDestroyed)return;N("onBeforeUpdate",[y,t]),U();var n=y.props,i=Be(e,Object.assign({},n,ge(t),{ignoreAttributes:!0}));y.props=i,G(),n.interactiveDebounce!==i.interactiveDebounce&&(B(),m=de(K,i.interactiveDebounce));n.triggerTarget&&!i.triggerTarget?ue(n.triggerTarget).forEach((function(e){e.removeAttribute("aria-expanded")})):i.triggerTarget&&e.removeAttribute("aria-expanded");L(),P(),k&&k(n,i);y.popperInstance&&(J(),Y().forEach((function(e){requestAnimationFrame(e._tippy.popperInstance.forceUpdate)})));N("onAfterUpdate",[y,t])},setContent:function(e){y.setProps({content:e})},show:function(){0;var e=y.state.isVisible,t=y.state.isDestroyed,n=!y.state.isEnabled,i=Me.isTouch&&!y.props.touch,r=ae(y.props.duration,0,Ne.duration);if(e||t||n||i)return;if(C().hasAttribute("disabled"))return;if(N("onShow",[y],!1),!1===y.props.onShow(y))return;y.state.isVisible=!0,E()&&(x.style.visibility="visible");P(),H(),y.state.isMounted||(x.style.transition="none");if(E()){var o=j(),s=o.box,l=o.content;xe([s,l],0)}a=function(){var e;if(y.state.isVisible&&!f){if(f=!0,x.offsetHeight,x.style.transition=y.props.moveTransition,E()&&y.props.animation){var t=j(),n=t.box,i=t.content;xe([n,i],r),ke([n,i],"visible")}R(),L(),pe(Ge,y),null==(e=y.popperInstance)||e.forceUpdate(),N("onMount",[y]),y.props.animation&&E()&&function(e,t){F(e,t)}(r,(function(){y.state.isShown=!0,N("onShown",[y])}))}},function(){var e,t=y.props.appendTo,n=C();e=y.props.interactive&&t===se||"parent"===t?n.parentNode:ce(t,[n]);e.contains(x)||e.appendChild(x);y.state.isMounted=!0,J(),!1}()},hide:function(){0;var e=!y.state.isVisible,t=y.state.isDestroyed,n=!y.state.isEnabled,i=ae(y.props.duration,1,Ne.duration);if(e||t||n)return;if(N("onHide",[y],!1),!1===y.props.onHide(y))return;y.state.isVisible=!1,y.state.isShown=!1,f=!1,u=!1,E()&&(x.style.visibility="hidden");if(B(),q(),P(!0),E()){var r=j(),o=r.box,s=r.content;y.props.animation&&(xe([o,s],i),ke([o,s],"hidden"))}R(),L(),y.props.animation?E()&&function(e,t){F(e,(function(){!y.state.isVisible&&x.parentNode&&x.parentNode.contains(x)&&t()}))}(i,y.unmount):y.unmount()},hideWithInteractivity:function(e){0;A().addEventListener("mousemove",m),pe(ze,m),m(e)},enable:function(){y.state.isEnabled=!0},disable:function(){y.hide(),y.state.isEnabled=!1},unmount:function(){0;y.state.isVisible&&y.hide();if(!y.state.isMounted)return;Q(),Y().forEach((function(e){e._tippy.unmount()})),x.parentNode&&x.parentNode.removeChild(x);Ge=Ge.filter((function(e){return e!==y})),y.state.isMounted=!1,N("onHidden",[y])},destroy:function(){0;if(y.state.isDestroyed)return;y.clearDelayTimeouts(),y.unmount(),U(),delete e._tippy,y.state.isDestroyed=!0,N("onDestroy",[y])}};if(!d.render)return y;var w=d.render(y),x=w.popper,k=w.onUpdate;x.setAttribute("data-tippy-root",""),x.id="tippy-"+y.id,y.popper=x,e._tippy=y,x._tippy=y;var O=b.map((function(e){return e.fn(y)})),S=e.hasAttribute("aria-expanded");return G(),L(),P(),N("onCreate",[y]),d.showOnCreate&&ee(),x.addEventListener("mouseenter",(function(){y.props.interactive&&y.state.isVisible&&y.clearDelayTimeouts()})),x.addEventListener("mouseleave",(function(){y.props.interactive&&y.props.trigger.indexOf("mouseenter")>=0&&A().addEventListener("mousemove",m)})),y;function _(){var e=y.props.touch;return Array.isArray(e)?e:[e,0]}function M(){return"hold"===_()[0]}function E(){var e;return!(null==(e=y.props.render)||!e.$$tippy)}function C(){return l||e}function A(){var e=C().parentNode;return e?Oe(e):document}function j(){return He(x)}function T(e){return y.state.isMounted&&!y.state.isVisible||Me.isTouch||o&&"focus"===o.type?0:ae(y.props.delay,e?0:1,Ne.delay)}function P(e){void 0===e&&(e=!1),x.style.pointerEvents=y.props.interactive&&!e?"":"none",x.style.zIndex=""+y.props.zIndex}function N(e,t,n){var i;(void 0===n&&(n=!0),O.forEach((function(n){n[e]&&n[e].apply(n,t)})),n)&&(i=y.props)[e].apply(i,t)}function R(){var t=y.props.aria;if(t.content){var n="aria-"+t.content,i=x.id;ue(y.props.triggerTarget||e).forEach((function(e){var t=e.getAttribute(n);if(y.state.isVisible)e.setAttribute(n,t?t+" "+i:i);else{var r=t&&t.replace(i,"").trim();r?e.setAttribute(n,r):e.removeAttribute(n)}}))}}function L(){!S&&y.props.aria.expanded&&ue(y.props.triggerTarget||e).forEach((function(e){y.props.interactive?e.setAttribute("aria-expanded",y.state.isVisible&&e===C()?"true":"false"):e.removeAttribute("aria-expanded")}))}function B(){A().removeEventListener("mousemove",m),ze=ze.filter((function(e){return e!==m}))}function I(t){if(!Me.isTouch||!h&&"mousedown"!==t.type){var n=t.composedPath&&t.composedPath()[0]||t.target;if(!y.props.interactive||!_e(x,n)){if(ue(y.props.triggerTarget||e).some((function(e){return _e(e,n)}))){if(Me.isTouch)return;if(y.state.isVisible&&y.props.trigger.indexOf("click")>=0)return}else N("onClickOutside",[y,t]);!0===y.props.hideOnClick&&(y.clearDelayTimeouts(),y.hide(),p=!0,setTimeout((function(){p=!1})),y.state.isMounted||q())}}}function D(){h=!0}function $(){h=!1}function H(){var e=A();e.addEventListener("mousedown",I,!0),e.addEventListener("touchend",I,oe),e.addEventListener("touchstart",$,oe),e.addEventListener("touchmove",D,oe)}function q(){var e=A();e.removeEventListener("mousedown",I,!0),e.removeEventListener("touchend",I,oe),e.removeEventListener("touchstart",$,oe),e.removeEventListener("touchmove",D,oe)}function F(e,t){var n=j().box;function i(e){e.target===n&&(Se(n,"remove",i),t())}if(0===e)return t();Se(n,"remove",s),Se(n,"add",i),s=i}function z(t,n,i){void 0===i&&(i=!1),ue(y.props.triggerTarget||e).forEach((function(e){e.addEventListener(t,n,i),g.push({node:e,eventType:t,handler:n,options:i})}))}function G(){var e;M()&&(z("touchstart",V,{passive:!0}),z("touchend",W,{passive:!0})),(e=y.props.trigger,e.split(/\s+/).filter(Boolean)).forEach((function(e){if("manual"!==e)switch(z(e,V),e){case"mouseenter":z("mouseleave",W);break;case"focus":z(Te?"focusout":"blur",X);break;case"focusin":z("focusout",X)}}))}function U(){g.forEach((function(e){var t=e.node,n=e.eventType,i=e.handler,r=e.options;t.removeEventListener(n,i,r)})),g=[]}function V(e){var t,n=!1;if(y.state.isEnabled&&!Z(e)&&!p){var i="focus"===(null==(t=o)?void 0:t.type);o=e,l=e.currentTarget,L(),!y.state.isVisible&&be(e)&&ze.forEach((function(t){return t(e)})),"click"===e.type&&(y.props.trigger.indexOf("mouseenter")<0||u)&&!1!==y.props.hideOnClick&&y.state.isVisible?n=!0:ee(e),"click"===e.type&&(u=!n),n&&!i&&te(e)}}function K(e){var t=e.target,n=C().contains(t)||x.contains(t);"mousemove"===e.type&&n||function(e,t){var n=t.clientX,i=t.clientY;return e.every((function(e){var t=e.popperRect,r=e.popperState,o=e.props.interactiveBorder,s=he(r.placement),a=r.modifiersData.offset;if(!a)return!0;var l="bottom"===s?a.top.y:0,c="top"===s?a.bottom.y:0,d="right"===s?a.left.x:0,u="left"===s?a.right.x:0,p=t.top-i+l>o,h=i-t.bottom-c>o,f=t.left-n+d>o,g=n-t.right-u>o;return p||h||f||g}))}(Y().concat(x).map((function(e){var t,n=null==(t=e._tippy.popperInstance)?void 0:t.state;return n?{popperRect:e.getBoundingClientRect(),popperState:n,props:d}:null})).filter(Boolean),e)&&(B(),te(e))}function W(e){Z(e)||y.props.trigger.indexOf("click")>=0&&u||(y.props.interactive?y.hideWithInteractivity(e):te(e))}function X(e){y.props.trigger.indexOf("focusin")<0&&e.target!==C()||y.props.interactive&&e.relatedTarget&&x.contains(e.relatedTarget)||te(e)}function Z(e){return!!Me.isTouch&&M()!==e.type.indexOf("touch")>=0}function J(){Q();var t=y.props,n=t.popperOptions,i=t.placement,r=t.offset,o=t.getReferenceClientRect,s=t.moveTransition,l=E()?He(x).arrow:null,c=o?{getBoundingClientRect:o,contextElement:o.contextElement||C()}:e,d=[{name:"offset",options:{offset:r}},{name:"preventOverflow",options:{padding:{top:2,bottom:2,left:5,right:5}}},{name:"flip",options:{padding:5}},{name:"computeStyles",options:{adaptive:!s}},{name:"$$tippy",enabled:!0,phase:"beforeWrite",requires:["computeStyles"],fn:function(e){var t=e.state;if(E()){var n=j().box;["placement","reference-hidden","escaped"].forEach((function(e){"placement"===e?n.setAttribute("data-placement",t.placement):t.attributes.popper["data-popper-"+e]?n.setAttribute("data-"+e,""):n.removeAttribute("data-"+e)})),t.attributes.popper={}}}}];E()&&l&&d.push({name:"arrow",options:{element:l,padding:3}}),d.push.apply(d,(null==n?void 0:n.modifiers)||[]),y.popperInstance=re(c,x,Object.assign({},n,{placement:i,onFirstUpdate:a,modifiers:d}))}function Q(){y.popperInstance&&(y.popperInstance.destroy(),y.popperInstance=null)}function Y(){return fe(x.querySelectorAll("[data-tippy-root]"))}function ee(e){y.clearDelayTimeouts(),e&&N("onTrigger",[y,e]),H();var t=T(!0),i=_(),r=i[0],o=i[1];Me.isTouch&&"hold"===r&&o&&(t=o),t?n=setTimeout((function(){y.show()}),t):y.show()}function te(e){if(y.clearDelayTimeouts(),N("onUntrigger",[y,e]),y.state.isVisible){if(!(y.props.trigger.indexOf("mouseenter")>=0&&y.props.trigger.indexOf("click")>=0&&["mouseleave","mousemove"].indexOf(e.type)>=0&&u)){var t=T(!1);t?i=setTimeout((function(){y.state.isVisible&&y.hide()}),t):r=requestAnimationFrame((function(){y.hide()}))}}else q()}}function Ve(e,t){void 0===t&&(t={});var n=Ne.plugins.concat(t.plugins||[]);document.addEventListener("touchstart",Ce,oe),window.addEventListener("blur",je);var i=Object.assign({},t,{plugins:n}),r=we(e).reduce((function(e,t){var n=t&&Ue(t,i);return n&&e.push(n),e}),[]);return ve(e)?r[0]:r}Ve.defaultProps=Ne,Ve.setDefaultProps=function(e){Object.keys(e).forEach((function(t){Ne[t]=e[t]}))},Ve.currentInput=Me;Object.assign({},z,{effect:function(e){var t=e.state,n={popper:{position:t.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};Object.assign(t.elements.popper.style,n.popper),t.styles=n,t.elements.arrow&&Object.assign(t.elements.arrow.style,n.arrow)}});Ve.setDefaultProps({render:qe});t.a=Ve},pnD1:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isPositive=void 0;t.isPositive=e=>{if("number"!=typeof e||e<=0||Number.isNaN(e))return"value should be a positive number"}},qCaJ:function(e,t,n){"use strict";n.d(t,"l",(function(){return r})),n.d(t,"c",(function(){return o})),n.d(t,"o",(function(){return s})),n.d(t,"g",(function(){return a})),n.d(t,"f",(function(){return l})),n.d(t,"m",(function(){return c})),n.d(t,"a",(function(){return d})),n.d(t,"h",(function(){return u})),n.d(t,"k",(function(){return p})),n.d(t,"i",(function(){return h})),n.d(t,"j",(function(){return f})),n.d(t,"e",(function(){return g})),n.d(t,"d",(function(){return m})),n.d(t,"n",(function(){return v})),n.d(t,"b",(function(){return b}));var i=n("/lV4");const r=Object(i.i)("ContentEditor|You have to provide a renderMarkdown function or a custom serializer"),o="content_editor",s="execute_toolbar_control",a="execute_keyboard_shortcut",l="execute_input_rule",c=[{contentType:"paragraph",editorCommand:"setParagraph",label:Object(i.a)("Normal text")},{contentType:"heading",commandParams:{level:1},editorCommand:"setHeading",label:Object(i.a)("Heading 1")},{contentType:"heading",editorCommand:"setHeading",commandParams:{level:2},label:Object(i.a)("Heading 2")},{contentType:"heading",editorCommand:"setHeading",commandParams:{level:3},label:Object(i.a)("Heading 3")},{contentType:"heading",editorCommand:"setHeading",commandParams:{level:4},label:Object(i.a)("Heading 4")},{contentType:"heading",editorCommand:"setHeading",commandParams:{level:5},label:Object(i.a)("Heading 5")},{contentType:"heading",editorCommand:"setHeading",commandParams:{level:6},label:Object(i.a)("Heading 6")}],d="alert",u="keydown",p=1,h=75,f=100,g=75,m=200,v=[!0,!1,"start","end","all"],b={ASSIGN:"/assign",ASSIGN_REVIEWER:"/assign_reviewer",LABEL:"/label",MILESTONE:"/milestone",REASSIGN:"/reassign",REASSIGN_REVIEWER:"/reassign_reviewer",RELABEL:"/relabel",UNASSIGN:"/unassign",UNASSIGN_REVIEWER:"/unassign_reviewer",UNLABEL:"/unlabel",ITERATION:"/iteration",UNLINK:"/unlink",STATUS:"/status"}},ri0Z:function(e,t,n){"use strict";n.r(t);var i=n("6PT1");n.d(t,"ContentMatch",(function(){return i.a})),n.d(t,"DOMParser",(function(){return i.b})),n.d(t,"DOMSerializer",(function(){return i.c})),n.d(t,"Fragment",(function(){return i.d})),n.d(t,"Mark",(function(){return i.e})),n.d(t,"MarkType",(function(){return i.f})),n.d(t,"Node",(function(){return i.g})),n.d(t,"NodeRange",(function(){return i.h})),n.d(t,"NodeType",(function(){return i.i})),n.d(t,"ReplaceError",(function(){return i.j})),n.d(t,"ResolvedPos",(function(){return i.k})),n.d(t,"Schema",(function(){return i.l})),n.d(t,"Slice",(function(){return i.m}))},roUw:function(e,t,n){"use strict";var i=n("T+2S");n.d(t,"a",(function(){return i.a})),n.d(t,"b",(function(){return i.b})),n.d(t,"c",(function(){return i.c})),n.d(t,"d",(function(){return i.d})),n.d(t,"e",(function(){return i.e})),n.d(t,"f",(function(){return i.f})),n.d(t,"g",(function(){return i.h}))},sdsU:function(e,t){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"getSavedRepliesEE"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"groupPath"}},type:{kind:"NamedType",name:{kind:"Name",value:"ID"}},defaultValue:{kind:"NullValue"},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"hideGroup"}},type:{kind:"NamedType",name:{kind:"Name",value:"Boolean"}},defaultValue:{kind:"BooleanValue",value:!0},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"projectPath"}},type:{kind:"NamedType",name:{kind:"Name",value:"ID"}},defaultValue:{kind:"NullValue"},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"hideProject"}},type:{kind:"NamedType",name:{kind:"Name",value:"Boolean"}},defaultValue:{kind:"BooleanValue",value:!0},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"group"},arguments:[{kind:"Argument",name:{kind:"Name",value:"fullPath"},value:{kind:"Variable",name:{kind:"Name",value:"groupPath"}}}],directives:[{kind:"Directive",name:{kind:"Name",value:"skip"},arguments:[{kind:"Argument",name:{kind:"Name",value:"if"},value:{kind:"Variable",name:{kind:"Name",value:"hideGroup"}}}]}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"savedReplies"},arguments:[{kind:"Argument",name:{kind:"Name",value:"includeAncestorGroups"},value:{kind:"BooleanValue",value:!0}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nodes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"content"},arguments:[],directives:[]}]}}]}}]}},{kind:"Field",name:{kind:"Name",value:"project"},arguments:[{kind:"Argument",name:{kind:"Name",value:"fullPath"},value:{kind:"Variable",name:{kind:"Name",value:"projectPath"}}}],directives:[{kind:"Directive",name:{kind:"Name",value:"skip"},arguments:[{kind:"Argument",name:{kind:"Name",value:"if"},value:{kind:"Variable",name:{kind:"Name",value:"hideProject"}}}]}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"savedReplies"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nodes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"content"},arguments:[],directives:[]}]}}]}}]}},{kind:"Field",name:{kind:"Name",value:"currentUser"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"savedReplies"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nodes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"content"},arguments:[],directives:[]}]}}]}}]}}]}}],loc:{start:0,end:594}};n.loc.source={body:"query getSavedRepliesEE(\n  $groupPath: ID = null\n  $hideGroup: Boolean = true\n  $projectPath: ID = null\n  $hideProject: Boolean = true\n) {\n  group(fullPath: $groupPath) @skip(if: $hideGroup) {\n    id\n    savedReplies(includeAncestorGroups: true) {\n      nodes {\n        id\n        name\n        content\n      }\n    }\n  }\n  project(fullPath: $projectPath) @skip(if: $hideProject) {\n    id\n    savedReplies {\n      nodes {\n        id\n        name\n        content\n      }\n    }\n  }\n  currentUser {\n    id\n    savedReplies {\n      nodes {\n        id\n        name\n        content\n      }\n    }\n  }\n}\n",name:"GraphQL request",locationOffset:{line:1,column:1}};var i={};function r(e,t){for(var n=0;n<e.definitions.length;n++){var i=e.definitions[n];if(i.name&&i.name.value==t)return i}}n.definitions.forEach((function(e){if(e.name){var t=new Set;!function e(t,n){if("FragmentSpread"===t.kind)n.add(t.name.value);else if("VariableDefinition"===t.kind){var i=t.type;"NamedType"===i.kind&&n.add(i.name.value)}t.selectionSet&&t.selectionSet.selections.forEach((function(t){e(t,n)})),t.variableDefinitions&&t.variableDefinitions.forEach((function(t){e(t,n)})),t.definitions&&t.definitions.forEach((function(t){e(t,n)}))}(e,t),i[e.name.value]=t}})),e.exports=n,e.exports.getSavedRepliesEE=function(e,t){var n={kind:e.kind,definitions:[r(e,t)]};e.hasOwnProperty("loc")&&(n.loc=e.loc);var o=i[t]||new Set,s=new Set,a=new Set;for(o.forEach((function(e){a.add(e)}));a.size>0;){var l=a;a=new Set,l.forEach((function(e){s.has(e)||(s.add(e),(i[e]||new Set).forEach((function(e){a.add(e)})))}))}return s.forEach((function(t){var i=r(e,t);i&&n.definitions.push(i)})),n}(n,"getSavedRepliesEE")},tTlX:function(e,t,n){"use strict";var i=n("3CjL"),r=n.n(i),o=n("5tFN");t.a={methods:{getFocusableOptions(){var e;return Array.from((null===(e=this.$refs.resultsList)||void 0===e?void 0:e.querySelectorAll(".gl-new-dropdown-item"))||[])},onKeydown(e){const{code:t,target:n}=e;let i=!0;const r=this.getFocusableOptions();if(r.length<1)return;const s=n.matches('input[role="searchbox"]');if(t===o.i){if(s)return;this.focusItem(0,r)}else if(t===o.f){if(s)return;this.focusItem(r.length-1,r)}else if(t===o.d){if(s)return;0===r.indexOf(n)?this.focusSearchInput():this.focusNextItem(e,r,-1)}else if(t===o.a)this.focusNextItem(e,r,1);else if(t===o.h)this.$refs.modal.close();else if(t===o.j){var a;null===(a=e.target)||void 0===a||a.firstChild.click()}else i=!1;i&&e.preventDefault()},focusSearchInput(){var e;null===(e=this.$refs.searchInput.$el.querySelector("input"))||void 0===e||e.focus()},focusNextItem(e,t,n){const{target:i}=e,o=t.indexOf(i),s=r()(o+n,0,t.length-1);this.focusItem(s,t)},focusItem(e,t){var n;this.nextFocusedItemIndex=e,null===(n=t[e])||void 0===n||n.focus()}}}},uSiv:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isOneOf=void 0;t.isOneOf=e=>t=>{if(!e.includes(t))return`value should be one of "${e.join('", "')}"`}},ugP3:function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return h}));for(var i={8:"Backspace",9:"Tab",10:"Enter",12:"NumLock",13:"Enter",16:"Shift",17:"Control",18:"Alt",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",44:"PrintScreen",45:"Insert",46:"Delete",59:";",61:"=",91:"Meta",92:"Meta",106:"*",107:"+",108:",",109:"-",110:".",111:"/",144:"NumLock",145:"ScrollLock",160:"Shift",161:"Shift",162:"Control",163:"Control",164:"Alt",165:"Alt",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'",229:"q"},r={48:")",49:"!",50:"@",51:"#",52:"$",53:"%",54:"^",55:"&",56:"*",57:"(",59:":",61:"+",173:"_",186:":",187:"+",188:"<",189:"_",190:">",191:"?",192:"~",219:"{",220:"|",221:"}",222:'"',229:"Q"},o="undefined"!=typeof navigator&&/Chrome\/(\d+)/.exec(navigator.userAgent),s="undefined"!=typeof navigator&&/Apple Computer/.test(navigator.vendor),a="undefined"!=typeof navigator&&/Gecko\/\d+/.test(navigator.userAgent),l="undefined"!=typeof navigator&&/Mac/.test(navigator.platform),c="undefined"!=typeof navigator&&/MSIE \d|Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(navigator.userAgent),d=o&&(l||+o[1]<57)||a&&l,u=0;u<10;u++)i[48+u]=i[96+u]=String(u);for(u=1;u<=24;u++)i[u+111]="F"+u;for(u=65;u<=90;u++)i[u]=String.fromCharCode(u+32),r[u]=String.fromCharCode(u);for(var p in i)r.hasOwnProperty(p)||(r[p]=i[p]);function h(e){var t=!(d&&(e.ctrlKey||e.altKey||e.metaKey)||(s||c)&&e.shiftKey&&e.key&&1==e.key.length)&&e.key||(e.shiftKey?r:i)[e.keyCode]||e.key||"Unidentified";return"Esc"==t&&(t="Escape"),"Del"==t&&(t="Delete"),"Left"==t&&(t="ArrowLeft"),"Up"==t&&(t="ArrowUp"),"Right"==t&&(t="ArrowRight"),"Down"==t&&(t="ArrowDown"),t}},vu74:function(e,t){function n(e){return e instanceof Map?e.clear=e.delete=e.set=function(){throw new Error("map is read-only")}:e instanceof Set&&(e.add=e.clear=e.delete=function(){throw new Error("set is read-only")}),Object.freeze(e),Object.getOwnPropertyNames(e).forEach(t=>{const i=e[t],r=typeof i;"object"!==r&&"function"!==r||Object.isFrozen(i)||n(i)}),e}class i{constructor(e){void 0===e.data&&(e.data={}),this.data=e.data,this.isMatchIgnored=!1}ignoreMatch(){this.isMatchIgnored=!0}}function r(e){return e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;")}function o(e,...t){const n=Object.create(null);for(const t in e)n[t]=e[t];return t.forEach((function(e){for(const t in e)n[t]=e[t]})),n}const s=e=>!!e.scope;class a{constructor(e,t){this.buffer="",this.classPrefix=t.classPrefix,e.walk(this)}addText(e){this.buffer+=r(e)}openNode(e){if(!s(e))return;const t=((e,{prefix:t})=>{if(e.startsWith("language:"))return e.replace("language:","language-");if(e.includes(".")){const n=e.split(".");return[`${t}${n.shift()}`,...n.map((e,t)=>`${e}${"_".repeat(t+1)}`)].join(" ")}return`${t}${e}`})(e.scope,{prefix:this.classPrefix});this.span(t)}closeNode(e){s(e)&&(this.buffer+="</span>")}value(){return this.buffer}span(e){this.buffer+=`<span class="${e}">`}}const l=(e={})=>{const t={children:[]};return Object.assign(t,e),t};class c{constructor(){this.rootNode=l(),this.stack=[this.rootNode]}get top(){return this.stack[this.stack.length-1]}get root(){return this.rootNode}add(e){this.top.children.push(e)}openNode(e){const t=l({scope:e});this.add(t),this.stack.push(t)}closeNode(){if(this.stack.length>1)return this.stack.pop()}closeAllNodes(){for(;this.closeNode(););}toJSON(){return JSON.stringify(this.rootNode,null,4)}walk(e){return this.constructor._walk(e,this.rootNode)}static _walk(e,t){return"string"==typeof t?e.addText(t):t.children&&(e.openNode(t),t.children.forEach(t=>this._walk(e,t)),e.closeNode(t)),e}static _collapse(e){"string"!=typeof e&&e.children&&(e.children.every(e=>"string"==typeof e)?e.children=[e.children.join("")]:e.children.forEach(e=>{c._collapse(e)}))}}class d extends c{constructor(e){super(),this.options=e}addText(e){""!==e&&this.add(e)}startScope(e){this.openNode(e)}endScope(){this.closeNode()}__addSublanguage(e,t){const n=e.root;t&&(n.scope="language:"+t),this.add(n)}toHTML(){return new a(this,this.options).value()}finalize(){return this.closeAllNodes(),!0}}function u(e){return e?"string"==typeof e?e:e.source:null}function p(e){return g("(?=",e,")")}function h(e){return g("(?:",e,")*")}function f(e){return g("(?:",e,")?")}function g(...e){return e.map(e=>u(e)).join("")}function m(...e){return"("+(function(e){const t=e[e.length-1];return"object"==typeof t&&t.constructor===Object?(e.splice(e.length-1,1),t):{}}(e).capture?"":"?:")+e.map(e=>u(e)).join("|")+")"}function v(e){return new RegExp(e.toString()+"|").exec("").length-1}const b=/\[(?:[^\\\]]|\\.)*\]|\(\??|\\([1-9][0-9]*)|\\./;function y(e,{joinWith:t}){let n=0;return e.map(e=>{n+=1;const t=n;let i=u(e),r="";for(;i.length>0;){const e=b.exec(i);if(!e){r+=i;break}r+=i.substring(0,e.index),i=i.substring(e.index+e[0].length),"\\"===e[0][0]&&e[1]?r+="\\"+String(Number(e[1])+t):(r+=e[0],"("===e[0]&&n++)}return r}).map(e=>`(${e})`).join(t)}const w="(-?)(\\b0[xX][a-fA-F0-9]+|(\\b\\d+(\\.\\d*)?|\\.\\d+)([eE][-+]?\\d+)?)",x={begin:"\\\\[\\s\\S]",relevance:0},k={scope:"string",begin:"'",end:"'",illegal:"\\n",contains:[x]},O={scope:"string",begin:'"',end:'"',illegal:"\\n",contains:[x]},S=function(e,t,n={}){const i=o({scope:"comment",begin:e,end:t,contains:[]},n);i.contains.push({scope:"doctag",begin:"[ ]*(?=(TODO|FIXME|NOTE|BUG|OPTIMIZE|HACK|XXX):)",end:/(TODO|FIXME|NOTE|BUG|OPTIMIZE|HACK|XXX):/,excludeBegin:!0,relevance:0});const r=m("I","a","is","so","us","to","at","if","in","it","on",/[A-Za-z]+['](d|ve|re|ll|t|s|n)/,/[A-Za-z]+[-][a-z]+/,/[A-Za-z][a-z]{2,}/);return i.contains.push({begin:g(/[ ]+/,"(",r,/[.]?[:]?([.][ ]|[ ])/,"){3}")}),i},_=S("//","$"),M=S("/\\*","\\*/"),E=S("#","$"),C={scope:"number",begin:"\\b\\d+(\\.\\d+)?",relevance:0},A={scope:"number",begin:w,relevance:0},j={scope:"number",begin:"\\b(0b[01]+)",relevance:0},T={begin:/(?=\/[^/\n]*\/)/,contains:[{scope:"regexp",begin:/\//,end:/\/[gimuy]*/,illegal:/\n/,contains:[x,{begin:/\[/,end:/\]/,relevance:0,contains:[x]}]}]},P={scope:"title",begin:"[a-zA-Z]\\w*",relevance:0},N={scope:"title",begin:"[a-zA-Z_]\\w*",relevance:0},R={begin:"\\.\\s*[a-zA-Z_]\\w*",relevance:0};var L=Object.freeze({__proto__:null,MATCH_NOTHING_RE:/\b\B/,IDENT_RE:"[a-zA-Z]\\w*",UNDERSCORE_IDENT_RE:"[a-zA-Z_]\\w*",NUMBER_RE:"\\b\\d+(\\.\\d+)?",C_NUMBER_RE:w,BINARY_NUMBER_RE:"\\b(0b[01]+)",RE_STARTERS_RE:"!|!=|!==|%|%=|&|&&|&=|\\*|\\*=|\\+|\\+=|,|-|-=|/=|/|:|;|<<|<<=|<=|<|===|==|=|>>>=|>>=|>=|>>>|>>|>|\\?|\\[|\\{|\\(|\\^|\\^=|\\||\\|=|\\|\\||~",SHEBANG:(e={})=>{const t=/^#![ ]*\//;return e.binary&&(e.begin=g(t,/.*\b/,e.binary,/\b.*/)),o({scope:"meta",begin:t,end:/$/,relevance:0,"on:begin":(e,t)=>{0!==e.index&&t.ignoreMatch()}},e)},BACKSLASH_ESCAPE:x,APOS_STRING_MODE:k,QUOTE_STRING_MODE:O,PHRASAL_WORDS_MODE:{begin:/\b(a|an|the|are|I'm|isn't|don't|doesn't|won't|but|just|should|pretty|simply|enough|gonna|going|wtf|so|such|will|you|your|they|like|more)\b/},COMMENT:S,C_LINE_COMMENT_MODE:_,C_BLOCK_COMMENT_MODE:M,HASH_COMMENT_MODE:E,NUMBER_MODE:C,C_NUMBER_MODE:A,BINARY_NUMBER_MODE:j,REGEXP_MODE:T,TITLE_MODE:P,UNDERSCORE_TITLE_MODE:N,METHOD_GUARD:R,END_SAME_AS_BEGIN:function(e){return Object.assign(e,{"on:begin":(e,t)=>{t.data._beginMatch=e[1]},"on:end":(e,t)=>{t.data._beginMatch!==e[1]&&t.ignoreMatch()}})}});function B(e,t){"."===e.input[e.index-1]&&t.ignoreMatch()}function I(e,t){void 0!==e.className&&(e.scope=e.className,delete e.className)}function D(e,t){t&&e.beginKeywords&&(e.begin="\\b("+e.beginKeywords.split(" ").join("|")+")(?!\\.)(?=\\b|\\s)",e.__beforeBegin=B,e.keywords=e.keywords||e.beginKeywords,delete e.beginKeywords,void 0===e.relevance&&(e.relevance=0))}function $(e,t){Array.isArray(e.illegal)&&(e.illegal=m(...e.illegal))}function H(e,t){if(e.match){if(e.begin||e.end)throw new Error("begin & end are not supported with match");e.begin=e.match,delete e.match}}function q(e,t){void 0===e.relevance&&(e.relevance=1)}const F=(e,t)=>{if(!e.beforeMatch)return;if(e.starts)throw new Error("beforeMatch cannot be used with starts");const n=Object.assign({},e);Object.keys(e).forEach(t=>{delete e[t]}),e.keywords=n.keywords,e.begin=g(n.beforeMatch,p(n.begin)),e.starts={relevance:0,contains:[Object.assign(n,{endsParent:!0})]},e.relevance=0,delete n.beforeMatch},z=["of","and","for","in","not","or","if","then","parent","list","value"];function G(e,t){return t?Number(t):function(e){return z.includes(e.toLowerCase())}(e)?0:1}const U={},V=e=>{console.error(e)},K=(e,...t)=>{console.log("WARN: "+e,...t)},W=(e,t)=>{U[`${e}/${t}`]||(console.log(`Deprecated as of ${e}. ${t}`),U[`${e}/${t}`]=!0)},X=new Error;function Z(e,t,{key:n}){let i=0;const r=e[n],o={},s={};for(let e=1;e<=t.length;e++)s[e+i]=r[e],o[e+i]=!0,i+=v(t[e-1]);e[n]=s,e[n]._emit=o,e[n]._multi=!0}function J(e){!function(e){e.scope&&"object"==typeof e.scope&&null!==e.scope&&(e.beginScope=e.scope,delete e.scope)}(e),"string"==typeof e.beginScope&&(e.beginScope={_wrap:e.beginScope}),"string"==typeof e.endScope&&(e.endScope={_wrap:e.endScope}),function(e){if(Array.isArray(e.begin)){if(e.skip||e.excludeBegin||e.returnBegin)throw V("skip, excludeBegin, returnBegin not compatible with beginScope: {}"),X;if("object"!=typeof e.beginScope||null===e.beginScope)throw V("beginScope must be object"),X;Z(e,e.begin,{key:"beginScope"}),e.begin=y(e.begin,{joinWith:""})}}(e),function(e){if(Array.isArray(e.end)){if(e.skip||e.excludeEnd||e.returnEnd)throw V("skip, excludeEnd, returnEnd not compatible with endScope: {}"),X;if("object"!=typeof e.endScope||null===e.endScope)throw V("endScope must be object"),X;Z(e,e.end,{key:"endScope"}),e.end=y(e.end,{joinWith:""})}}(e)}function Q(e){function t(t,n){return new RegExp(u(t),"m"+(e.case_insensitive?"i":"")+(e.unicodeRegex?"u":"")+(n?"g":""))}class n{constructor(){this.matchIndexes={},this.regexes=[],this.matchAt=1,this.position=0}addRule(e,t){t.position=this.position++,this.matchIndexes[this.matchAt]=t,this.regexes.push([t,e]),this.matchAt+=v(e)+1}compile(){0===this.regexes.length&&(this.exec=()=>null);const e=this.regexes.map(e=>e[1]);this.matcherRe=t(y(e,{joinWith:"|"}),!0),this.lastIndex=0}exec(e){this.matcherRe.lastIndex=this.lastIndex;const t=this.matcherRe.exec(e);if(!t)return null;const n=t.findIndex((e,t)=>t>0&&void 0!==e),i=this.matchIndexes[n];return t.splice(0,n),Object.assign(t,i)}}class i{constructor(){this.rules=[],this.multiRegexes=[],this.count=0,this.lastIndex=0,this.regexIndex=0}getMatcher(e){if(this.multiRegexes[e])return this.multiRegexes[e];const t=new n;return this.rules.slice(e).forEach(([e,n])=>t.addRule(e,n)),t.compile(),this.multiRegexes[e]=t,t}resumingScanAtSamePosition(){return 0!==this.regexIndex}considerAll(){this.regexIndex=0}addRule(e,t){this.rules.push([e,t]),"begin"===t.type&&this.count++}exec(e){const t=this.getMatcher(this.regexIndex);t.lastIndex=this.lastIndex;let n=t.exec(e);if(this.resumingScanAtSamePosition())if(n&&n.index===this.lastIndex);else{const t=this.getMatcher(0);t.lastIndex=this.lastIndex+1,n=t.exec(e)}return n&&(this.regexIndex+=n.position+1,this.regexIndex===this.count&&this.considerAll()),n}}if(e.compilerExtensions||(e.compilerExtensions=[]),e.contains&&e.contains.includes("self"))throw new Error("ERR: contains `self` is not supported at the top-level of a language.  See documentation.");return e.classNameAliases=o(e.classNameAliases||{}),function n(r,s){const a=r;if(r.isCompiled)return a;[I,H,J,F].forEach(e=>e(r,s)),e.compilerExtensions.forEach(e=>e(r,s)),r.__beforeBegin=null,[D,$,q].forEach(e=>e(r,s)),r.isCompiled=!0;let l=null;return"object"==typeof r.keywords&&r.keywords.$pattern&&(r.keywords=Object.assign({},r.keywords),l=r.keywords.$pattern,delete r.keywords.$pattern),l=l||/\w+/,r.keywords&&(r.keywords=function e(t,n,i="keyword"){const r=Object.create(null);return"string"==typeof t?o(i,t.split(" ")):Array.isArray(t)?o(i,t):Object.keys(t).forEach((function(i){Object.assign(r,e(t[i],n,i))})),r;function o(e,t){n&&(t=t.map(e=>e.toLowerCase())),t.forEach((function(t){const n=t.split("|");r[n[0]]=[e,G(n[0],n[1])]}))}}(r.keywords,e.case_insensitive)),a.keywordPatternRe=t(l,!0),s&&(r.begin||(r.begin=/\B|\b/),a.beginRe=t(a.begin),r.end||r.endsWithParent||(r.end=/\B|\b/),r.end&&(a.endRe=t(a.end)),a.terminatorEnd=u(a.end)||"",r.endsWithParent&&s.terminatorEnd&&(a.terminatorEnd+=(r.end?"|":"")+s.terminatorEnd)),r.illegal&&(a.illegalRe=t(r.illegal)),r.contains||(r.contains=[]),r.contains=[].concat(...r.contains.map((function(e){return function(e){e.variants&&!e.cachedVariants&&(e.cachedVariants=e.variants.map((function(t){return o(e,{variants:null},t)})));if(e.cachedVariants)return e.cachedVariants;if(function e(t){return!!t&&(t.endsWithParent||e(t.starts))}(e))return o(e,{starts:e.starts?o(e.starts):null});if(Object.isFrozen(e))return o(e);return e}("self"===e?r:e)}))),r.contains.forEach((function(e){n(e,a)})),r.starts&&n(r.starts,s),a.matcher=function(e){const t=new i;return e.contains.forEach(e=>t.addRule(e.begin,{rule:e,type:"begin"})),e.terminatorEnd&&t.addRule(e.terminatorEnd,{type:"end"}),e.illegal&&t.addRule(e.illegal,{type:"illegal"}),t}(a),a}(e)}class Y extends Error{constructor(e,t){super(e),this.name="HTMLInjectionError",this.html=t}}const ee=r,te=o,ne=Symbol("nomatch"),ie=function(e){const t=Object.create(null),r=Object.create(null),o=[];let s=!0;const a="Could not find the language '{}', did you forget to load/include a language module?",l={disableAutodetect:!0,name:"Plain text",contains:[]};let c={ignoreUnescapedHTML:!1,throwUnescapedHTML:!1,noHighlightRe:/^(no-?highlight)$/i,languageDetectRe:/\blang(?:uage)?-([\w-]+)\b/i,classPrefix:"hljs-",cssSelector:"pre code",languages:null,__emitter:d};function u(e){return c.noHighlightRe.test(e)}function v(e,t,n){let i="",r="";"object"==typeof t?(i=e,n=t.ignoreIllegals,r=t.language):(W("10.7.0","highlight(lang, code, ...args) has been deprecated."),W("10.7.0","Please use highlight(code, options) instead.\nhttps://github.com/highlightjs/highlight.js/issues/2277"),r=e,i=t),void 0===n&&(n=!0);const o={code:i,language:r};M("before:highlight",o);const s=o.result?o.result:b(o.language,o.code,n);return s.code=o.code,M("after:highlight",s),s}function b(e,n,r,o){const l=Object.create(null);function d(){if(!_.keywords)return void E.addText(C);let e=0;_.keywordPatternRe.lastIndex=0;let t=_.keywordPatternRe.exec(C),n="";for(;t;){n+=C.substring(e,t.index);const r=x.case_insensitive?t[0].toLowerCase():t[0],o=(i=r,_.keywords[i]);if(o){const[e,i]=o;if(E.addText(n),n="",l[r]=(l[r]||0)+1,l[r]<=7&&(A+=i),e.startsWith("_"))n+=t[0];else{const n=x.classNameAliases[e]||e;p(t[0],n)}}else n+=t[0];e=_.keywordPatternRe.lastIndex,t=_.keywordPatternRe.exec(C)}var i;n+=C.substring(e),E.addText(n)}function u(){null!=_.subLanguage?function(){if(""===C)return;let e=null;if("string"==typeof _.subLanguage){if(!t[_.subLanguage])return void E.addText(C);e=b(_.subLanguage,C,!0,M[_.subLanguage]),M[_.subLanguage]=e._top}else e=y(C,_.subLanguage.length?_.subLanguage:null);_.relevance>0&&(A+=e.relevance),E.__addSublanguage(e._emitter,e.language)}():d(),C=""}function p(e,t){""!==e&&(E.startScope(t),E.addText(e),E.endScope())}function h(e,t){let n=1;const i=t.length-1;for(;n<=i;){if(!e._emit[n]){n++;continue}const i=x.classNameAliases[e[n]]||e[n],r=t[n];i?p(r,i):(C=r,d(),C=""),n++}}function f(e,t){return e.scope&&"string"==typeof e.scope&&E.openNode(x.classNameAliases[e.scope]||e.scope),e.beginScope&&(e.beginScope._wrap?(p(C,x.classNameAliases[e.beginScope._wrap]||e.beginScope._wrap),C=""):e.beginScope._multi&&(h(e.beginScope,t),C="")),_=Object.create(e,{parent:{value:_}}),_}function g(e){return 0===_.matcher.regexIndex?(C+=e[0],1):(P=!0,0)}function m(e){const t=e[0],r=n.substring(e.index),o=function e(t,n,r){let o=function(e,t){const n=e&&e.exec(t);return n&&0===n.index}(t.endRe,r);if(o){if(t["on:end"]){const e=new i(t);t["on:end"](n,e),e.isMatchIgnored&&(o=!1)}if(o){for(;t.endsParent&&t.parent;)t=t.parent;return t}}if(t.endsWithParent)return e(t.parent,n,r)}(_,e,r);if(!o)return ne;const s=_;_.endScope&&_.endScope._wrap?(u(),p(t,_.endScope._wrap)):_.endScope&&_.endScope._multi?(u(),h(_.endScope,e)):s.skip?C+=t:(s.returnEnd||s.excludeEnd||(C+=t),u(),s.excludeEnd&&(C=t));do{_.scope&&E.closeNode(),_.skip||_.subLanguage||(A+=_.relevance),_=_.parent}while(_!==o.parent);return o.starts&&f(o.starts,e),s.returnEnd?0:t.length}let v={};function w(t,o){const a=o&&o[0];if(C+=t,null==a)return u(),0;if("begin"===v.type&&"end"===o.type&&v.index===o.index&&""===a){if(C+=n.slice(o.index,o.index+1),!s){const t=new Error(`0 width match regex (${e})`);throw t.languageName=e,t.badRule=v.rule,t}return 1}if(v=o,"begin"===o.type)return function(e){const t=e[0],n=e.rule,r=new i(n),o=[n.__beforeBegin,n["on:begin"]];for(const n of o)if(n&&(n(e,r),r.isMatchIgnored))return g(t);return n.skip?C+=t:(n.excludeBegin&&(C+=t),u(),n.returnBegin||n.excludeBegin||(C=t)),f(n,e),n.returnBegin?0:t.length}(o);if("illegal"===o.type&&!r){const e=new Error('Illegal lexeme "'+a+'" for mode "'+(_.scope||"<unnamed>")+'"');throw e.mode=_,e}if("end"===o.type){const e=m(o);if(e!==ne)return e}if("illegal"===o.type&&""===a)return 1;if(T>1e5&&T>3*o.index){throw new Error("potential infinite loop, way more iterations than matches")}return C+=a,a.length}const x=O(e);if(!x)throw V(a.replace("{}",e)),new Error('Unknown language: "'+e+'"');const k=Q(x);let S="",_=o||k;const M={},E=new c.__emitter(c);!function(){const e=[];for(let t=_;t!==x;t=t.parent)t.scope&&e.unshift(t.scope);e.forEach(e=>E.openNode(e))}();let C="",A=0,j=0,T=0,P=!1;try{if(x.__emitTokens)x.__emitTokens(n,E);else{for(_.matcher.considerAll();;){T++,P?P=!1:_.matcher.considerAll(),_.matcher.lastIndex=j;const e=_.matcher.exec(n);if(!e)break;const t=w(n.substring(j,e.index),e);j=e.index+t}w(n.substring(j))}return E.finalize(),S=E.toHTML(),{language:e,value:S,relevance:A,illegal:!1,_emitter:E,_top:_}}catch(t){if(t.message&&t.message.includes("Illegal"))return{language:e,value:ee(n),illegal:!0,relevance:0,_illegalBy:{message:t.message,index:j,context:n.slice(j-100,j+100),mode:t.mode,resultSoFar:S},_emitter:E};if(s)return{language:e,value:ee(n),illegal:!1,relevance:0,errorRaised:t,_emitter:E,_top:_};throw t}}function y(e,n){n=n||c.languages||Object.keys(t);const i=function(e){const t={value:ee(e),illegal:!1,relevance:0,_top:l,_emitter:new c.__emitter(c)};return t._emitter.addText(e),t}(e),r=n.filter(O).filter(_).map(t=>b(t,e,!1));r.unshift(i);const o=r.sort((e,t)=>{if(e.relevance!==t.relevance)return t.relevance-e.relevance;if(e.language&&t.language){if(O(e.language).supersetOf===t.language)return 1;if(O(t.language).supersetOf===e.language)return-1}return 0}),[s,a]=o,d=s;return d.secondBest=a,d}function w(e){let t=null;const n=function(e){let t=e.className+" ";t+=e.parentNode?e.parentNode.className:"";const n=c.languageDetectRe.exec(t);if(n){const t=O(n[1]);return t||(K(a.replace("{}",n[1])),K("Falling back to no-highlight mode for this block.",e)),t?n[1]:"no-highlight"}return t.split(/\s+/).find(e=>u(e)||O(e))}(e);if(u(n))return;if(M("before:highlightElement",{el:e,language:n}),e.children.length>0&&(c.ignoreUnescapedHTML||(console.warn("One of your code blocks includes unescaped HTML. This is a potentially serious security risk."),console.warn("https://github.com/highlightjs/highlight.js/wiki/security"),console.warn("The element with unescaped HTML:"),console.warn(e)),c.throwUnescapedHTML)){throw new Y("One of your code blocks includes unescaped HTML.",e.innerHTML)}t=e;const i=t.textContent,o=n?v(i,{language:n,ignoreIllegals:!0}):y(i);e.innerHTML=o.value,function(e,t,n){const i=t&&r[t]||n;e.classList.add("hljs"),e.classList.add("language-"+i)}(e,n,o.language),e.result={language:o.language,re:o.relevance,relevance:o.relevance},o.secondBest&&(e.secondBest={language:o.secondBest.language,relevance:o.secondBest.relevance}),M("after:highlightElement",{el:e,result:o,text:i})}let x=!1;function k(){if("loading"===document.readyState)return void(x=!0);document.querySelectorAll(c.cssSelector).forEach(w)}function O(e){return e=(e||"").toLowerCase(),t[e]||t[r[e]]}function S(e,{languageName:t}){"string"==typeof e&&(e=[e]),e.forEach(e=>{r[e.toLowerCase()]=t})}function _(e){const t=O(e);return t&&!t.disableAutodetect}function M(e,t){const n=e;o.forEach((function(e){e[n]&&e[n](t)}))}"undefined"!=typeof window&&window.addEventListener&&window.addEventListener("DOMContentLoaded",(function(){x&&k()}),!1),Object.assign(e,{highlight:v,highlightAuto:y,highlightAll:k,highlightElement:w,highlightBlock:function(e){return W("10.7.0","highlightBlock will be removed entirely in v12.0"),W("10.7.0","Please use highlightElement now."),w(e)},configure:function(e){c=te(c,e)},initHighlighting:()=>{k(),W("10.6.0","initHighlighting() deprecated.  Use highlightAll() now.")},initHighlightingOnLoad:function(){k(),W("10.6.0","initHighlightingOnLoad() deprecated.  Use highlightAll() now.")},registerLanguage:function(n,i){let r=null;try{r=i(e)}catch(e){if(V("Language definition for '{}' could not be registered.".replace("{}",n)),!s)throw e;V(e),r=l}r.name||(r.name=n),t[n]=r,r.rawDefinition=i.bind(null,e),r.aliases&&S(r.aliases,{languageName:n})},unregisterLanguage:function(e){delete t[e];for(const t of Object.keys(r))r[t]===e&&delete r[t]},listLanguages:function(){return Object.keys(t)},getLanguage:O,registerAliases:S,autoDetection:_,inherit:te,addPlugin:function(e){!function(e){e["before:highlightBlock"]&&!e["before:highlightElement"]&&(e["before:highlightElement"]=t=>{e["before:highlightBlock"](Object.assign({block:t.el},t))}),e["after:highlightBlock"]&&!e["after:highlightElement"]&&(e["after:highlightElement"]=t=>{e["after:highlightBlock"](Object.assign({block:t.el},t))})}(e),o.push(e)},removePlugin:function(e){const t=o.indexOf(e);-1!==t&&o.splice(t,1)}}),e.debugMode=function(){s=!1},e.safeMode=function(){s=!0},e.versionString="11.8.0",e.regex={concat:g,lookahead:p,either:m,optional:f,anyNumberOfTimes:h};for(const e in L)"object"==typeof L[e]&&n(L[e]);return Object.assign(e,L),e},re=ie({});re.newInstance=()=>ie({}),e.exports=re,re.HighlightJS=re,re.default=re},w3AR:function(e,t,n){"use strict";n.d(t,"a",(function(){return s})),n.d(t,"b",(function(){return a})),n.d(t,"c",(function(){return l}));var i=n("htNe"),r=n.n(i),o=(n("UezY"),n("z6RN"),n("hG7+"),n("2ibD"));const s=function(e,t,n){return Math.max(Math.min(e,n),t)},a=r()((async function(e){const{data:t}=await Object(o.a)(e,{responseType:"blob"});return t.text()})),l=function(...e){const t=e.filter((function(e){return e}));if(!t.length)return new DOMRect(-1e3,-1e3,0,0);if(1===t.length)return t[0];let n=1/0,i=1/0,r=-1/0,o=-1/0;for(const e of t)n=Math.min(n,e.left),i=Math.min(i,e.top),r=Math.max(r,e.right),o=Math.max(o,e.bottom);return new DOMRect(n,i,r-n,o-i)}},wjpx:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.booleanProp=void 0;const i=n("ATGc");t.booleanProp=e=>(0,i.propOptionsGenerator)(Boolean,e)},yGBk:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.symbolProp=void 0;const i=n("ATGc"),r=n("M5Z+");t.symbolProp=e=>(0,i.propOptionsGenerator)(void 0,e,r.isSymbol)}}]);
//# sourceMappingURL=commons-pages.admin.topics.edit-pages.admin.topics.new-pages.groups.comment_templates-pages.groups.e-39fd14c8.40962017.chunk.js.map