(this.webpackJsonp=this.webpackJsonp||[]).push([["commons-pages.projects.commit.pipelines-pages.projects.commit.rapid_diffs-pages.projects.commit.show"],{"4eas":function(e,t,n){"use strict";var i=n("7xOh");t.a=Object(i.a)()},FyMq:function(e,t,n){"use strict";n.d(t,"k",(function(){return a})),n.d(t,"n",(function(){return r})),n.d(t,"j",(function(){return o})),n.d(t,"a",(function(){return s})),n.d(t,"e",(function(){return c})),n.d(t,"i",(function(){return l})),n.d(t,"d",(function(){return d})),n.d(t,"l",(function(){return u})),n.d(t,"f",(function(){return m})),n.d(t,"g",(function(){return h})),n.d(t,"h",(function(){return p})),n.d(t,"b",(function(){return f})),n.d(t,"c",(function(){return g})),n.d(t,"m",(function(){return v}));var i=n("/lV4");const a="openRevertModal",r="revert-commit-modal",o="openCherryPickModal",s="cherry-pick-commit-modal",c={startMergeRequest:Object(i.i)("ChangeTypeAction|Start a %{newMergeRequest} with these changes"),existingBranch:Object(i.i)("ChangeTypeAction|Your changes will be committed to %{branchName} because a merge request is open."),branchInFork:Object(i.i)("ChangeTypeAction|GitLab will create a branch in your fork and start a merge request."),newMergeRequest:Object(i.a)("new merge request"),actionCancelText:Object(i.a)("Cancel")},l={branchLabel:Object(i.i)("ChangeTypeAction|Revert in branch"),actionPrimaryText:Object(i.i)("ChangeTypeAction|Revert")},d={branchLabel:Object(i.i)("ChangeTypeAction|Pick into branch"),projectLabel:Object(i.i)("ChangeTypeAction|Pick into project"),actionPrimaryText:Object(i.i)("ChangeTypeAction|Cherry-pick")},u=Object(i.i)("ChangeTypeAction|This will create a new commit in order to revert the existing changes."),m=Object(i.a)("No matching results"),h=Object(i.i)("ChangeTypeAction|Switch project"),p=Object(i.i)("ChangeTypeAction|Search projects"),f=Object(i.i)("ChangeTypeAction|Switch branch"),g=Object(i.i)("ChangeTypeAction|Search branches"),v=Object(i.a)("Something went wrong while fetching branches")},MALY:function(e,t){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"CommitContainingTags"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"fullPath"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"commitSha"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"project"},arguments:[{kind:"Argument",name:{kind:"Name",value:"fullPath"},value:{kind:"Variable",name:{kind:"Name",value:"fullPath"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"commitReferences"},arguments:[{kind:"Argument",name:{kind:"Name",value:"commitSha"},value:{kind:"Variable",name:{kind:"Name",value:"commitSha"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"containingTags"},arguments:[{kind:"Argument",name:{kind:"Name",value:"excludeTipped"},value:{kind:"BooleanValue",value:!0}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"names"},arguments:[],directives:[]}]}}]}}]}}]}}],loc:{start:0,end:230}};n.loc.source={body:"query CommitContainingTags($fullPath: ID!, $commitSha: String!) {\n  project(fullPath: $fullPath) {\n    id\n    commitReferences(commitSha: $commitSha) {\n      containingTags(excludeTipped: true) {\n        names\n      }\n    }\n  }\n}\n",name:"GraphQL request",locationOffset:{line:1,column:1}};var i={};function a(e,t){for(var n=0;n<e.definitions.length;n++){var i=e.definitions[n];if(i.name&&i.name.value==t)return i}}n.definitions.forEach((function(e){if(e.name){var t=new Set;!function e(t,n){if("FragmentSpread"===t.kind)n.add(t.name.value);else if("VariableDefinition"===t.kind){var i=t.type;"NamedType"===i.kind&&n.add(i.name.value)}t.selectionSet&&t.selectionSet.selections.forEach((function(t){e(t,n)})),t.variableDefinitions&&t.variableDefinitions.forEach((function(t){e(t,n)})),t.definitions&&t.definitions.forEach((function(t){e(t,n)}))}(e,t),i[e.name.value]=t}})),e.exports=n,e.exports.CommitContainingTags=function(e,t){var n={kind:e.kind,definitions:[a(e,t)]};e.hasOwnProperty("loc")&&(n.loc=e.loc);var r=i[t]||new Set,o=new Set,s=new Set;for(r.forEach((function(e){s.add(e)}));s.size>0;){var c=s;s=new Set,c.forEach((function(e){o.has(e)||(o.add(e),(i[e]||new Set).forEach((function(e){s.add(e)})))}))}return o.forEach((function(t){var i=a(e,t);i&&n.definitions.push(i)})),n}(n,"CommitContainingTags")},MbsY:function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var i=n("ewH8"),a=n("NmEs"),r=n("OneA"),o=n("FyMq"),s=n("eaMP");function c(e){const t=document.querySelector(".js-revert-commit-modal");if(!t)return!1;const{title:n,endpoint:c,branch:l,pushCode:d,branchCollaboration:u,existingBranch:m,branchesEndpoint:h}=t.dataset,p=Object(s.a)({endpoint:c,branchesEndpoint:h,branch:l,pushCode:Object(a.G)(d),branchCollaboration:Object(a.G)(u),defaultBranch:l,modalTitle:n,existingBranch:m});return new i.default({el:t,name:"CommitFormModalRoot",store:p,provide:{prependedText:o.l},render:function(t){return t(r.a,{props:{i18n:{...o.i,...o.e},openModal:o.k,modalId:o.n,primaryActionEventName:e}})}})}},OneA:function(e,t,n){"use strict";var i=n("Oxu3"),a=n("nrbW"),r=n("LZPs"),o=n("dIEn"),s=n("L78D"),c=n("yi8e"),l=n("qPgm"),d=n("GuZl"),u=n("Qhxq"),m=n("4eas"),h=n("YqVM"),p=n.n(h),f=n("Tmea"),g=n.n(f),v=(n("3UXl"),n("iyoE"),n("93nq")),b=n("FyMq"),k={name:"BranchesDropdown",components:{GlCollapsibleListbox:v.a},props:{value:{type:String,required:!1,default:""}},i18n:{noResultsMessage:b.f,branchHeaderTitle:b.b,branchSearchPlaceholder:b.c},data:()=>({searchTerm:""}),computed:{...Object(c.d)(["joinedBranches"]),...Object(c.f)(["isFetching","branch"]),listboxItems(){const e={value:this.branch,text:this.branch},t=this.joinedBranches.map((function(e){return{value:e,text:e}}));return this.searchTerm?t:p()([e].concat(t),"value")}},mounted(){this.fetchBranches()},methods:{...Object(c.c)(["fetchBranches"]),selectBranch(e){this.$emit("input",e)},debouncedSearch:g()((function(){this.fetchBranches(this.searchTerm)}),250),searchTermChanged(e){this.searchTerm=e.trim(),this.debouncedSearch(e)}}},S=n("tBpV"),C=Object(S.a)(k,(function(){var e=this;return(0,e._self._c)("gl-collapsible-listbox",{staticClass:"gl-max-w-full",attrs:{"header-text":e.$options.i18n.branchHeaderTitle,"toggle-text":e.value,"toggle-class":"gl-w-full",items:e.listboxItems,searchable:"","search-placeholder":e.$options.i18n.branchSearchPlaceholder,searching:e.isFetching,selected:e.value,"no-results-text":e.$options.i18n.noResultsMessage},on:{search:e.searchTermChanged,select:e.selectBranch}})}),[],!1,null,null,null).exports,y=(n("UezY"),n("z6RN"),n("hG7+"),n("B++/"),n("47t/"),{name:"ProjectsDropdown",components:{GlCollapsibleListbox:v.a},i18n:{noResultsMessage:b.f,projectHeaderTitle:b.g,projectSearchPlaceholder:b.h},data:()=>({filterTerm:""}),computed:{...Object(c.d)(["sortedProjects"]),...Object(c.f)(["targetProjectId"]),filteredResults(){const e=this.filterTerm.toLowerCase();return this.sortedProjects.filter((function(t){return t.name.toLowerCase().includes(e)}))},listboxItems(){const e={value:this.selectedProject.id,text:this.selectedProject.name},t=this.filteredResults.map((function({id:e,name:t}){return{value:e,text:t}}));return this.filterTerm?t:p()([e].concat(t),"value")},selectedProject(){var e=this;return this.sortedProjects.find((function(t){return t.id===e.targetProjectId}))||{}}},methods:{selectProject(e){this.$emit("input",e)},debouncedSearch:g()((function(e){this.filterTerm=e.trim()}),250)}}),j={components:{BranchesDropdown:C,ProjectsDropdown:Object(S.a)(y,(function(){return(0,this._self._c)("gl-collapsible-listbox",{staticClass:"gl-max-w-full",attrs:{"header-text":this.$options.i18n.projectHeaderTitle,items:this.listboxItems,searchable:"","search-placeholder":this.$options.i18n.projectSearchPlaceholder,selected:this.selectedProject.id,"toggle-text":this.selectedProject.name,"toggle-class":"gl-w-full","no-results-text":this.$options.i18n.noResultsMessage},on:{search:this.debouncedSearch,select:this.selectProject}})}),[],!1,null,null,null).exports,GlModal:i.a,GlForm:a.a,GlFormCheckbox:r.a,GlSprintf:o.a,GlFormGroup:s.a},inject:{prependedText:{default:""}},props:{i18n:{type:Object,required:!0},openModal:{type:String,required:!0},modalId:{type:String,required:!0},isCherryPick:{type:Boolean,required:!1,default:!1},primaryActionEventName:{type:String,required:!1,default:null}},data(){return{checked:!0,actionPrimary:{text:this.i18n.actionPrimaryText,attributes:{variant:"confirm",category:"primary","data-testid":"submit-commit"}},actionCancel:{text:this.i18n.actionCancelText,attributes:{"data-testid":"cancel-commit"}}}},computed:{...Object(c.f)(["branch","endpoint","pushCode","branchCollaboration","modalTitle","existingBranch","targetProjectId","targetProjectName"])},mounted(){m.a.$on(this.openModal,this.show)},methods:{...Object(c.c)(["clearModal","setBranch","setSelectedBranch","setSelectedProject"]),show(){this.$root.$emit(d.c,this.modalId)},handlePrimary(){this.primaryActionEventName&&l.b.trackRedisHllUserEvent(this.primaryActionEventName),this.$refs.form.$el.submit()},resetModalHandler(){this.clearModal(),this.setSelectedBranch(""),this.checked=!0}},csrf:u.a},T=Object(S.a)(j,(function(){var e=this,t=e._self._c;return t("gl-modal",e._b({attrs:{"data-testid":"modal-commit","modal-id":e.modalId,size:"sm",title:e.modalTitle,"action-cancel":e.actionCancel,"action-primary":e.actionPrimary},on:{hidden:e.resetModalHandler,primary:e.handlePrimary}},"gl-modal",e.$attrs,!1),[e.prependedText.length?t("p",{attrs:{"data-testid":"prepended-text"}},[t("gl-sprintf",{attrs:{message:e.prependedText}})],1):e._e(),e._v(" "),t("gl-form",{ref:"form",attrs:{action:e.endpoint,method:"post"}},[t("input",{attrs:{type:"hidden",name:"authenticity_token"},domProps:{value:e.$options.csrf.token}}),e._v(" "),e.isCherryPick?t("gl-form-group",{attrs:{label:e.i18n.projectLabel,"label-for":"start_project","data-testid":"dropdown-group"}},[t("input",{attrs:{id:"target_project_id",type:"hidden",name:"target_project_id"},domProps:{value:e.targetProjectId}}),e._v(" "),t("projects-dropdown",{attrs:{value:e.targetProjectName},on:{input:e.setSelectedProject}})],1):e._e(),e._v(" "),t("gl-form-group",{attrs:{label:e.i18n.branchLabel,"label-for":"start_branch","data-testid":"dropdown-group"}},[t("input",{attrs:{id:"start_branch",type:"hidden",name:"start_branch"},domProps:{value:e.branch}}),e._v(" "),t("branches-dropdown",{attrs:{value:e.branch},on:{input:e.setBranch}})],1),e._v(" "),e.pushCode?t("gl-form-checkbox",{staticClass:"gl-mt-3",attrs:{name:"create_merge_request"},model:{value:e.checked,callback:function(t){e.checked=t},expression:"checked"}},[t("gl-sprintf",{attrs:{message:e.i18n.startMergeRequest},scopedSlots:e._u([{key:"newMergeRequest",fn:function(){return[t("strong",[e._v(e._s(e.i18n.newMergeRequest))])]},proxy:!0}],null,!1,1455792372)})],1):t("input",{attrs:{type:"hidden",name:"create_merge_request",value:"1"}})],1),e._v(" "),e.pushCode?e._e():t("p",{staticClass:"gl-mb-0 gl-mt-5",attrs:{"data-testid":"appended-text"}},[e.branchCollaboration?t("gl-sprintf",{attrs:{message:e.i18n.existingBranch},scopedSlots:e._u([{key:"branchName",fn:function(){return[t("strong",[e._v(e._s(e.existingBranch))])]},proxy:!0}],null,!1,2950121280)}):t("gl-sprintf",{attrs:{message:e.i18n.branchInFork}})],1)],1)}),[],!1,null,null,null);t.a=T.exports},RLvT:function(e,t,n){"use strict";var i=n("gjRm"),a=n("ewH8"),r=n("NmEs"),o=(n("v2fZ"),n("2TqH")),s=n("nuJP"),c=n("/lV4"),l=n("FyMq"),d=n("4eas"),u={i18n:{gitlabTag:Object(c.i)("CreateTag|Tag")},components:{GlDisclosureDropdown:o.a,GlDisclosureDropdownGroup:s.a},inject:{newProjectTagPath:{default:""},emailPatchesPath:{default:""},plainDiffPath:{default:""}},props:{canRevert:{type:Boolean,required:!0},canCherryPick:{type:Boolean,required:!0},canTag:{type:Boolean,required:!0},canEmailPatches:{type:Boolean,required:!0}},computed:{showDivider(){return this.canRevert||this.canCherryPick||this.canTag},cherryPickItem(){var e=this;return{text:Object(c.i)("ChangeTypeAction|Cherry-pick"),extraAttrs:{"data-testid":"cherry-pick-link"},action:function(){return e.showModal(l.j)}}},revertLinkItem(){var e=this;return{text:Object(c.i)("ChangeTypeAction|Revert"),extraAttrs:{"data-testid":"revert-link"},action:function(){return e.showModal(l.k)}}},tagLinkItem(){return{text:Object(c.i)("CreateTag|Tag"),href:this.newProjectTagPath,extraAttrs:{"data-testid":"tag-link"}}},plainDiffItem(){return{text:Object(c.i)("DownloadCommit|Plain Diff"),href:this.plainDiffPath,extraAttrs:{download:"",rel:"nofollow","data-testid":"plain-diff-link"}}},patchesItem(){return{text:Object(c.a)("Patches"),href:this.emailPatchesPath,extraAttrs:{download:"",rel:"nofollow","data-testid":"email-patches-link"}}},downloadsGroup(){const e=[];return this.canEmailPatches&&e.push(this.patchesItem),e.push(this.plainDiffItem),{name:Object(c.a)("Downloads"),items:e}},optionsGroup(){const e=[];return this.canRevert&&e.push(this.revertLinkItem),this.canCherryPick&&e.push(this.cherryPickItem),this.canTag&&e.push(this.tagLinkItem),{items:e}},hasOptionsGroup(){return this.canRevert||this.canCherryPick||this.canTag}},methods:{showModal(e){d.a.$emit(e)},closeDropdown(){this.$refs.userDropdown.close()}}},m=n("tBpV"),h=Object(m.a)(u,(function(){var e=this,t=e._self._c;return t("gl-disclosure-dropdown",{ref:"userDropdown",staticClass:"gl-leading-20",attrs:{"toggle-text":e.__("Options"),right:"","data-testid":"commit-options-dropdown"}},[e.hasOptionsGroup?t("gl-disclosure-dropdown-group",{attrs:{group:e.optionsGroup},on:{action:e.closeDropdown}}):e._e(),e._v(" "),t("gl-disclosure-dropdown-group",{attrs:{bordered:e.showDivider,group:e.downloadsGroup},on:{action:e.closeDropdown}})],1)}),[],!1,null,null,null).exports;var p=n("MbsY");t.a=function(){Object(p.a)(),Object(i.a)(),function(){const e=document.querySelector("#js-commit-options-dropdown");if(!e)return!1;const{newProjectTagPath:t,emailPatchesPath:n,plainDiffPath:i,canRevert:o,canCherryPick:s,canTag:c,canEmailPatches:l}=e.dataset;new a.default({el:e,name:"CommitOptionsDropdownRoot",provide:{newProjectTagPath:t,emailPatchesPath:n,plainDiffPath:i},render:function(e){return e(h,{props:{canRevert:Object(r.G)(o),canCherryPick:Object(r.G)(s),canTag:Object(r.G)(c),canEmailPatches:Object(r.G)(l)}})}})}()}},Wspy:function(e,t,n){"use strict";n.d(t,"a",(function(){return V}));n("ZzK0"),n("z6RN"),n("BzOf");var i=n("EmJ/"),a=n.n(i),r=n("jlnU"),o=n("2ibD"),s=n("/lV4");function c(e,t){const n=function(e,t){return 0===e?`${t} ${Object(s.h)("merge request","merge requests",t)}`:","}(e,t);return a()("<span />",{class:"gl-mr-2",text:n})}function l(e){const t=a()("<span />"),n=function(e){return a()("<a />",{class:"gl-mr-2",href:e.path,text:"!"+e.iid})}(e),i=function(e){return a()("<span />",{text:e.title})}(e);return t.append(n),t.append(i),t}function d(){const e=a()("#js-commit-merge-requests");o.a.get(e.data("projectCommitPath")).then((function(t){const n=function(e){const t=a()("<span />");return 0===e.length?t.text(Object(s.i)("Commits|No related merge requests found")):e.forEach((function(n){const i=c(t.children().length,e.length),a=l(n);t.append(i),t.append(a)})),t}(t.data);e.html(n)})).catch((function(){return Object(r.createAlert)({message:Object(s.i)("Commits|An error occurred while fetching merge requests data.")})}))}var u=n("ewH8"),m=n("GiFX"),h=n("5v28"),p=n("wjTY");u.default.use(m.a);const f=new m.a({defaultClient:Object(h.d)()});var g=n("3twG"),v=n("nvAn"),b=n.n(v),k=n("bmQz"),S=n.n(k),C=n("MALY"),y=n.n(C);const j=Object(s.i)("Commit|Branches"),T=Object(s.i)("Commit|Tags"),P=Object(s.i)("Commit|containing commit"),N=Object(s.i)("Commit|There was an error fetching the commit references. Please try again later."),E=Object(s.a)("No related branches found"),_=Object(s.a)("No related tags found");var w=n("kIRW"),R=n("Q5rj"),B=n("9/Bc"),O=n("CbCZ"),x=n("d85j"),A=n("NnjE"),q={name:"RefsList",components:{GlCollapse:w.a,GlSkeletonLoader:R.a,GlBadge:B.a,GlButton:O.a,GlIcon:x.a,GlLoadingIcon:A.a},props:{urlPart:{type:String,required:!0},refType:{type:String,required:!0},containingRefs:{type:Array,required:!1,default:function(){return[]}},tippingRefs:{type:Array,required:!1,default:function(){return[]}},namespace:{type:String,required:!0},hasContainingRefs:{type:Boolean,required:!0},isLoading:{type:Boolean,required:!0}},data:()=>({isContainingRefsVisible:!1}),computed:{collapseIcon(){return this.isContainingRefsVisible?"chevron-down":"chevron-right"},isLoadingRefs(){return this.isLoading&&!this.containingRefs.length},refIcon(){return"heads"===this.refType?"branch":"tag"},showEmptyMessage(){return 0===this.tippingRefs.length&&!this.hasContainingRefs&&!this.isLoading},showNameSpace(){return(0!==this.tippingRefs.length||this.hasContainingRefs)&&!this.isLoading},emptyMessage(){return"heads"===this.refType?E:_}},methods:{toggleCollapse(){this.isContainingRefsVisible=!this.isContainingRefsVisible},showRefs(){this.toggleCollapse(),this.$emit("fetch-containing-refs")},getRefUrl(e){return`${this.urlPart}${encodeURIComponent(e)}?ref_type=${this.refType}`}},i18n:{containingCommit:P}},D=n("tBpV"),I={name:"CommitRefs",components:{RefsList:Object(D.a)(q,(function(){var e=this,t=e._self._c;return t("div",[t("gl-icon",{staticClass:"gl-ml-2 gl-mr-3",attrs:{name:e.refIcon,variant:"default",size:16}}),e._v(" "),e.isLoading?t("gl-loading-icon",{attrs:{size:"sm",inline:""}}):e._e(),e._v(" "),e.showEmptyMessage?t("span",[e._v(e._s(e.emptyMessage))]):e.showNameSpace?t("span",{staticClass:"gl-mr-2",attrs:{"data-testid":"title"}},[e._v(e._s(e.namespace))]):e._e(),e._v(" "),e._l(e.tippingRefs,(function(n){return t("gl-badge",{key:n,staticClass:"gl-mr-2 gl-mt-2",attrs:{href:e.getRefUrl(n)}},[e._v(e._s(n))])})),e._v(" "),e.hasContainingRefs?t("gl-button",{staticClass:"gl-mr-2 !gl-text-sm",attrs:{variant:"link",size:"small"},on:{click:e.showRefs}},[t("gl-icon",{attrs:{name:e.collapseIcon,size:14}}),e._v("\n    "+e._s(e.namespace)+" "+e._s(e.$options.i18n.containingCommit)+"\n  ")],1):e._e(),e._v(" "),t("gl-collapse",{attrs:{visible:e.isContainingRefsVisible}},[e.isLoadingRefs?t("gl-skeleton-loader",{attrs:{lines:1}}):e._l(e.containingRefs,(function(n){return t("gl-badge",{key:n,staticClass:"gl-mr-2 gl-mt-3",attrs:{href:e.getRefUrl(n)}},[e._v(e._s(n))])}))],2)],2)}),[],!1,null,null,null).exports},inject:["fullPath","commitSha"],apollo:{project:{query:b.a,variables(){return this.queryVariables},update({project:{commitReferences:{tippingTags:e,tippingBranches:t,containingBranches:n,containingTags:i}}}){this.tippingTags=e.names,this.tippingBranches=t.names,this.hasContainingBranches=Boolean(n.names.length),this.hasContainingTags=Boolean(i.names.length)},error(){Object(r.createAlert)({message:this.$options.i18n.errorMessage,captureError:!0})}}},data:()=>({containingTags:[],containingBranches:[],tippingTags:[],tippingBranches:[],hasContainingBranches:!1,hasContainingTags:!1}),computed:{hasBranches(){return this.tippingBranches.length||this.hasContainingBranches},hasTags(){return this.tippingTags.length||this.hasContainingTags},queryVariables(){return{fullPath:this.fullPath,commitSha:this.commitSha}},commitsUrlPart(){return Object(g.y)(gon.relative_url_root||"","/"+this.fullPath,"/-/commits/")},isLoading(){return this.$apollo.queries.project.loading}},methods:{async fetchContainingRefs({query:e,namespace:t}){try{const{data:n}=await this.$apollo.query({query:e,variables:this.queryVariables});return this[t]=n.project.commitReferences[t].names,n.project.commitReferences[t].names}catch{return Object(r.createAlert)({message:this.$options.i18n.errorMessage,captureError:!0})}},fetchContainingBranches(){this.fetchContainingRefs({query:S.a,namespace:"containingBranches"})},fetchContainingTags(){this.fetchContainingRefs({query:y.a,namespace:"containingTags"})}},i18n:{branches:j,tags:T,errorMessage:N},FETCH_CONTAINING_REFS_EVENT:"fetch-containing-refs",BRANCHES_REF_TYPE:"heads",TAGS_REF_TYPE:"tags"},F=Object(D.a)(I,(function(){var e=this,t=e._self._c;return t("div",{staticClass:"gl-border-t gl-border-t-section"},[t("div",{staticClass:"well-segment"},[t("refs-list",{attrs:{"has-containing-refs":e.hasContainingBranches,"is-loading":e.isLoading,"tipping-refs":e.tippingBranches,"containing-refs":e.containingBranches,namespace:e.$options.i18n.branches,"url-part":e.commitsUrlPart,"ref-type":e.$options.BRANCHES_REF_TYPE},on:e._d({},[e.$options.FETCH_CONTAINING_REFS_EVENT,e.fetchContainingBranches])})],1),e._v(" "),t("div",{staticClass:"well-segment"},[t("refs-list",{attrs:{"has-containing-refs":e.hasContainingTags,"is-loading":e.isLoading,"tipping-refs":e.tippingTags,"containing-refs":e.containingTags,namespace:e.$options.i18n.tags,"url-part":e.commitsUrlPart,"ref-type":e.$options.TAGS_REF_TYPE},on:e._d({},[e.$options.FETCH_CONTAINING_REFS_EVENT,e.fetchContainingTags])})],1)])}),[],!1,null,null,null).exports;u.default.use(m.a);const M=new m.a({defaultClient:Object(h.d)()});const V=function(){d(),function(e="#js-commit-box-pipeline-summary"){const t=document.querySelector(e);if(!t)return;const{fullPath:n,iid:i,graphqlResourceEtag:a}=t.dataset;new u.default({el:t,name:"PipelineSummaryRoot",apolloProvider:f,render:e=>e(p.a,{props:{fullPath:n,iid:i,pipelineEtag:a}})})}(),function(e="js-commit-branches-and-tags"){const t=document.getElementById(e);if(!t)return!1;const{fullPath:n,commitSha:i}=t.dataset;new u.default({el:t,name:"CommitBranchesRoot",apolloProvider:M,provide:{fullPath:n,commitSha:i},render:e=>e(F)})}()}},YqVM:function(e,t,n){var i=n("nHTl"),a=n("dA+0");e.exports=function(e,t){return e&&e.length?a(e,i(t,2)):[]}},bmQz:function(e,t){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"CommitContainingBranches"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"fullPath"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"commitSha"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"project"},arguments:[{kind:"Argument",name:{kind:"Name",value:"fullPath"},value:{kind:"Variable",name:{kind:"Name",value:"fullPath"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"commitReferences"},arguments:[{kind:"Argument",name:{kind:"Name",value:"commitSha"},value:{kind:"Variable",name:{kind:"Name",value:"commitSha"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"containingBranches"},arguments:[{kind:"Argument",name:{kind:"Name",value:"excludeTipped"},value:{kind:"BooleanValue",value:!0}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"names"},arguments:[],directives:[]}]}}]}}]}}]}}],loc:{start:0,end:238}};n.loc.source={body:"query CommitContainingBranches($fullPath: ID!, $commitSha: String!) {\n  project(fullPath: $fullPath) {\n    id\n    commitReferences(commitSha: $commitSha) {\n      containingBranches(excludeTipped: true) {\n        names\n      }\n    }\n  }\n}\n",name:"GraphQL request",locationOffset:{line:1,column:1}};var i={};function a(e,t){for(var n=0;n<e.definitions.length;n++){var i=e.definitions[n];if(i.name&&i.name.value==t)return i}}n.definitions.forEach((function(e){if(e.name){var t=new Set;!function e(t,n){if("FragmentSpread"===t.kind)n.add(t.name.value);else if("VariableDefinition"===t.kind){var i=t.type;"NamedType"===i.kind&&n.add(i.name.value)}t.selectionSet&&t.selectionSet.selections.forEach((function(t){e(t,n)})),t.variableDefinitions&&t.variableDefinitions.forEach((function(t){e(t,n)})),t.definitions&&t.definitions.forEach((function(t){e(t,n)}))}(e,t),i[e.name.value]=t}})),e.exports=n,e.exports.CommitContainingBranches=function(e,t){var n={kind:e.kind,definitions:[a(e,t)]};e.hasOwnProperty("loc")&&(n.loc=e.loc);var r=i[t]||new Set,o=new Set,s=new Set;for(r.forEach((function(e){s.add(e)}));s.size>0;){var c=s;s=new Set,c.forEach((function(e){o.has(e)||(o.add(e),(i[e]||new Set).forEach((function(e){s.add(e)})))}))}return o.forEach((function(t){var i=a(e,t);i&&n.definitions.push(i)})),n}(n,"CommitContainingBranches")},eaMP:function(e,t,n){"use strict";var i={};n.r(i),n.d(i,"clearModal",(function(){return d})),n.d(i,"requestBranches",(function(){return u})),n.d(i,"setBranchesEndpoint",(function(){return m})),n.d(i,"fetchBranches",(function(){return h})),n.d(i,"setBranch",(function(){return p})),n.d(i,"setSelectedBranch",(function(){return f})),n.d(i,"setSelectedProject",(function(){return g}));var a={};n.r(a),n.d(a,"joinedBranches",(function(){return C})),n.d(a,"sortedProjects",(function(){return y}));var r=n("ewH8"),o=n("yi8e"),s=(n("B++/"),n("z6RN"),n("47t/"),n("jlnU")),c=n("2ibD"),l=n("FyMq");const d=function({commit:e}){e("CLEAR_MODAL")},u=function({commit:e}){e("REQUEST_BRANCHES")},m=function({commit:e},t){e("SET_BRANCHES_ENDPOINT",t)},h=function({commit:e,dispatch:t,state:n},i){return t("requestBranches"),c.a.get(n.branchesEndpoint,{params:{search:i}}).then((function({data:t=[]}){var n;e("RECEIVE_BRANCHES_SUCCESS",null!==(n=t.Branches)&&void 0!==n&&n.length?t.Branches:t)})).catch((function(){Object(s.createAlert)({message:l.m})}))},p=function({commit:e,dispatch:t},n){e("SET_BRANCH",n),t("setSelectedBranch",n)},f=function({commit:e},t){e("SET_SELECTED_BRANCH",t)},g=function({commit:e,dispatch:t,state:n},i){var a;let{branchesEndpoint:r}=n;null!==(a=n.projects)&&void 0!==a&&a.length&&(r=n.projects.find((function(e){return e.id===i})).refsUrl),e("SET_SELECTED_PROJECT",i),t("setBranchesEndpoint",r),t("fetchBranches")};var v=n("YqVM"),b=n.n(v),k=n("d+lS"),S=n.n(k);const C=function(e){return S()(e.branches).sort()},y=function(e){return b()(e.projects,"id").sort()};n("86Lb");var j={SET_BRANCHES_ENDPOINT(e,t){e.branchesEndpoint=t},REQUEST_BRANCHES(e){e.isFetching=!0},RECEIVE_BRANCHES_SUCCESS(e,t){e.isFetching=!1,e.branches=t,e.branches.unshift(e.branch)},CLEAR_MODAL(e){e.branch=e.defaultBranch},SET_BRANCH(e,t){e.branch=t},SET_SELECTED_BRANCH(e,t){e.selectedBranch=t},SET_SELECTED_PROJECT(e,t){e.targetProjectId=t,e.branch=e.defaultBranch}};r.default.use(o.b);t.a=function(e={}){return new o.b.Store({actions:i,mutations:j,getters:a,state:{endpoint:null,branchesEndpoint:null,isFetching:!1,branches:[],projects:[],selectedBranch:"",pushCode:!1,branchCollaboration:!1,modalTitle:"",existingBranch:"",defaultBranch:"",branch:"",targetProjectId:"",targetProjectName:"",...e}})}},gjRm:function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));n("byxs");var i=n("ewH8"),a=n("NmEs"),r=n("OneA"),o=n("FyMq"),s=n("eaMP");function c(e){const t=document.querySelector(".js-cherry-pick-commit-modal");if(!t)return!1;const{title:n,endpoint:c,branch:l,targetProjectId:d,targetProjectName:u,pushCode:m,branchCollaboration:h,existingBranch:p,branchesEndpoint:f,projects:g}=t.dataset,v=Object(s.a)({endpoint:c,branchesEndpoint:f,branch:l,targetProjectId:d,targetProjectName:u,pushCode:Object(a.G)(m),branchCollaboration:Object(a.G)(h),defaultBranch:l,modalTitle:n,existingBranch:p,projects:Object(a.f)(JSON.parse(g),{deep:!0})});return new i.default({el:t,name:"CommitFormModalRoot",store:v,render:function(t){return t(r.a,{props:{i18n:{...o.d,...o.e},openModal:o.j,modalId:o.a,isCherryPick:!0,primaryActionEventName:e}})}})}},nvAn:function(e,t){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"CommitReferences"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"fullPath"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"commitSha"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"project"},arguments:[{kind:"Argument",name:{kind:"Name",value:"fullPath"},value:{kind:"Variable",name:{kind:"Name",value:"fullPath"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"commitReferences"},arguments:[{kind:"Argument",name:{kind:"Name",value:"commitSha"},value:{kind:"Variable",name:{kind:"Name",value:"commitSha"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"containingBranches"},arguments:[{kind:"Argument",name:{kind:"Name",value:"excludeTipped"},value:{kind:"BooleanValue",value:!0}},{kind:"Argument",name:{kind:"Name",value:"limit"},value:{kind:"IntValue",value:"1"}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"names"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"containingTags"},arguments:[{kind:"Argument",name:{kind:"Name",value:"excludeTipped"},value:{kind:"BooleanValue",value:!0}},{kind:"Argument",name:{kind:"Name",value:"limit"},value:{kind:"IntValue",value:"1"}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"names"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"tippingBranches"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"names"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"tippingTags"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"names"},arguments:[],directives:[]}]}}]}}]}}]}}],loc:{start:0,end:404}};n.loc.source={body:"query CommitReferences($fullPath: ID!, $commitSha: String!) {\n  project(fullPath: $fullPath) {\n    id\n    commitReferences(commitSha: $commitSha) {\n      containingBranches(excludeTipped: true, limit: 1) {\n        names\n      }\n      containingTags(excludeTipped: true, limit: 1) {\n        names\n      }\n      tippingBranches {\n        names\n      }\n      tippingTags {\n        names\n      }\n    }\n  }\n}\n",name:"GraphQL request",locationOffset:{line:1,column:1}};var i={};function a(e,t){for(var n=0;n<e.definitions.length;n++){var i=e.definitions[n];if(i.name&&i.name.value==t)return i}}n.definitions.forEach((function(e){if(e.name){var t=new Set;!function e(t,n){if("FragmentSpread"===t.kind)n.add(t.name.value);else if("VariableDefinition"===t.kind){var i=t.type;"NamedType"===i.kind&&n.add(i.name.value)}t.selectionSet&&t.selectionSet.selections.forEach((function(t){e(t,n)})),t.variableDefinitions&&t.variableDefinitions.forEach((function(t){e(t,n)})),t.definitions&&t.definitions.forEach((function(t){e(t,n)}))}(e,t),i[e.name.value]=t}})),e.exports=n,e.exports.CommitReferences=function(e,t){var n={kind:e.kind,definitions:[a(e,t)]};e.hasOwnProperty("loc")&&(n.loc=e.loc);var r=i[t]||new Set,o=new Set,s=new Set;for(r.forEach((function(e){s.add(e)}));s.size>0;){var c=s;s=new Set,c.forEach((function(e){o.has(e)||(o.add(e),(i[e]||new Set).forEach((function(e){s.add(e)})))}))}return o.forEach((function(t){var i=a(e,t);i&&n.definitions.push(i)})),n}(n,"CommitReferences")}}]);
//# sourceMappingURL=commons-pages.projects.commit.pipelines-pages.projects.commit.rapid_diffs-pages.projects.commit.show.a0118609.chunk.js.map