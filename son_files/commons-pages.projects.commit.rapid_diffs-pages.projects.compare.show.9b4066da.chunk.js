(this.webpackJsonp=this.webpackJsonp||[]).push([["commons-pages.projects.commit.rapid_diffs-pages.projects.compare.show","588a1c7b"],{"+C/r":function(e,t,i){"use strict";t.isInteger=e=>"number"==typeof e?Number.isInteger(e):"string"==typeof e&&""!==e.trim()&&Number.isInteger(Number(e)),t.find=(e,t)=>e.nodes.find(e=>e.type===t),t.exceedsLimit=(e,i,n=1,r)=>!1!==r&&(!(!t.isInteger(e)||!t.isInteger(i))&&(Number(i)-Number(e))/Number(n)>=r),t.escapeNode=(e,t=0,i)=>{const n=e.nodes[t];n&&(i&&n.type===i||"open"===n.type||"close"===n.type)&&!0!==n.escaped&&(n.value="\\"+n.value,n.escaped=!0)},t.encloseBrace=e=>"brace"===e.type&&(e.commas>>0+e.ranges>>0==0&&(e.invalid=!0,!0)),t.isInvalidBrace=e=>"brace"===e.type&&(!(!0!==e.invalid&&!e.dollar)||(e.commas>>0+e.ranges>>0==0||!0!==e.open||!0!==e.close)&&(e.invalid=!0,!0)),t.isOpenOrClose=e=>"open"===e.type||"close"===e.type||(!0===e.open||!0===e.close),t.reduce=e=>e.reduce((e,t)=>("text"===t.type&&e.push(t.value),"range"===t.type&&(t.type="text"),e),[]),t.flatten=(...e)=>{const t=[],i=e=>{for(let n=0;n<e.length;n++){const r=e[n];Array.isArray(r)?i(r):void 0!==r&&t.push(r)}return t};return i(e),t}},"0SQm":function(e,t,i){"use strict";const n=i("WWcN"),r=i("rwLT"),s=i("Z5sJ"),o=i("AH4o"),a=i("BT9Z"),l=(e,t,i=!1)=>{if(Array.isArray(e)){const n=e.map(e=>l(e,t,i));return e=>{for(const t of n){const i=t(e);if(i)return i}return!1}}const n=(r=e)&&"object"==typeof r&&!Array.isArray(r)&&e.tokens&&e.input;var r;if(""===e||"string"!=typeof e&&!n)throw new TypeError("Expected pattern to be a non-empty string");const s=t||{},a=o.isWindows(t),c=n?l.compileRe(e,t):l.makeRe(e,t,!1,!0),u=c.state;delete c.state;let d=()=>!1;if(s.ignore){const e={...t,ignore:null,onMatch:null,onResult:null};d=l(s.ignore,e,i)}const p=(i,n=!1)=>{const{isMatch:r,match:o,output:p}=l.test(i,c,t,{glob:e,posix:a}),f={glob:e,state:u,regex:c,posix:a,input:i,output:p,match:o,isMatch:r};return"function"==typeof s.onResult&&s.onResult(f),!1===r?(f.isMatch=!1,!!n&&f):d(i)?("function"==typeof s.onIgnore&&s.onIgnore(f),f.isMatch=!1,!!n&&f):("function"==typeof s.onMatch&&s.onMatch(f),!n||f)};return i&&(p.state=u),p};l.test=(e,t,i,{glob:n,posix:r}={})=>{if("string"!=typeof e)throw new TypeError("Expected input to be a string");if(""===e)return{isMatch:!1,output:""};const s=i||{},a=s.format||(r?o.toPosixSlashes:null);let c=e===n,u=c&&a?a(e):e;return!1===c&&(u=a?a(e):e,c=u===n),!1!==c&&!0!==s.capture||(c=!0===s.matchBase||!0===s.basename?l.matchBase(e,t,i,r):t.exec(u)),{isMatch:Boolean(c),match:c,output:u}},l.matchBase=(e,t,i,r=o.isWindows(i))=>(t instanceof RegExp?t:l.makeRe(t,i)).test(n.basename(e)),l.isMatch=(e,t,i)=>l(t,i)(e),l.parse=(e,t)=>Array.isArray(e)?e.map(e=>l.parse(e,t)):s(e,{...t,fastpaths:!1}),l.scan=(e,t)=>r(e,t),l.compileRe=(e,t,i=!1,n=!1)=>{if(!0===i)return e.output;const r=t||{},s=r.contains?"":"^",o=r.contains?"":"$";let a=`${s}(?:${e.output})${o}`;e&&!0===e.negated&&(a=`^(?!${a}).*$`);const c=l.toRegex(a,t);return!0===n&&(c.state=e),c},l.makeRe=(e,t={},i=!1,n=!1)=>{if(!e||"string"!=typeof e)throw new TypeError("Expected a non-empty string");let r={negated:!1,fastpaths:!0};return!1===t.fastpaths||"."!==e[0]&&"*"!==e[0]||(r.output=s.fastpaths(e,t)),r.output||(r=s(e,t)),l.compileRe(r,t,i,n)},l.toRegex=(e,t)=>{try{const i=t||{};return new RegExp(e,i.flags||(i.nocase?"i":""))}catch(e){if(t&&!0===t.debug)throw e;return/$^/}},l.constants=a,e.exports=l},"0sIN":function(e,t,i){(e.exports=i("VNgF")(!1)).push([e.i,"\n.file-addition,\n.file-addition-solid {\n  color: #1aaa55;\n}\n.file-modified,\n.file-modified-solid {\n  color: #fc9403;\n}\n.file-deletion,\n.file-deletion-solid {\n  color: #db3b21;\n}\n",""])},"3Meb":function(e,t,i){"use strict";i.d(t,"a",(function(){return o})),i.d(t,"b",(function(){return a}));i("byxs");var n=i("ewH8"),r=i("SbXM"),s=i("7ol+");const o=function(e){return{clicks:{toggleOptionsMenu(t,i){const s=this.diffElement.querySelector("[data-options-menu]");if(!s)return;const o=(a=s,JSON.parse(a.querySelector("script").textContent));var a;const{oldPath:l,newPath:c}=this.data,u=this.id;new n.default({el:i,name:"DropdownComponentRoot",pinia:r.a,render:t=>t(e,{props:{items:o,oldPath:l,newPath:c,fileId:u}})})}}}},a=o(s.a)},"3ZyF":function(e,t,i){"use strict";
/*!
 * is-number <https://github.com/jonschlinkert/is-number>
 *
 * Copyright (c) 2014-present, Jon Schlinkert.
 * Released under the MIT License.
 */e.exports=function(e){return"number"==typeof e?e-e==0:"string"==typeof e&&""!==e.trim()&&(Number.isFinite?Number.isFinite(+e):isFinite(+e))}},"4Gq2":function(e,t,i){(e.exports=i("VNgF")(!1)).push([e.i,"\n.tree-list-blobs .file-row-name {\n  margin-left: 12px;\n}\n",""])},"4Ka6":function(e,t,i){(function(e){var n=Object.getOwnPropertyDescriptors||function(e){for(var t=Object.keys(e),i={},n=0;n<t.length;n++)i[t[n]]=Object.getOwnPropertyDescriptor(e,t[n]);return i},r=/%[sdj%]/g;t.format=function(e){if(!b(e)){for(var t=[],i=0;i<arguments.length;i++)t.push(a(arguments[i]));return t.join(" ")}i=1;for(var n=arguments,s=n.length,o=String(e).replace(r,(function(e){if("%%"===e)return"%";if(i>=s)return e;switch(e){case"%s":return String(n[i++]);case"%d":return Number(n[i++]);case"%j":try{return JSON.stringify(n[i++])}catch(e){return"[Circular]"}default:return e}})),l=n[i];i<s;l=n[++i])g(l)||!y(l)?o+=" "+l:o+=" "+a(l);return o},t.deprecate=function(i,n){if(void 0!==e&&!0===e.noDeprecation)return i;if(void 0===e)return function(){return t.deprecate(i,n).apply(this,arguments)};var r=!1;return function(){if(!r){if(e.throwDeprecation)throw new Error(n);e.traceDeprecation?console.trace(n):console.error(n),r=!0}return i.apply(this,arguments)}};var s,o={};function a(e,i){var n={seen:[],stylize:c};return arguments.length>=3&&(n.depth=arguments[2]),arguments.length>=4&&(n.colors=arguments[3]),h(i)?n.showHidden=i:i&&t._extend(n,i),v(n.showHidden)&&(n.showHidden=!1),v(n.depth)&&(n.depth=2),v(n.colors)&&(n.colors=!1),v(n.customInspect)&&(n.customInspect=!0),n.colors&&(n.stylize=l),u(n,e,n.depth)}function l(e,t){var i=a.styles[t];return i?"["+a.colors[i][0]+"m"+e+"["+a.colors[i][1]+"m":e}function c(e,t){return e}function u(e,i,n){if(e.customInspect&&i&&x(i.inspect)&&i.inspect!==t.inspect&&(!i.constructor||i.constructor.prototype!==i)){var r=i.inspect(n,e);return b(r)||(r=u(e,r,n)),r}var s=function(e,t){if(v(t))return e.stylize("undefined","undefined");if(b(t)){var i="'"+JSON.stringify(t).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return e.stylize(i,"string")}if(m(t))return e.stylize(""+t,"number");if(h(t))return e.stylize(""+t,"boolean");if(g(t))return e.stylize("null","null")}(e,i);if(s)return s;var o=Object.keys(i),a=function(e){var t={};return e.forEach((function(e,i){t[e]=!0})),t}(o);if(e.showHidden&&(o=Object.getOwnPropertyNames(i)),S(i)&&(o.indexOf("message")>=0||o.indexOf("description")>=0))return d(i);if(0===o.length){if(x(i)){var l=i.name?": "+i.name:"";return e.stylize("[Function"+l+"]","special")}if(w(i))return e.stylize(RegExp.prototype.toString.call(i),"regexp");if(_(i))return e.stylize(Date.prototype.toString.call(i),"date");if(S(i))return d(i)}var c,y="",k=!1,O=["{","}"];(f(i)&&(k=!0,O=["[","]"]),x(i))&&(y=" [Function"+(i.name?": "+i.name:"")+"]");return w(i)&&(y=" "+RegExp.prototype.toString.call(i)),_(i)&&(y=" "+Date.prototype.toUTCString.call(i)),S(i)&&(y=" "+d(i)),0!==o.length||k&&0!=i.length?n<0?w(i)?e.stylize(RegExp.prototype.toString.call(i),"regexp"):e.stylize("[Object]","special"):(e.seen.push(i),c=k?function(e,t,i,n,r){for(var s=[],o=0,a=t.length;o<a;++o)R(t,String(o))?s.push(p(e,t,i,n,String(o),!0)):s.push("");return r.forEach((function(r){r.match(/^\d+$/)||s.push(p(e,t,i,n,r,!0))})),s}(e,i,n,a,o):o.map((function(t){return p(e,i,n,a,t,k)})),e.seen.pop(),function(e,t,i){if(e.reduce((function(e,t){return t.indexOf("\n")>=0&&0,e+t.replace(/\u001b\[\d\d?m/g,"").length+1}),0)>60)return i[0]+(""===t?"":t+"\n ")+" "+e.join(",\n  ")+" "+i[1];return i[0]+t+" "+e.join(", ")+" "+i[1]}(c,y,O)):O[0]+y+O[1]}function d(e){return"["+Error.prototype.toString.call(e)+"]"}function p(e,t,i,n,r,s){var o,a,l;if((l=Object.getOwnPropertyDescriptor(t,r)||{value:t[r]}).get?a=l.set?e.stylize("[Getter/Setter]","special"):e.stylize("[Getter]","special"):l.set&&(a=e.stylize("[Setter]","special")),R(n,r)||(o="["+r+"]"),a||(e.seen.indexOf(l.value)<0?(a=g(i)?u(e,l.value,null):u(e,l.value,i-1)).indexOf("\n")>-1&&(a=s?a.split("\n").map((function(e){return"  "+e})).join("\n").substr(2):"\n"+a.split("\n").map((function(e){return"   "+e})).join("\n")):a=e.stylize("[Circular]","special")),v(o)){if(s&&r.match(/^\d+$/))return a;(o=JSON.stringify(""+r)).match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(o=o.substr(1,o.length-2),o=e.stylize(o,"name")):(o=o.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),o=e.stylize(o,"string"))}return o+": "+a}function f(e){return Array.isArray(e)}function h(e){return"boolean"==typeof e}function g(e){return null===e}function m(e){return"number"==typeof e}function b(e){return"string"==typeof e}function v(e){return void 0===e}function w(e){return y(e)&&"[object RegExp]"===k(e)}function y(e){return"object"==typeof e&&null!==e}function _(e){return y(e)&&"[object Date]"===k(e)}function S(e){return y(e)&&("[object Error]"===k(e)||e instanceof Error)}function x(e){return"function"==typeof e}function k(e){return Object.prototype.toString.call(e)}function O(e){return e<10?"0"+e.toString(10):e.toString(10)}t.debuglog=function(i){if(v(s)&&(s=e.env.NODE_DEBUG||""),i=i.toUpperCase(),!o[i])if(new RegExp("\\b"+i+"\\b","i").test(s)){var n=e.pid;o[i]=function(){var e=t.format.apply(t,arguments);console.error("%s %d: %s",i,n,e)}}else o[i]=function(){};return o[i]},t.inspect=a,a.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},a.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"},t.isArray=f,t.isBoolean=h,t.isNull=g,t.isNullOrUndefined=function(e){return null==e},t.isNumber=m,t.isString=b,t.isSymbol=function(e){return"symbol"==typeof e},t.isUndefined=v,t.isRegExp=w,t.isObject=y,t.isDate=_,t.isError=S,t.isFunction=x,t.isPrimitive=function(e){return null===e||"boolean"==typeof e||"number"==typeof e||"string"==typeof e||"symbol"==typeof e||void 0===e},t.isBuffer=i("as5i");var C=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function E(){var e=new Date,t=[O(e.getHours()),O(e.getMinutes()),O(e.getSeconds())].join(":");return[e.getDate(),C[e.getMonth()],t].join(" ")}function R(e,t){return Object.prototype.hasOwnProperty.call(e,t)}t.log=function(){console.log("%s - %s",E(),t.format.apply(t,arguments))},t.inherits=i("Y7R+"),t._extend=function(e,t){if(!t||!y(t))return e;for(var i=Object.keys(t),n=i.length;n--;)e[i[n]]=t[i[n]];return e};var j="undefined"!=typeof Symbol?Symbol("util.promisify.custom"):void 0;function A(e,t){if(!e){var i=new Error("Promise was rejected with a falsy value");i.reason=e,e=i}return t(e)}t.promisify=function(e){if("function"!=typeof e)throw new TypeError('The "original" argument must be of type Function');if(j&&e[j]){var t;if("function"!=typeof(t=e[j]))throw new TypeError('The "util.promisify.custom" argument must be of type Function');return Object.defineProperty(t,j,{value:t,enumerable:!1,writable:!1,configurable:!0}),t}function t(){for(var t,i,n=new Promise((function(e,n){t=e,i=n})),r=[],s=0;s<arguments.length;s++)r.push(arguments[s]);r.push((function(e,n){e?i(e):t(n)}));try{e.apply(this,r)}catch(e){i(e)}return n}return Object.setPrototypeOf(t,Object.getPrototypeOf(e)),j&&Object.defineProperty(t,j,{value:t,enumerable:!1,writable:!1,configurable:!0}),Object.defineProperties(t,n(e))},t.promisify.custom=j,t.callbackify=function(t){if("function"!=typeof t)throw new TypeError('The "original" argument must be of type Function');function i(){for(var i=[],n=0;n<arguments.length;n++)i.push(arguments[n]);var r=i.pop();if("function"!=typeof r)throw new TypeError("The last argument must be of type Function");var s=this,o=function(){return r.apply(s,arguments)};t.apply(this,i).then((function(t){e.nextTick(o,null,t)}),(function(t){e.nextTick(A,t,o)}))}return Object.setPrototypeOf(i,Object.getPrototypeOf(t)),Object.defineProperties(i,n(t)),i}}).call(this,i("TzVV"))},"5Rcs":function(e,t,i){"use strict";i.d(t,"a",(function(){return n})),i.d(t,"b",(function(){return r}));const n={replaced:"replaced",new:"new",deleted:"deleted",renamed:"renamed"},r={twoup:"twoup",swipe:"swipe",onion:"onion"}},"7ol+":function(e,t,i){"use strict";i("lFMf"),i("gOHk"),i("c9hT");var n=i("2TqH"),r=i("AxB5"),s=i("nuJP"),o=i("dIEn"),a=i("/lV4"),l=i("9uJu"),c=i("B5/6"),u=i("udiD"),d={name:"DiffFileOptionsMenu",components:{GlDisclosureDropdown:n.a,GlDisclosureDropdownItem:r.a,GlDisclosureDropdownGroup:s.a,GlSprintf:o.a},props:{items:{type:Array,required:!0},fileId:{type:String,required:!0},oldPath:{type:String,required:!0},newPath:{type:String,required:!0}},computed:{allItems(){return[{text:Object(a.a)("Copy link to the file"),action:this.onFileLinkCopyClick},...this.items]}},async mounted(){await this.$nextTick(),this.hydrateDropdown()},methods:{hydrateDropdown(){const e=this.$el.querySelector("button");e&&(e.focus(),e.style.transition="none",requestAnimationFrame((function(){e.style.transition=""})))},transformMessage:e=>e.messageData?Object(a.j)(e.text,e.messageData):e.text,closeAndFocus(){this.$refs.dropdown.closeAndFocus()},onFileLinkCopyClick(){const e=Object(c.b)(new URL(window.location),{oldPath:this.oldPath,newPath:this.newPath,fileId:this.fileId});Object(l.a)(e),Object(u.default)(Object(a.a)("Link to diff file copied."))}}},p=i("tBpV"),f=Object(p.a)(d,(function(){var e=this,t=e._self._c;return t("gl-disclosure-dropdown",{ref:"dropdown",attrs:{"data-options-toggle":"",placement:"right",icon:"ellipsis_v","start-opened":"","no-caret":"",category:"tertiary",size:"small","toggle-text":e.s__("RapidDiffs|Show options"),"text-sr-only":""}},[e._l(e.allItems,(function(i,n){return[i.items?[t("gl-disclosure-dropdown-group",{key:n,attrs:{group:i,bordered:i.bordered},scopedSlots:e._u([{key:"list-item",fn:function({item:i}){return[t("gl-sprintf",{attrs:{message:e.transformMessage(i)},scopedSlots:e._u([{key:"code",fn:function({content:i}){return[t("code",{domProps:{textContent:e._s(i)}})]}}],null,!0)})]}}],null,!0)})]:[t("gl-disclosure-dropdown-item",{key:n,attrs:{item:i},scopedSlots:e._u([{key:"list-item",fn:function(){return[t("gl-sprintf",{attrs:{message:e.transformMessage(i)},scopedSlots:e._u([{key:"code",fn:function({content:i}){return[t("code",{domProps:{textContent:e._s(i)}})]}}],null,!0)})]},proxy:!0}],null,!0)})]]}))],2)}),[],!1,null,null,null);t.a=f.exports},"7vfJ":function(e,t,i){"use strict";i.d(t,"a",(function(){return P}));i("B++/"),i("z6RN"),i("47t/"),i("3UXl"),i("iyoE");var n=i("2ibD");const r=async function({expandDirection:e,surroundingLines:t,diffLinesPath:i,view:r}){const s=function(e,[t,i]){switch(e){case"both":return{unfold:!1,since:t.newLineNumber+1,to:i.newLineNumber-1,bottom:!1,offset:t.newLineNumber-t.oldLineNumber};case"up":return{unfold:!0,since:Math.max(i.newLineNumber-20,1),to:i.newLineNumber-1,closest_line_number:t?t.newLineNumber:0,offset:i.newLineNumber-i.oldLineNumber,bottom:!1};case"down":return{unfold:!0,since:t.newLineNumber+1,to:t.newLineNumber+20,closest_line_number:i?i.newLineNumber:0,offset:t.newLineNumber-t.oldLineNumber,bottom:!0};default:throw new Error("Invalid expand option provided")}}(e,t),{data:o}=await n.a.get(i,{params:{...s,view:r}});return o};i("kidC"),i("F/X0");function s(e,t){(function(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")})(e,t),t.add(e)}function o(e,t,i){return function(e,t,i){if("function"==typeof e?e===t:e.has(t))return arguments.length<3?t:i;throw new TypeError("Private element is not present on this object")}(t,e),i}var a=new WeakSet;class l{constructor(e){s(this,a),this.row=e}get oldLineNumber(){return o(this,a,c).call(this,"old")}get newLineNumber(){return o(this,a,c).call(this,"new")}}function c(e){const{lineNumber:t}=this.row.querySelector(`[data-position="${e}"] [data-line-number]`).dataset;return parseInt(t,10)}var u=i("jlnU"),d=i("/lV4"),p=i("dDJM");const f=function(e){const t=Array.from(e.parentElement.children),i=t.indexOf(e);return[t.slice(0,i).findLast((function(e){return"hunkLines"in e.dataset})),t.slice(i,t.length).find((function(e){return"hunkLines"in e.dataset}))].map((function(e){return e?new l(e):null}))},h=function(e){e.addEventListener("focusin",(function(e){e.stopPropagation()}),{once:!0}),e.focus()},g={clicks:{async expandLines(e,t){const{expandDirection:i}=t.dataset,n=t.closest("tr");if(n.dataset.loading)return;n.dataset.loading=i,t.setAttribute("disabled","disabled");const{diffLinesPath:s,viewer:o}=this.data;let a;try{a=await r({expandDirection:i,surroundingLines:f(n),diffLinesPath:s,view:"text_parallel"===o?"parallel":"inline"})}catch(e){return Object(u.createAlert)({message:Object(d.i)("RapidDiffs|Failed to expand lines, please try again."),error:e}),delete n.dataset.loading,void t.removeAttribute("disabled")}"up"===i?(n.insertAdjacentHTML("beforebegin",a),h(n.previousElementSibling.querySelector("[data-line-number]"))):(n.insertAdjacentHTML("afterend",a),h(n.nextElementSibling.querySelector("[data-line-number]"))),n.remove();const l=this.diffElement.querySelectorAll("[data-file-body] tbody tr").length;this.diffElement.style.setProperty("--virtual-total-rows",l),this.trigger(p.EXPANDED_LINES)}}};var m=i("3Meb"),b=i("Zvrg");function v(e){return e.querySelector("[data-file-body]")}function w(e=this.diffElement){e.dataset.collapsed=!0,v(e).removeAttribute("open")}function y(e=this.diffElement){w(e),e.scrollIntoView({block:"nearest",inline:"nearest",behavior:"instant"}),Object(b.a)(e)}function _(e=this.diffElement){delete e.dataset.collapsed,v(e).open=!0}const S={clicks:{toggleFile(e,t){"true"===this.diffElement.dataset.collapsed?_.call(this):y.call(this);const i=function(e){const t=e.dataset.opened,i=e.parentElement;return""===t?i.querySelector("button[data-closed]"):i.querySelector("button[data-opened]")}(t);var n;i.focus(),(n=i).style.transition="none",requestAnimationFrame((function(){n.style.transition=""}))}},[p.EXPAND_FILE](){_.call(this)},[p.COLLAPSE_FILE](){w.call(this)},[p.MOUNTED](e){var t=this;const i=v(this.diffElement),n=function(){i.open?_.call(t):w.call(t)};i.addEventListener("toggle",n),e((function(){i.removeEventListener("toggle",n)}))}},x={old:"new",new:"old"};function k(e){const t=e.target.closest("[data-position]");if(!t)return;const{position:i}=t.dataset;this.diffElement.dataset.disableDiffSide=x[i]}const O=function(e){return e.querySelector("[data-file-body]")},C={[p.VISIBLE](){this.sink.disableDiffsSideHandler=k.bind(this),O(this.diffElement).addEventListener("mousedown",this.sink.disableDiffsSideHandler)},[p.INVISIBLE](){this.sink.disableDiffsSideHandler&&O(this.diffElement).removeEventListener("mousedown",this.sink.disableDiffsSideHandler)}};var E=i("i+zY"),R=(i("lFMf"),i("gOHk"),i("c9hT"),i("ZzK0"),i("BzOf"),i("byxs"),i("sK0u")),j=i("SbXM");async function A(e={}){const{parallelView:t,showWhitespace:i}=Object(R.a)(j.a),r=new URL(this.appData.diffFileEndpoint,window.location.origin),{oldPath:s,newPath:o}=this.data;s&&r.searchParams.set("old_path",s),o&&r.searchParams.set("new_path",o),r.searchParams.set("ignore_whitespace_changes",!i),t&&r.searchParams.set("view","parallel"),Object.keys(e).forEach((function(t){r.searchParams.set(t,e[t])}));const a=await n.a.get(r.toString()),l=(c=a.data,(new DOMParser).parseFromString(c,"text/html").body.firstChild);var c;this.replaceWith(l)}async function T(e,t){try{e.setAttribute("disabled",!0),await A.call(this,t)}catch(t){Object(u.createAlert)({message:Object(d.i)("RapidDiffs|Failed to load changes, please try again."),parent:this.diffElement,error:t}),e.removeAttribute("disabled")}}const L={clicks:{showChanges(e,t){T.call(this,t)},showFullFile(e,t){T.call(this,t,{full:!t.dataset.full})},toggleRichView(e,t){T.call(this,t,{plain_view:JSON.parse(t.dataset.rendered)})}}};var I=i("qjHl"),$=i("B5/6");function D(){const{legacyFileFragment:e}=this.appData;if(!e)return;const{fileHash:t,oldLine:i,newLine:n}=e;if(t!==this.id)return;if(!i&&!n)return this.selectFile(),void delete this.appData.legacyFileFragment;const r=this.diffElement.querySelector(`[data-position="old"] [data-line-number="${i}"], [data-position="new"] [data-line-number="${n}"]`);r&&r.click()}function z(e){if(e.linked)return;const t=Object($.b)(new URL(window.location),{oldPath:this.data.oldPath,newPath:this.data.newPath});t.hash=new URL(e.href).hash,e.href=t,e.linked=!0}function F(){Array.from(this.diffElement.querySelectorAll("a[data-line-number]")).forEach(z.bind(this))}const H=function(e){return e.querySelector("[data-file-body]")},B={[p.VISIBLE](){this.sink.lineLinksHandled||(F.call(this),this.sink.lineLinksHandled=!0),H(this.diffElement).addEventListener("click",I.c)},[p.INVISIBLE](){H(this.diffElement).removeEventListener("click",I.c)},[p.MOUNTED](){requestIdleCallback(F.bind(this)),D.call(this)},[p.EXPANDED_LINES](){F.call(this)}},N=[m.b,S,L],P={text_inline:[...N,g,B],text_parallel:[...N,g,C,B],image:[...N,E.a],no_preview:[...N]}},"82zY":function(e,t,i){"use strict";const n=i("xkpj"),{MAX_LENGTH:r,CHAR_BACKSLASH:s,CHAR_BACKTICK:o,CHAR_COMMA:a,CHAR_DOT:l,CHAR_LEFT_PARENTHESES:c,CHAR_RIGHT_PARENTHESES:u,CHAR_LEFT_CURLY_BRACE:d,CHAR_RIGHT_CURLY_BRACE:p,CHAR_LEFT_SQUARE_BRACKET:f,CHAR_RIGHT_SQUARE_BRACKET:h,CHAR_DOUBLE_QUOTE:g,CHAR_SINGLE_QUOTE:m,CHAR_NO_BREAK_SPACE:b,CHAR_ZERO_WIDTH_NOBREAK_SPACE:v}=i("VEpw");e.exports=(e,t={})=>{if("string"!=typeof e)throw new TypeError("Expected a string");const i=t||{},w="number"==typeof i.maxLength?Math.min(r,i.maxLength):r;if(e.length>w)throw new SyntaxError(`Input length (${e.length}), exceeds max characters (${w})`);const y={type:"root",input:e,nodes:[]},_=[y];let S=y,x=y,k=0;const O=e.length;let C,E=0,R=0;const j=()=>e[E++],A=e=>{if("text"===e.type&&"dot"===x.type&&(x.type="text"),!x||"text"!==x.type||"text"!==e.type)return S.nodes.push(e),e.parent=S,e.prev=x,x=e,e;x.value+=e.value};for(A({type:"bos"});E<O;)if(S=_[_.length-1],C=j(),C!==v&&C!==b)if(C!==s)if(C!==h)if(C!==f)if(C!==c)if(C!==u)if(C!==g&&C!==m&&C!==o)if(C!==d)if(C!==p)if(C===a&&R>0){if(S.ranges>0){S.ranges=0;const e=S.nodes.shift();S.nodes=[e,{type:"text",value:n(S)}]}A({type:"comma",value:C}),S.commas++}else if(C===l&&R>0&&0===S.commas){const e=S.nodes;if(0===R||0===e.length){A({type:"text",value:C});continue}if("dot"===x.type){if(S.range=[],x.value+=C,x.type="range",3!==S.nodes.length&&5!==S.nodes.length){S.invalid=!0,S.ranges=0,x.type="text";continue}S.ranges++,S.args=[];continue}if("range"===x.type){e.pop();const t=e[e.length-1];t.value+=x.value+C,x=t,S.ranges--;continue}A({type:"dot",value:C})}else A({type:"text",value:C});else{if("brace"!==S.type){A({type:"text",value:C});continue}const e="close";S=_.pop(),S.close=!0,A({type:e,value:C}),R--,S=_[_.length-1]}else{R++;const e=x.value&&"$"===x.value.slice(-1)||!0===S.dollar;S=A({type:"brace",open:!0,close:!1,dollar:e,depth:R,commas:0,ranges:0,nodes:[]}),_.push(S),A({type:"open",value:C})}else{const e=C;let i;for(!0!==t.keepQuotes&&(C="");E<O&&(i=j());)if(i!==s){if(i===e){!0===t.keepQuotes&&(C+=i);break}C+=i}else C+=i+j();A({type:"text",value:C})}else{if("paren"!==S.type){A({type:"text",value:C});continue}S=_.pop(),A({type:"text",value:C}),S=_[_.length-1]}else S=A({type:"paren",nodes:[]}),_.push(S),A({type:"text",value:C});else{let e;for(k++;E<O&&(e=j());)if(C+=e,e!==f)if(e!==s){if(e===h&&(k--,0===k))break}else C+=j();else k++;A({type:"text",value:C})}else A({type:"text",value:"\\"+C});else A({type:"text",value:(t.keepEscaping?C:"")+j()});do{if(S=_.pop(),"root"!==S.type){S.nodes.forEach(e=>{e.nodes||("open"===e.type&&(e.isOpen=!0),"close"===e.type&&(e.isClose=!0),e.nodes||(e.type="text"),e.invalid=!0)});const e=_[_.length-1],t=e.nodes.indexOf(S);e.nodes.splice(t,1,...S.nodes)}}while(_.length>0);return A({type:"eos"}),y}},"9P+O":function(e,t){const i={astro:"astro",html:"html",htm:"html",html_vm:"html",asp:"html",jade:"pug",pug:"pug",md:"markdown",markdown:"markdown",mdown:"markdown",mkd:"markdown",mkdn:"markdown",rst:"markdown",mdx:"mdx",blink:"blink",css:"css",scss:"sass",sass:"sass",less:"less",json:"json",yaml:"yaml",yml:"yaml",xml:"xml",plist:"xml",xsd:"xml",dtd:"xml",xsl:"xml",xslt:"xml",resx:"xml",iml:"xml",xquery:"xml",tmLanguage:"xml",manifest:"xml",project:"xml",png:"image",jpeg:"image",jpg:"image",gif:"image",svg:"image",ico:"image",tif:"image",tiff:"image",psd:"image",psb:"image",ami:"image",apx:"image",bmp:"image",bpg:"image",brk:"image",cur:"image",dds:"image",dng:"image",exr:"image",fpx:"image",gbr:"image",img:"image",jbig2:"image",jb2:"image",jng:"image",jxr:"image",pbm:"image",pgf:"image",pic:"image",raw:"image",webp:"image",js:"javascript",cjs:"javascript",ejs:"javascript",esx:"javascript",mjs:"javascript",jsx:"react",tsx:"react",ini:"settings",dlc:"settings",dll:"settings",config:"settings",conf:"settings",properties:"settings",prop:"settings",settings:"settings",option:"settings",props:"settings",toml:"settings",prefs:"settings",ts:"typescript",cts:"typescript",mts:"typescript",marko:"markojs",pdf:"pdf",xlsx:"table",xls:"table",ods:"table",csv:"table",tsv:"table",vscodeignore:"vscode",vsixmanifest:"vscode",vsix:"vscode",suo:"visualstudio",sln:"visualstudio",slnf:"visualstudio",slnx:"visualstudio",csproj:"visualstudio",vb:"visualstudio",pdb:"database",sql:"database",pks:"database",pkb:"database",accdb:"database",mdb:"database",sqlite:"database",cs:"csharp",zip:"zip",tar:"zip",gz:"zip",xz:"zip",bzip2:"zip",gzip:"zip",rar:"zip",tgz:"zip",exe:"exe",msi:"exe",java:"java",jar:"java",jsp:"java",c:"c",m:"c",matlab:"matlab",h:"h",cc:"cpp",cpp:"cpp",mm:"cpp",cxx:"cpp",hpp:"hpp",go:"go",py:"python",url:"url",sh:"console",ksh:"console",csh:"console",tcsh:"console",zsh:"console",bash:"console",bat:"console",cmd:"console",ps1:"powershell",psm1:"powershell",psd1:"powershell",ps1xml:"powershell",psc1:"powershell",pssc:"powershell",gradle:"gradle",doc:"word",docx:"word",odt:"word",rtf:"word",cer:"certificate",cert:"certificate",crt:"certificate",pub:"key",key:"key",pem:"key",asc:"key",gpg:"key",woff:"font",woff2:"font",ttf:"font",eot:"font",suit:"font",otf:"font",bmap:"font",fnt:"font",odttf:"font",ttc:"font",font:"font",fonts:"font",sui:"font",ntf:"font",mrf:"font",lib:"lib",bib:"lib",rb:"ruby",erb:"ruby",fs:"fsharp",fsx:"fsharp",fsi:"fsharp",fsproj:"fsharp",swift:"swift",ino:"arduino",dockerignore:"docker",dockerfile:"docker",tex:"tex",cls:"tex",sty:"tex",pptx:"powerpoint",ppt:"powerpoint",pptm:"powerpoint",potx:"powerpoint",pot:"powerpoint",potm:"powerpoint",ppsx:"powerpoint",ppsm:"powerpoint",pps:"powerpoint",ppam:"powerpoint",ppa:"powerpoint",odp:"powerpoint",webm:"video",mkv:"video",flv:"video",vob:"video",ogv:"video",ogg:"audio",gifv:"video",avi:"video",mov:"video",qt:"video",wmv:"video",yuv:"video",rm:"video",rmvb:"video",mp4:"video",m4v:"video",mpg:"video",mp2:"video",mpeg:"video",mpe:"video",mpv:"video",m2v:"video",vdi:"virtual",vbox:"virtual",ics:"email",mp3:"audio",flac:"audio",m4a:"audio",wma:"audio",aiff:"audio",coffee:"coffee",txt:"document",graphql:"graphql",rs:"rust",raml:"raml",xaml:"xaml",hs:"haskell",kt:"kotlin",kts:"kotlin",patch:"git",lua:"lua",clj:"clojure",cljs:"clojure",groovy:"groovy",r:"r",rmd:"r",dart:"dart",as:"actionscript",mxml:"mxml",ahk:"autohotkey",swf:"flash",swc:"swc",cmake:"cmake",asm:"assembly",a51:"assembly",inc:"assembly",nasm:"assembly",s:"assembly",ms:"assembly",agc:"assembly",ags:"assembly",aea:"assembly",argus:"assembly",mitigus:"assembly",binsource:"assembly",vue:"vue",ml:"ocaml",mli:"ocaml",cmx:"ocaml",lock:"lock",hbs:"handlebars",mustache:"handlebars",pl:"perl",pm:"perl",hx:"haxe",pp:"puppet",ex:"elixir",exs:"elixir",ls:"livescript",erl:"erlang",twig:"twig",jl:"julia",elm:"elm",pure:"purescript",tpl:"smarty",styl:"stylus",re:"reason",rei:"reason",cmj:"bucklescript",merlin:"merlin",v:"verilog",vhd:"verilog",sv:"verilog",svh:"verilog",veryl:"verilog",nb:"mathematica",wl:"wolframlanguage",wls:"wolframlanguage",njk:"nunjucks",nunjucks:"nunjucks",robot:"robot",sol:"solidity",au3:"autoit",haml:"haml",yang:"yang",tf:"terraform",tfvars:"terraform",tfstate:"terraform",applescript:"applescript",cake:"cake",feature:"cucumber",nim:"nim",nimble:"nim",apib:"apiblueprint",apiblueprint:"apiblueprint",tag:"riot",vfl:"vfl",kl:"kl",pcss:"postcss",sss:"postcss",todo:"todo",cfml:"coldfusion",cfc:"coldfusion",lucee:"coldfusion",cabal:"cabal",nix:"nix",slim:"slim",http:"http",rest:"http",rql:"restql",restql:"restql",kv:"kivy",graphcool:"graphcool",sbt:"sbt",cr:"crystal",cu:"cuda",cuh:"cuda",log:"log","code-workplace":"vscode","7z":"zip","c++":"cpp","vbox-prev":"virtual","ng-template":"angular","YAML-tmLanguage":"yaml"},n={"sln.dotsettings.user":"settings"},r={"gradle.kts":"gradle","md.rendered":"markdown","markdown.rendered":"markdown","mdown.rendered":"markdown","mkd.rendered":"markdown","mkdn.rendered":"markdown","sln.dotsettings":"settings","d.dts":"typescript-def","d.mts":"typescript-def","d.ts":"typescript-def","js.map":"javascript-map","css.map":"css-map","spec.ts":"test-ts","test.ts":"test-ts","ts.snap":"test-ts","spec.tsx":"test-jsx","test.tsx":"test-jsx","tsx.snap":"test-jsx","spec.jsx":"test-jsx","test.jsx":"test-jsx","jsx.snap":"test-jsx","spec.js":"test-js","test.js":"test-js","js.snap":"test-js","module.ts":"angular","module.js":"angular","component.ts":"angular-component","component.js":"angular-component","guard.ts":"angular-guard","guard.js":"angular-guard","service.ts":"angular-service","service.js":"angular-service","pipe.ts":"angular-pipe","pipe.js":"angular-pipe","filter.js":"angular-pipe","directive.ts":"angular-directive","directive.js":"angular-directive","resolver.ts":"angular-resolver","resolver.js":"angular-resolver","tf.json":"terraform","blade.php":"laravel","inky.php":"laravel","reducer.ts":"ngrx-reducer","rootReducer.ts":"ngrx-reducer","state.ts":"ngrx-state","actions.ts":"ngrx-actions","effects.ts":"ngrx-effects","drone.yml":"drone","gitlab-ci.yml":"gitlab"},s={".jscsrc":"json",".jshintrc":"json","tsconfig.json":"json","tslint.json":"json","composer.lock":"json",".jsbeautifyrc":"json",".esformatter":"json","cdp.pid":"json",".htaccess":"xml",".jshintignore":"settings",".buildignore":"settings",makefile:"settings",".mrconfig":"settings",".yardopts":"settings","gradle.properties":"gradle",gradlew:"gradle","gradle-wrapper.properties":"gradle",COPYING:"certificate","COPYING.LESSER":"certificate",LICENSE:"certificate",LICENCE:"certificate","LICENSE.md":"certificate","LICENCE.md":"certificate","LICENSE.txt":"certificate","LICENCE.txt":"certificate",".gitlab-license":"certificate",dockerfile:"docker","docker-compose.yml":"docker",".mailmap":"email",".gitignore":"git",".gitconfig":"git",".gitattributes":"git",".gitmodules":"git",".gitkeep":"git","git-history":"git",".Rhistory":"r","cmakelists.txt":"cmake","cmakecache.txt":"cmake","angular-cli.json":"angular",".angular-cli.json":"angular",".vfl":"vfl",".kl":"kl","postcss.config.js":"postcss",".postcssrc.js":"postcss","project.graphcool":"graphcool","webpack.js":"webpack","webpack.ts":"webpack","webpack.base.js":"webpack","webpack.base.ts":"webpack","webpack.config.js":"webpack","webpack.config.ts":"webpack","webpack.common.js":"webpack","webpack.common.ts":"webpack","webpack.config.common.js":"webpack","webpack.config.common.ts":"webpack","webpack.config.common.babel.js":"webpack","webpack.config.common.babel.ts":"webpack","webpack.dev.js":"webpack","webpack.dev.ts":"webpack","webpack.config.dev.js":"webpack","webpack.config.dev.ts":"webpack","webpack.config.dev.babel.js":"webpack","webpack.config.dev.babel.ts":"webpack","webpack.prod.js":"webpack","webpack.prod.ts":"webpack","webpack.server.js":"webpack","webpack.server.ts":"webpack","webpack.client.js":"webpack","webpack.client.ts":"webpack","webpack.config.server.js":"webpack","webpack.config.server.ts":"webpack","webpack.config.client.js":"webpack","webpack.config.client.ts":"webpack","webpack.config.production.babel.js":"webpack","webpack.config.production.babel.ts":"webpack","webpack.config.prod.babel.js":"webpack","webpack.config.prod.babel.ts":"webpack","webpack.config.prod.js":"webpack","webpack.config.prod.ts":"webpack","webpack.config.production.js":"webpack","webpack.config.production.ts":"webpack","webpack.config.staging.js":"webpack","webpack.config.staging.ts":"webpack","webpack.config.babel.js":"webpack","webpack.config.babel.ts":"webpack","webpack.config.base.babel.js":"webpack","webpack.config.base.babel.ts":"webpack","webpack.config.base.js":"webpack","webpack.config.base.ts":"webpack","webpack.config.staging.babel.js":"webpack","webpack.config.staging.babel.ts":"webpack","webpack.config.coffee":"webpack","webpack.config.test.js":"webpack","webpack.config.test.ts":"webpack","webpack.config.vendor.js":"webpack","webpack.config.vendor.ts":"webpack","webpack.config.vendor.production.js":"webpack","webpack.config.vendor.production.ts":"webpack","webpack.test.js":"webpack","webpack.test.ts":"webpack","webpack.dist.js":"webpack","webpack.dist.ts":"webpack","webpackfile.js":"webpack","webpackfile.ts":"webpack","ionic.config.json":"ionic",".io-config.json":"ionic","gulpfile.js":"gulp","gulpfile.ts":"gulp","gulpfile.babel.js":"gulp","package.json":"nodejs","package-lock.json":"nodejs",".nvmrc":"nodejs",".npmignore":"npm",".npmrc":"npm",".yarnrc":"yarn",".yarnrc.yml":"yarn","yarn.lock":"yarn",".yarnclean":"yarn",".yarn-integrity":"yarn","yarn-error.log":"yarn","androidmanifest.xml":"android",".env":"tune",".env.example":"tune",".babelrc":"babel","contributing.md":"contributing","contributing.md.rendered":"contributing","readme.md":"readme","readme.md.rendered":"readme",changelog:"changelog","changelog.md":"changelog","changelog.md.rendered":"changelog",CREDITS:"credits","credits.txt":"credits","credits.md":"credits","credits.md.rendered":"credits",".flowconfig":"flow","favicon.png":"favicon","karma.conf.js":"karma","karma.conf.ts":"karma","karma.conf.coffee":"karma","karma.config.js":"karma","karma.config.ts":"karma","karma-main.js":"karma","karma-main.ts":"karma",".bithoundrc":"bithound","appveyor.yml":"appveyor",".travis.yml":"travis","protractor.conf.js":"protractor","protractor.conf.ts":"protractor","protractor.conf.coffee":"protractor","protractor.config.js":"protractor","protractor.config.ts":"protractor","fuse.js":"fusebox",procfile:"heroku",".editorconfig":"editorconfig",".bowerrc":"bower","bower.json":"bower",".eslintrc.js":"eslint",".eslintrc.yaml":"eslint",".eslintrc.yml":"eslint",".eslintrc.json":"eslint",".eslintrc":"eslint",".eslintignore":"eslint","code_of_conduct.md":"conduct","code_of_conduct.md.rendered":"conduct",".watchmanconfig":"watchman","aurelia.json":"aurelia","mocha.opts":"mocha",jenkinsfile:"jenkins","firebase.json":"firebase",".firebaserc":"firebase",Rakefile:"ruby","rollup.config.js":"rollup","rollup.config.ts":"rollup","rollup-config.js":"rollup","rollup-config.ts":"rollup","rollup.config.prod.js":"rollup","rollup.config.prod.ts":"rollup","rollup.config.dev.js":"rollup","rollup.config.dev.ts":"rollup","rollup.config.prod.vendor.js":"rollup","rollup.config.prod.vendor.ts":"rollup",".hhconfig":"hack",".stylelintrc":"stylelint","stylelint.config.js":"stylelint",".stylelintrc.json":"stylelint",".stylelintrc.yaml":"stylelint",".stylelintrc.yml":"stylelint",".stylelintrc.js":"stylelint",".stylelintignore":"stylelint",".codeclimate.yml":"code-climate",".prettierrc":"prettier","prettier.config.js":"prettier",".prettierrc.js":"prettier",".prettierrc.json":"prettier",".prettierrc.yaml":"prettier",".prettierrc.yml":"prettier",".prettierignore":"prettier","nodemon.json":"nodemon",browserslist:"browserlist",".browserslistrc":"browserlist",".snyk":"snyk",".drone.yml":"drone"},o=(e,t)=>{const i=e.length-t;if(i in e)return e[i]+1},a=(e,t,i)=>{if(i)return e[t.substring(i)]};e.exports={fileNameIcons:s,fileExtensionIcons:i,twoFileExtensionIcons:r,getIconForFile:function(e=""){const t=s[e];if(t)return t;const l=[...e.matchAll(/\./g)].map(e=>e.index);return 0===l.length?"":a(n,e,o(l,3))||a(r,e,o(l,2))||i[e.substring(o(l,1)).toLowerCase()]||""}}},"9dZE":function(e,t,i){"use strict";var n=i("9P+O"),r=i("NnjE"),s=i("d85j"),o=i("5c3i"),a={components:{GlLoadingIcon:r.a,GlIcon:s.a},props:{fileName:{type:String,required:!0},fileMode:{type:String,required:!1,default:""},folder:{type:Boolean,required:!1,default:!1},submodule:{type:Boolean,required:!1,default:!1},opened:{type:Boolean,required:!1,default:!1},loading:{type:Boolean,required:!1,default:!1},size:{type:Number,required:!1,default:16},cssClasses:{type:String,required:!1,default:""}},computed:{isSymlink(){return this.fileMode===o.j},spriteHref(){const e=this.submodule?"folder-git":Object(n.getIconForFile)(this.fileName)||"file";return`${gon.sprite_file_icons}#${e}`},folderIconName(){return this.opened?"folder-open":"folder"},iconSizeClass(){return this.size?"s"+this.size:""}}},l=i("tBpV"),c=Object(l.a)(a,(function(){var e=this,t=e._self._c;return t("span",[e.loading?t("gl-loading-icon",{attrs:{size:"sm",inline:!0}}):e.isSymlink?t("gl-icon",{attrs:{name:"symlink",size:e.size}}):e.folder?t("gl-icon",{staticClass:"folder-icon",attrs:{name:e.folderIconName,size:e.size}}):t("svg",{key:e.spriteHref,class:[e.iconSizeClass,e.cssClasses]},[t("use",{attrs:{href:e.spriteHref}})])],1)}),[],!1,null,null,null);t.a=c.exports},"9fwh":function(e,t,i){var n,r,s;r=[],void 0===(s="function"==typeof(n=function(){var e=/(auto|scroll)/,t=function(e,i){return null===e.parentNode?i:t(e.parentNode,i.concat([e]))},i=function(e,t){return getComputedStyle(e,null).getPropertyValue(t)},n=function(t){return e.test(function(e){return i(e,"overflow")+i(e,"overflow-y")+i(e,"overflow-x")}(t))};return function(e){if(e instanceof HTMLElement||e instanceof SVGElement){for(var i=t(e.parentNode,[]),r=0;r<i.length;r+=1)if(n(i[r]))return i[r];return document.scrollingElement||document.documentElement}}})?n.apply(t,r):n)||(e.exports=s)},AH4o:function(e,t,i){"use strict";(function(e){const n=i("WWcN"),r="win32"===e.platform,{REGEX_BACKSLASH:s,REGEX_REMOVE_BACKSLASH:o,REGEX_SPECIAL_CHARS:a,REGEX_SPECIAL_CHARS_GLOBAL:l}=i("BT9Z");t.isObject=e=>null!==e&&"object"==typeof e&&!Array.isArray(e),t.hasRegexChars=e=>a.test(e),t.isRegexChar=e=>1===e.length&&t.hasRegexChars(e),t.escapeRegex=e=>e.replace(l,"\\$1"),t.toPosixSlashes=e=>e.replace(s,"/"),t.removeBackslashes=e=>e.replace(o,e=>"\\"===e?"":e),t.supportsLookbehinds=()=>{const t=e.version.slice(1).split(".").map(Number);return 3===t.length&&t[0]>=9||8===t[0]&&t[1]>=10},t.isWindows=e=>e&&"boolean"==typeof e.windows?e.windows:!0===r||"\\"===n.sep,t.escapeLast=(e,i,n)=>{const r=e.lastIndexOf(i,n);return-1===r?e:"\\"===e[r-1]?t.escapeLast(e,i,r-1):`${e.slice(0,r)}\\${e.slice(r)}`},t.removePrefix=(e,t={})=>{let i=e;return i.startsWith("./")&&(i=i.slice(2),t.prefix="./"),i},t.wrapOutput=(e,t={},i={})=>{let n=`${i.contains?"":"^"}(?:${e})${i.contains?"":"$"}`;return!0===t.negated&&(n=`(?:^(?!${n}).*$)`),n}}).call(this,i("TzVV"))},"B5/6":function(e,t,i){"use strict";i.d(t,"a",(function(){return r})),i.d(t,"b",(function(){return s}));i("lFMf"),i("gOHk"),i("c9hT");const n=/[\da-f]{40}/,r=function(e){const t=new URL(e,window.location);return t.searchParams.delete("file_path"),t.searchParams.delete("old_path"),t.searchParams.delete("new_path"),(t.hash.startsWith("#line_")||n.test(t.hash.substring(1)))&&(t.hash=""),t},s=function(e,{oldPath:t,newPath:i,fileId:n}){const s=r(e);return t===i?s.searchParams.set("file_path",t):(s.searchParams.set("old_path",t),s.searchParams.set("new_path",i)),n&&(s.hash=n),s}},BT9Z:function(e,t,i){"use strict";const n=i("WWcN"),r={DOT_LITERAL:"\\.",PLUS_LITERAL:"\\+",QMARK_LITERAL:"\\?",SLASH_LITERAL:"\\/",ONE_CHAR:"(?=.)",QMARK:"[^/]",END_ANCHOR:"(?:\\/|$)",DOTS_SLASH:"\\.{1,2}(?:\\/|$)",NO_DOT:"(?!\\.)",NO_DOTS:"(?!(?:^|\\/)\\.{1,2}(?:\\/|$))",NO_DOT_SLASH:"(?!\\.{0,1}(?:\\/|$))",NO_DOTS_SLASH:"(?!\\.{1,2}(?:\\/|$))",QMARK_NO_DOT:"[^.\\/]",STAR:"[^/]*?",START_ANCHOR:"(?:^|\\/)"},s={...r,SLASH_LITERAL:"[\\\\/]",QMARK:"[^\\\\/]",STAR:"[^\\\\/]*?",DOTS_SLASH:"\\.{1,2}(?:[\\\\/]|$)",NO_DOT:"(?!\\.)",NO_DOTS:"(?!(?:^|[\\\\/])\\.{1,2}(?:[\\\\/]|$))",NO_DOT_SLASH:"(?!\\.{0,1}(?:[\\\\/]|$))",NO_DOTS_SLASH:"(?!\\.{1,2}(?:[\\\\/]|$))",QMARK_NO_DOT:"[^.\\\\/]",START_ANCHOR:"(?:^|[\\\\/])",END_ANCHOR:"(?:[\\\\/]|$)"};e.exports={MAX_LENGTH:65536,POSIX_REGEX_SOURCE:{alnum:"a-zA-Z0-9",alpha:"a-zA-Z",ascii:"\\x00-\\x7F",blank:" \\t",cntrl:"\\x00-\\x1F\\x7F",digit:"0-9",graph:"\\x21-\\x7E",lower:"a-z",print:"\\x20-\\x7E ",punct:"\\-!\"#$%&'()\\*+,./:;<=>?@[\\]^_`{|}~",space:" \\t\\r\\n\\v\\f",upper:"A-Z",word:"A-Za-z0-9_",xdigit:"A-Fa-f0-9"},REGEX_BACKSLASH:/\\(?![*+?^${}(|)[\]])/g,REGEX_NON_SPECIAL_CHARS:/^[^@![\].,$*+?^{}()|\\/]+/,REGEX_SPECIAL_CHARS:/[-*+?.^${}(|)[\]]/,REGEX_SPECIAL_CHARS_BACKREF:/(\\?)((\W)(\3*))/g,REGEX_SPECIAL_CHARS_GLOBAL:/([-*+?.^${}(|)[\]])/g,REGEX_REMOVE_BACKSLASH:/(?:\[.*?[^\\]\]|\\(?=.))/g,REPLACEMENTS:{"***":"*","**/**":"**","**/**/**":"**"},CHAR_0:48,CHAR_9:57,CHAR_UPPERCASE_A:65,CHAR_LOWERCASE_A:97,CHAR_UPPERCASE_Z:90,CHAR_LOWERCASE_Z:122,CHAR_LEFT_PARENTHESES:40,CHAR_RIGHT_PARENTHESES:41,CHAR_ASTERISK:42,CHAR_AMPERSAND:38,CHAR_AT:64,CHAR_BACKWARD_SLASH:92,CHAR_CARRIAGE_RETURN:13,CHAR_CIRCUMFLEX_ACCENT:94,CHAR_COLON:58,CHAR_COMMA:44,CHAR_DOT:46,CHAR_DOUBLE_QUOTE:34,CHAR_EQUAL:61,CHAR_EXCLAMATION_MARK:33,CHAR_FORM_FEED:12,CHAR_FORWARD_SLASH:47,CHAR_GRAVE_ACCENT:96,CHAR_HASH:35,CHAR_HYPHEN_MINUS:45,CHAR_LEFT_ANGLE_BRACKET:60,CHAR_LEFT_CURLY_BRACE:123,CHAR_LEFT_SQUARE_BRACKET:91,CHAR_LINE_FEED:10,CHAR_NO_BREAK_SPACE:160,CHAR_PERCENT:37,CHAR_PLUS:43,CHAR_QUESTION_MARK:63,CHAR_RIGHT_ANGLE_BRACKET:62,CHAR_RIGHT_CURLY_BRACE:125,CHAR_RIGHT_SQUARE_BRACKET:93,CHAR_SEMICOLON:59,CHAR_SINGLE_QUOTE:39,CHAR_SPACE:32,CHAR_TAB:9,CHAR_UNDERSCORE:95,CHAR_VERTICAL_LINE:124,CHAR_ZERO_WIDTH_NOBREAK_SPACE:65279,SEP:n.sep,extglobChars:e=>({"!":{type:"negate",open:"(?:(?!(?:",close:`))${e.STAR})`},"?":{type:"qmark",open:"(?:",close:")?"},"+":{type:"plus",open:"(?:",close:")+"},"*":{type:"star",open:"(?:",close:")*"},"@":{type:"at",open:"(?:",close:")"}}),globChars:e=>!0===e?s:r}},BTs4:function(e,t,i){"use strict";var n={name:"GlAnimatedSidebarIcon",extends:i("Vkrm").a},r=i("tBpV"),s=Object(r.a)(n,(function(){var e=this._self._c;return e("svg",{class:[this.iconStateClass,this.iconVariantClass],attrs:{"aria-label":this.ariaLabel,width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg"}},[e("rect",{attrs:{x:"1.75",y:"1.75",width:"12.5",height:"12.5",rx:"1.25",stroke:"currentColor","stroke-width":"1.5"}}),this._v(" "),e("path",{staticClass:"gl-animated-sidebar-line",attrs:{d:"M5.25 2V14",stroke:"currentColor","stroke-width":"1.5"}})])}),[],!1,null,null,null);t.a=s.exports},Bf6e:function(e,t,i){(e.exports=i("VNgF")(!1)).push([e.i,".resize-observer[data-v-8859cc6c]{position:absolute;top:0;left:0;z-index:-1;width:100%;height:100%;border:none;background-color:transparent;pointer-events:none;display:block;overflow:hidden;opacity:0}.resize-observer[data-v-8859cc6c] object{display:block;position:absolute;top:0;left:0;height:100%;width:100%;overflow:hidden;pointer-events:none;z-index:-1}",""])},DC4X:function(e,t,i){"use strict";var n=i("h7kv"),r=i.n(n),s=i("SNRI"),o=i("3twG");var a={props:{path:{type:String,required:!0},fileSize:{type:Number,required:!1,default:0},renderInfo:{type:Boolean,default:!0,required:!1},innerCssClasses:{type:[Array,Object,String],required:!1,default:""},encodePath:{type:Boolean,required:!1,default:!0}},data:()=>({width:0,height:0,renderedWidth:0,renderedHeight:0}),computed:{fileSizeReadable(){return Object(s.h)(this.fileSize)},hasFileSize(){return this.fileSize>0},hasDimensions(){return this.width&&this.height},safePath(){return this.encodePath?this.path.startsWith("blob:")?this.path:Object(o.i)(this.path):this.path}},beforeDestroy(){window.removeEventListener("resize",this.resizeThrottled,!1)},mounted(){this.onImgLoad(),this.resizeThrottled=r()(this.onImgLoad,400),window.addEventListener("resize",this.resizeThrottled,!1)},methods:{onImgLoad(){requestIdleCallback(this.calculateImgSize,{timeout:1e3})},calculateImgSize(){var e=this;const{contentImg:t}=this.$refs;t&&(this.width=t.naturalWidth,this.height=t.naturalHeight,this.$nextTick((function(){e.renderedWidth=t.clientWidth,e.renderedHeight=t.clientHeight,e.$emit("imgLoaded",{width:e.width,height:e.height,renderedWidth:e.renderedWidth,renderedHeight:e.renderedHeight})})))}}},l=i("tBpV"),c=Object(l.a)(a,(function(){var e=this,t=e._self._c;return t("div",{attrs:{"data-testid":"image-viewer"}},[t("div",{staticClass:"!gl-relative",class:e.innerCssClasses},[t("img",{ref:"contentImg",attrs:{src:e.safePath},on:{load:e.onImgLoad}}),e._v(" "),e._t("image-overlay",null,{width:e.width,height:e.height,renderedWidth:e.renderedWidth,renderedHeight:e.renderedHeight})],2),e._v(" "),e.renderInfo?t("p",{staticClass:"image-info"},[e.hasFileSize?[e._v("\n      "+e._s(e.fileSizeReadable)+"\n    ")]:e._e(),e._v(" "),e.hasFileSize&&e.hasDimensions?[e._v(" | ")]:e._e(),e._v(" "),e.hasDimensions?[t("strong",[e._v(e._s(e.s__("ImageViewerDimensions|W")))]),e._v(": "+e._s(e.width)+" | "),t("strong",[e._v(e._s(e.s__("ImageViewerDimensions|H")))]),e._v(": "+e._s(e.height)+"\n    ")]:e._e()],2):e._e()])}),[],!1,null,null,null).exports,u=i("5Rcs");function d(e){return e?e+"px":""}var p={components:{ImageViewer:c},props:{newPath:{type:String,required:!0},oldPath:{type:String,required:!0},encodePath:{type:Boolean,required:!1,default:!0}},data:()=>({onionMaxWidth:void 0,onionMaxHeight:void 0,onionOldImgInfo:null,onionNewImgInfo:null,onionDraggerPos:0,onionOpacity:1,dragging:!1}),computed:{onionMaxPixelWidth(){return d(this.onionMaxWidth)},onionMaxPixelHeight(){return d(this.onionMaxHeight)},onionDraggerPixelPos(){return d(this.onionDraggerPos)}},beforeDestroy(){document.body.removeEventListener("mouseup",this.stopDrag),document.body.removeEventListener("touchend",this.stopDrag),document.body.removeEventListener("mousemove",this.dragMove),document.body.removeEventListener("touchmove",this.dragMove)},methods:{dragMove(e){if(!this.dragging)return;const t=(e.pageX||e.touches[0].pageX)-this.$refs.dragTrack.getBoundingClientRect().left,i=this.$refs.dragTrack.clientWidth-this.$refs.dragger.clientWidth||100;let n=t;n<0&&(n=0),n>i&&(n=i),this.onionOpacity=t/i,this.onionDraggerPos=n},startDrag(){this.dragging=!0,document.body.style.userSelect="none",document.body.addEventListener("mousemove",this.dragMove),document.body.addEventListener("touchmove",this.dragMove)},stopDrag(){this.dragging=!1,document.body.style.userSelect="",document.body.removeEventListener("mousemove",this.dragMove),document.body.removeEventListener("touchmove",this.dragMove)},prepareOnionSkin(){this.onionOldImgInfo&&this.onionNewImgInfo&&(this.onionMaxWidth=Math.max(this.onionOldImgInfo.renderedWidth,this.onionNewImgInfo.renderedWidth),this.onionMaxHeight=Math.max(this.onionOldImgInfo.renderedHeight,this.onionNewImgInfo.renderedHeight),this.onionOpacity=1,this.onionDraggerPos=this.$refs.dragTrack.clientWidth-this.$refs.dragger.clientWidth||100,document.body.addEventListener("mouseup",this.stopDrag),document.body.addEventListener("touchend",this.stopDrag))},onionNewImgLoaded(e){this.onionNewImgInfo=e,this.prepareOnionSkin()},onionOldImgLoaded(e){this.onionOldImgInfo=e,this.prepareOnionSkin()}}},f=Object(l.a)(p,(function(){var e=this,t=e._self._c;return t("div",{staticClass:"onion-skin view"},[t("div",{staticClass:"onion-skin-frame",style:{width:e.onionMaxPixelWidth,height:e.onionMaxPixelHeight,"user-select":e.dragging?"none":null}},[t("div",{staticClass:"frame deleted",style:{width:e.onionMaxPixelWidth,height:e.onionMaxPixelHeight}},[t("image-viewer",{key:"onionOldImg",attrs:{"render-info":!1,path:e.oldPath,"encode-path":e.encodePath},on:{imgLoaded:e.onionOldImgLoaded}})],1),e._v(" "),t("div",{ref:"addedFrame",staticClass:"added frame",style:{opacity:e.onionOpacity,width:e.onionMaxPixelWidth,height:e.onionMaxPixelHeight}},[t("image-viewer",{key:"onionNewImg",attrs:{"render-info":!1,path:e.newPath,"encode-path":e.encodePath},on:{imgLoaded:e.onionNewImgLoaded},scopedSlots:e._u([{key:"image-overlay",fn:function({width:t,height:i,renderedWidth:n,renderedHeight:r}){return[e._t("image-overlay",null,{width:t,height:i,renderedWidth:n,renderedHeight:r})]}}],null,!0)})],1),e._v(" "),t("div",{staticClass:"controls"},[t("div",{staticClass:"transparent"}),e._v(" "),t("div",{ref:"dragTrack",staticClass:"drag-track",on:{mousedown:e.startDrag,mouseup:e.stopDrag,touchstart:e.startDrag,touchend:e.stopDrag}},[t("div",{ref:"dragger",staticClass:"dragger",style:{left:e.onionDraggerPixelPos}})]),e._v(" "),t("div",{staticClass:"opaque"})])])])}),[],!1,null,null,null).exports,h={components:{ImageViewer:c},props:{newPath:{type:String,required:!0},oldPath:{type:String,required:!0},encodePath:{type:Boolean,required:!1,default:!0}},data:()=>({dragging:!1,swipeOldImgInfo:null,swipeNewImgInfo:null,swipeMaxWidth:void 0,swipeMaxHeight:void 0,swipeBarPos:1,swipeWrapWidth:0}),computed:{swipeMaxPixelWidth(){return d(this.swipeMaxWidth)},swipeMaxPixelHeight(){return d(this.swipeMaxHeight)},swipeBarPixelPos(){return d(this.swipeBarPos)}},beforeDestroy(){window.removeEventListener("resize",this.resizeThrottled,!1),document.body.removeEventListener("mouseup",this.stopDrag),document.body.removeEventListener("mousemove",this.dragMove),document.body.removeEventListener("touchend",this.stopDrag),document.body.removeEventListener("touchmove",this.dragMove)},mounted(){window.addEventListener("resize",this.resize,!1)},methods:{dragMove(e){if(!this.dragging)return;let t=(e.pageX||e.touches[0].pageX)-this.$refs.swipeFrame.getBoundingClientRect().left;const{clientWidth:i}=this.$refs.swipeFrame;t<=0?t=0:t>i&&(t=i),this.swipeWrapWidth=t/i*100,this.swipeBarPos=t},startDrag(){this.dragging=!0,document.body.addEventListener("mousemove",this.dragMove),document.body.addEventListener("touchmove",this.dragMove)},stopDrag(){this.dragging=!1,document.body.removeEventListener("mousemove",this.dragMove),document.body.removeEventListener("touchmove",this.dragMove)},prepareSwipe(){this.swipeOldImgInfo&&this.swipeNewImgInfo&&this.swipeOldImgInfo.renderedWidth>0&&(this.swipeMaxWidth=Math.max(this.swipeOldImgInfo.renderedWidth,this.swipeNewImgInfo.renderedWidth)+2,this.swipeMaxHeight=Math.max(this.swipeOldImgInfo.renderedHeight,this.swipeNewImgInfo.renderedHeight)+2,document.body.addEventListener("mouseup",this.stopDrag),document.body.addEventListener("touchend",this.stopDrag))},swipeNewImgLoaded(e){this.swipeNewImgInfo=e,this.prepareSwipe()},swipeOldImgLoaded(e){this.swipeOldImgInfo=e,this.prepareSwipe()},resize:r()((function(){this.swipeBarPos=0,this.swipeWrapWidth=0,this.prepareSwipe()}),400)}},g=Object(l.a)(h,(function(){var e=this,t=e._self._c;return t("div",{staticClass:"swipe view"},[t("div",{ref:"swipeFrame",staticClass:"swipe-frame",style:{width:e.swipeMaxPixelWidth,height:e.swipeMaxPixelHeight,"user-select":e.dragging?"none":null}},[t("image-viewer",{key:"swipeOldImg",ref:"swipeOldImg",staticClass:"frame deleted",attrs:{"render-info":!1,path:e.oldPath,"encode-path":e.encodePath},on:{imgLoaded:e.swipeOldImgLoaded}}),e._v(" "),t("div",{ref:"swipeWrap",staticClass:"swipe-wrap",style:{width:e.swipeWrapWidth+"%"}},[t("image-viewer",{key:"swipeNewImg",staticClass:"frame added",style:{width:e.swipeMaxPixelWidth},attrs:{"render-info":!1,path:e.newPath,"encode-path":e.encodePath},on:{imgLoaded:e.swipeNewImgLoaded},scopedSlots:e._u([{key:"image-overlay",fn:function({width:t,height:i,renderedWidth:n,renderedHeight:r}){return[e._t("image-overlay",null,{width:t,height:i,renderedWidth:n,renderedHeight:r})]}}],null,!0)})],1),e._v(" "),t("span",{ref:"swipeBar",staticClass:"swipe-bar",style:{left:e.swipeBarPixelPos},on:{mousedown:e.startDrag,mouseup:e.stopDrag,touchstart:e.startDrag,touchend:e.stopDrag}},[t("span",{staticClass:"top-handle"}),e._v(" "),t("span",{staticClass:"bottom-handle"})])],1)])}),[],!1,null,null,null).exports,m={components:{ImageViewer:c},props:{newPath:{type:String,required:!0},oldPath:{type:String,required:!0},newSize:{type:Number,required:!1,default:0},oldSize:{type:Number,required:!1,default:0},encodePath:{type:Boolean,required:!1,default:!0}}},b=Object(l.a)(m,(function(){var e=this,t=e._self._c;return t("div",{staticClass:"two-up view gl-flex"},[t("image-viewer",{staticClass:"wrap !gl-w-1/2",attrs:{path:e.oldPath,"file-size":e.oldSize,"render-info":!0,"inner-css-classes":"frame deleted","encode-path":e.encodePath}}),e._v(" "),t("image-viewer",{staticClass:"wrap !gl-w-1/2",attrs:{path:e.newPath,"file-size":e.newSize,"render-info":!0,"inner-css-classes":["frame","added"],"encode-path":e.encodePath},scopedSlots:e._u([{key:"image-overlay",fn:function({width:t,height:i,renderedWidth:n,renderedHeight:r}){return[e._t("image-overlay",null,{width:t,height:i,renderedWidth:n,renderedHeight:r})]}}],null,!0)})],1)}),[],!1,null,null,null).exports,v={components:{ImageViewer:c},props:{diffMode:{type:String,required:!0},newPath:{type:String,required:!1,default:null},oldPath:{type:String,required:!1,default:null},newSize:{type:Number,required:!1,default:0},oldSize:{type:Number,required:!1,default:0},encodePath:{type:Boolean,required:!1,default:!0}},data:()=>({mode:u.b.twoup}),computed:{imageViewComponent(){switch(this.mode){case u.b.twoup:return b;case u.b.swipe:return g;case u.b.onion:return f;default:return}},isNew(){return this.diffMode===u.a.new},isRenamed(){return this.diffMode===u.a.renamed},imagePath(){return this.isNew||this.isRenamed?this.newPath:this.oldPath}},methods:{changeMode(e){this.mode=e}},diffModes:u.a,imageViewMode:u.b},w=Object(l.a)(v,(function(){var e=this,t=e._self._c;return t("div",{staticClass:"diff-file-container"},[e.diffMode===e.$options.diffModes.replaced?t("div",{staticClass:"diff-viewer"},[t("div",{staticClass:"image js-replaced-image"},[t(e.imageViewComponent,e._b({tag:"component",scopedSlots:e._u([{key:"image-overlay",fn:function({width:t,height:i,renderedWidth:n,renderedHeight:r}){return[e._t("image-overlay",null,{width:t,height:i,renderedWidth:n,renderedHeight:r})]}}],null,!0)},"component",e.$props,!1))],1),e._v(" "),t("div",{staticClass:"view-modes"},[t("ul",{staticClass:"view-modes-menu"},[t("li",{class:{active:e.mode===e.$options.imageViewMode.twoup},on:{click:function(t){return e.changeMode(e.$options.imageViewMode.twoup)}}},[e._v("\n          "+e._s(e.s__("ImageDiffViewer|2-up"))+"\n        ")]),e._v(" "),t("li",{class:{active:e.mode===e.$options.imageViewMode.swipe},on:{click:function(t){return e.changeMode(e.$options.imageViewMode.swipe)}}},[e._v("\n          "+e._s(e.s__("ImageDiffViewer|Swipe"))+"\n        ")]),e._v(" "),t("li",{class:{active:e.mode===e.$options.imageViewMode.onion},on:{click:function(t){return e.changeMode(e.$options.imageViewMode.onion)}}},[e._v("\n          "+e._s(e.s__("ImageDiffViewer|Onion skin"))+"\n        ")])])])]):t("div",{staticClass:"diff-viewer"},[t("div",{staticClass:"image"},[t("image-viewer",{attrs:{path:e.imagePath,"file-size":e.isNew?e.newSize:e.oldSize,"inner-css-classes":["frame",{added:e.isNew,deleted:e.diffMode===e.$options.diffModes.deleted}],"encode-path":e.encodePath},scopedSlots:e._u([e.isNew||e.isRenamed?{key:"image-overlay",fn:function({width:t,height:i,renderedWidth:n,renderedHeight:r}){return[e._t("image-overlay",null,{width:t,height:i,renderedWidth:n,renderedHeight:r})]}}:null],null,!0)})],1)])])}),[],!1,null,null,null);t.a=w.exports},FtYv:function(e,t,i){"use strict";const n=i("xkpj"),r=i("wlho"),s=i("Uk5S"),o=i("82zY"),a=(e,t={})=>{let i=[];if(Array.isArray(e))for(const n of e){const e=a.create(n,t);Array.isArray(e)?i.push(...e):i.push(e)}else i=[].concat(a.create(e,t));return t&&!0===t.expand&&!0===t.nodupes&&(i=[...new Set(i)]),i};a.parse=(e,t={})=>o(e,t),a.stringify=(e,t={})=>n("string"==typeof e?a.parse(e,t):e,t),a.compile=(e,t={})=>("string"==typeof e&&(e=a.parse(e,t)),r(e,t)),a.expand=(e,t={})=>{"string"==typeof e&&(e=a.parse(e,t));let i=s(e,t);return!0===t.noempty&&(i=i.filter(Boolean)),!0===t.nodupes&&(i=[...new Set(i)]),i},a.create=(e,t={})=>""===e||e.length<3?[e]:!0!==t.expand?a.compile(e,t):a.expand(e,t),e.exports=a},Gk2Q:function(e,t,i){"use strict";t.a={itemsLimit:1e3}},IwOe:function(e,t,i){"use strict";(function(e){var n=i("Gk2Q"),r=i("sGwS");i.d(t,"d",(function(){return r.a}));var s=i("gwU4");i.d(t,"a",(function(){return s.a}));var o=i("spV8");i.d(t,"b",(function(){return o.a}));var a=i("zFql");i.d(t,"c",(function(){return a.a}));const l={install(e,t){const i=Object.assign({},{installComponents:!0,componentsPrefix:""},t);for(const e in i)void 0!==i[e]&&(n.a[e]=i[e]);i.installComponents&&function(e,t){e.component(t+"recycle-scroller",r.a),e.component(t+"RecycleScroller",r.a),e.component(t+"dynamic-scroller",s.a),e.component(t+"DynamicScroller",s.a),e.component(t+"dynamic-scroller-item",o.a),e.component(t+"DynamicScrollerItem",o.a)}(e,i.componentsPrefix)}};let c=null;"undefined"!=typeof window?c=window.Vue:void 0!==e&&(c=e.Vue),c&&c.use(l)}).call(this,i("uKge"))},JCwV:function(e,t,i){"use strict";(function(e){var n;function r(){r.init||(r.init=!0,n=-1!==function(){var e=window.navigator.userAgent,t=e.indexOf("MSIE ");if(t>0)return parseInt(e.substring(t+5,e.indexOf(".",t)),10);if(e.indexOf("Trident/")>0){var i=e.indexOf("rv:");return parseInt(e.substring(i+3,e.indexOf(".",i)),10)}var n=e.indexOf("Edge/");return n>0?parseInt(e.substring(n+5,e.indexOf(".",n)),10):-1}())}function s(e,t,i,n,r,s,o,a,l,c){"boolean"!=typeof o&&(l=a,a=o,o=!1);var u,d="function"==typeof i?i.options:i;if(e&&e.render&&(d.render=e.render,d.staticRenderFns=e.staticRenderFns,d._compiled=!0,r&&(d.functional=!0)),n&&(d._scopeId=n),s?(u=function(e){(e=e||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(e=__VUE_SSR_CONTEXT__),t&&t.call(this,l(e)),e&&e._registeredComponents&&e._registeredComponents.add(s)},d._ssrRegister=u):t&&(u=o?function(e){t.call(this,c(e,this.$root.$options.shadowRoot))}:function(e){t.call(this,a(e))}),u)if(d.functional){var p=d.render;d.render=function(e,t){return u.call(t),p(e,t)}}else{var f=d.beforeCreate;d.beforeCreate=f?[].concat(f,u):[u]}return i}i.d(t,"a",(function(){return l}));var o={name:"ResizeObserver",props:{emitOnMount:{type:Boolean,default:!1},ignoreWidth:{type:Boolean,default:!1},ignoreHeight:{type:Boolean,default:!1}},mounted:function(){var e=this;r(),this.$nextTick((function(){e._w=e.$el.offsetWidth,e._h=e.$el.offsetHeight,e.emitOnMount&&e.emitSize()}));var t=document.createElement("object");this._resizeObject=t,t.setAttribute("aria-hidden","true"),t.setAttribute("tabindex",-1),t.onload=this.addResizeHandlers,t.type="text/html",n&&this.$el.appendChild(t),t.data="about:blank",n||this.$el.appendChild(t)},beforeDestroy:function(){this.removeResizeHandlers()},methods:{compareAndNotify:function(){(!this.ignoreWidth&&this._w!==this.$el.offsetWidth||!this.ignoreHeight&&this._h!==this.$el.offsetHeight)&&(this._w=this.$el.offsetWidth,this._h=this.$el.offsetHeight,this.emitSize())},emitSize:function(){this.$emit("notify",{width:this._w,height:this._h})},addResizeHandlers:function(){this._resizeObject.contentDocument.defaultView.addEventListener("resize",this.compareAndNotify),this.compareAndNotify()},removeResizeHandlers:function(){this._resizeObject&&this._resizeObject.onload&&(!n&&this._resizeObject.contentDocument&&this._resizeObject.contentDocument.defaultView.removeEventListener("resize",this.compareAndNotify),this.$el.removeChild(this._resizeObject),this._resizeObject.onload=null,this._resizeObject=null)}}},a=function(){var e=this.$createElement;return(this._self._c||e)("div",{staticClass:"resize-observer",attrs:{tabindex:"-1"}})};a._withStripped=!0;var l=s({render:a,staticRenderFns:[]},void 0,o,"data-v-8859cc6c",!1,void 0,!1,void 0,void 0,void 0);var c={version:"1.0.1",install:function(e){e.component("resize-observer",l),e.component("ResizeObserver",l)}},u=null;"undefined"!=typeof window?u=window.Vue:void 0!==e&&(u=e.Vue),u&&u.use(c)}).call(this,i("uKge"))},JVxf:function(e,t,i){"use strict";var n=i("Qjk6");const{model:r}=n.a.options;var s={name:"GlFormRadio",components:{BFormRadio:n.a},inheritAttrs:!1,model:{prop:r.prop,event:r.event},props:{checked:{type:[String,Number,Boolean,Object],required:!1,default:!1}}},o=i("tBpV"),a=Object(o.a)(s,(function(){var e=this,t=e._self._c;return t("b-form-radio",e._b({staticClass:"gl-form-radio",attrs:{checked:e.checked},on:{input:function(t){return e.$emit("input",t)},change:function(t){return e.$emit("change",t)}}},"b-form-radio",e.$attrs,!1),[e._t("default"),e._v(" "),e.$scopedSlots.help?t("p",{staticClass:"help-text"},[e._t("help")],2):e._e()],2)}),[],!1,null,null,null);t.a=a.exports},Jm82:function(e,t,i){"use strict";(function(e){function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function r(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function s(e){return function(e){if(Array.isArray(e)){for(var t=0,i=new Array(e.length);t<e.length;t++)i[t]=e[t];return i}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}i.d(t,"a",(function(){return c}));var o=function(){function e(t,i,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.el=t,this.observer=null,this.frozen=!1,this.createObserver(i,n)}var t,i,n;return t=e,(i=[{key:"createObserver",value:function(e,t){var i=this;if(this.observer&&this.destroyObserver(),!this.frozen){var n;if(this.options="function"==typeof(n=e)?{callback:n}:n,this.callback=function(e,t){i.options.callback(e,t),e&&i.options.once&&(i.frozen=!0,i.destroyObserver())},this.callback&&this.options.throttle){var r=(this.options.throttleOptions||{}).leading;this.callback=function(e,t){var i,n,r,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},a=function(a){for(var l=arguments.length,c=new Array(l>1?l-1:0),u=1;u<l;u++)c[u-1]=arguments[u];if(r=c,!i||a!==n){var d=o.leading;"function"==typeof d&&(d=d(a,n)),i&&a===n||!d||e.apply(void 0,[a].concat(s(r))),n=a,clearTimeout(i),i=setTimeout((function(){e.apply(void 0,[a].concat(s(r))),i=0}),t)}};return a._clear=function(){clearTimeout(i),i=null},a}(this.callback,this.options.throttle,{leading:function(e){return"both"===r||"visible"===r&&e||"hidden"===r&&!e}})}this.oldResult=void 0,this.observer=new IntersectionObserver((function(e){var t=e[0];if(e.length>1){var n=e.find((function(e){return e.isIntersecting}));n&&(t=n)}if(i.callback){var r=t.isIntersecting&&t.intersectionRatio>=i.threshold;if(r===i.oldResult)return;i.oldResult=r,i.callback(r,t)}}),this.options.intersection),t.context.$nextTick((function(){i.observer&&i.observer.observe(i.el)}))}}},{key:"destroyObserver",value:function(){this.observer&&(this.observer.disconnect(),this.observer=null),this.callback&&this.callback._clear&&(this.callback._clear(),this.callback=null)}},{key:"threshold",get:function(){return this.options.intersection&&"number"==typeof this.options.intersection.threshold?this.options.intersection.threshold:0}}])&&r(t.prototype,i),n&&r(t,n),e}();function a(e,t,i){var n=t.value;if(n)if("undefined"==typeof IntersectionObserver)console.warn("[vue-observe-visibility] IntersectionObserver API is not available in your browser. Please install this polyfill: https://github.com/w3c/IntersectionObserver/tree/master/polyfill");else{var r=new o(e,n,i);e._vue_visibilityState=r}}function l(e){var t=e._vue_visibilityState;t&&(t.destroyObserver(),delete e._vue_visibilityState)}var c={bind:a,update:function(e,t,i){var r=t.value;if(!function e(t,i){if(t===i)return!0;if("object"===n(t)){for(var r in t)if(!e(t[r],i[r]))return!1;return!0}return!1}(r,t.oldValue)){var s=e._vue_visibilityState;r?s?s.createObserver(r,i):a(e,{value:r},i):l(e)}},unbind:l};var u={version:"1.0.0",install:function(e){e.directive("observe-visibility",c)}},d=null;"undefined"!=typeof window?d=window.Vue:void 0!==e&&(d=e.Vue),d&&d.use(u)}).call(this,i("uKge"))},"Kuu+":function(e,t,i){"use strict";i.d(t,"e",(function(){return r})),i.d(t,"d",(function(){return s})),i.d(t,"c",(function(){return o})),i.d(t,"n",(function(){return a})),i.d(t,"l",(function(){return l})),i.d(t,"b",(function(){return c})),i.d(t,"j",(function(){return u})),i.d(t,"a",(function(){return d})),i.d(t,"m",(function(){return p})),i.d(t,"k",(function(){return f})),i.d(t,"i",(function(){return h})),i.d(t,"h",(function(){return g})),i.d(t,"g",(function(){return m})),i.d(t,"f",(function(){return b}));var n=i("/lV4");Object(n.i)("MergeRequest|Can't fetch the diff needed to update this view. Please reload this page.");const r=Object(n.i)("MergeRequest|Can't fetch the single file diff for the discussion. Please reload this page."),s={optionsDropdownTitle:Object(n.a)("Options"),fileReviewLabel:Object(n.a)("Viewed")},o={tooLarge:Object(n.i)("MRDiffFile|Changes are too large to be shown."),blobView:Object(n.i)("MRDiffFile|View file @ %{commitSha}"),editInFork:Object(n.a)("You're not allowed to %{tag_start}edit%{tag_end} files in this project directly. Please fork this project, make your changes there, and submit a merge request."),fork:Object(n.a)("Fork"),cancel:Object(n.a)("Cancel"),autoCollapsed:Object(n.a)("Files with large changes are collapsed by default."),autoCollapsedGenerated:Object(n.a)("Generated files are collapsed by default. To change this behavior, edit the %{tagStart}.gitattributes%{tagEnd} file. %{linkStart}Learn more.%{linkEnd}"),expand:Object(n.a)("Expand file")},a=Object(n.a)("Start another thread"),l={whitespace:Object(n.a)("Show whitespace changes"),fileByFile:Object(n.a)("Show one file at a time"),preferences:Object(n.a)("Preferences")},c={both_modified:Object(n.a)("Conflict: This file was modified in both the source and target branches."),modified_source_removed_target:Object(n.a)("Conflict: This file was modified in the source branch, but removed in the target branch."),modified_target_removed_source:Object(n.a)("Conflict: This file was removed in the source branch, but modified in the target branch."),renamed_same_file:Object(n.a)("Conflict: This file was renamed differently in the source and target branches."),removed_source_renamed_target:Object(n.a)("Conflict: This file was removed in the source branch, but renamed in the target branch."),removed_target_renamed_source:Object(n.a)("Conflict: This file was renamed in the source branch, but removed in the target branch."),both_added:Object(n.a)("Conflict: This file was added both in the source and target branches, but with different contents.")},u=Object(n.a)("Hide comments"),d=(Object(n.a)("New code quality findings"),Object(n.a)("New Security findings"),Object(n.a)("Building your merge request… This page will update when the build is complete.")),p=Object(n.a)("Something went wrong on our end. Please try again!"),f=Object(n.i)("MergeRequests|Comment could not be submitted: %{reason}."),h=Object(n.i)("MergeRequest|Error loading full diff. Please try again."),g=Object(n.i)("MergeRequest|Error dismissing suggestion popover. Please try again."),m=Object(n.a)("Some changes are not shown."),b=Object(n.a)("Some files cannot be displayed due to their file path encoding.")},MCsT:function(e,t,i){"use strict";i.d(t,"a",(function(){return r}));i("byxs"),i("ZzK0"),i("z6RN"),i("BzOf"),i("RFHG"),i("xuo1"),i("v2fZ");var n=i("8T/f");const r=Object(n.c)("codeReview",{state:()=>({mrPath:"",reviewedIds:{}}),actions:{setMrPath(e){this.mrPath=e},restoreFromAutosave(){var e=this;const t=localStorage.getItem(this.autosaveKey);if(!t)return;JSON.parse(t).forEach((function(t){e.reviewedIds[t]=!0})),this.reviewedIds={...this.reviewedIds}},restoreFromLegacyMrReviews(){var e=this;const t=localStorage.getItem(this.mrPath+"-file-reviews");if(!t)return;const i=JSON.parse(t);Object.values(i).forEach((function(t){t.forEach((function(t){t.startsWith("hash:")||(e.reviewedIds[t]=!0)}))})),this.reviewedIds={...this.reviewedIds},localStorage.removeItem(this.mrPath+"-file-reviews"),this.autosave()},setReviewed(e,t){this.reviewedIds={...this.reviewedIds,[e]:t},this.autosave()},removeId(e){delete this.reviewedIds[e]},autosave(){const e=this.markedAsViewedIds;e.length?localStorage.setItem(this.autosaveKey,JSON.stringify(e)):localStorage.removeItem(this.autosaveKey)}},getters:{markedAsViewedIds(){var e=this;return Object.keys(this.reviewedIds).reduce((function(t,i){return e.reviewedIds[i]&&t.push(i),t}),[])},autosaveKey(){return"code-review-"+this.mrPath}}})},NhEX:function(e,t,i){var n=i("ZKOb"),r=i("Opi0"),s=i("3ftC"),o=r((function(e,t,i){return n(e,s(t)||0,i)}));e.exports=o},OBE7:function(e,t,i){(e.exports=i("VNgF")(!1)).push([e.i,"\n.file-row-stats {\n  font-size: 12px;\n}\n",""])},OIsX:function(e,t,i){"use strict";var n=i("pmDQ"),r=i("d85j"),s=i("CbCZ"),o=i("zIFf"),a=i("/lV4"),l={name:"FileRow",components:{FileIcon:i("9dZE").a,GlTruncate:n.a,GlIcon:r.a,GlButton:s.a},directives:{GlTooltip:o.a},props:{file:{type:Object,required:!0},level:{type:Number,required:!0},showTreeToggle:{type:Boolean,required:!1,default:!1},rovingTabindex:{type:Boolean,required:!1,default:!1},boldText:{type:Boolean,required:!1,default:!0}},computed:{isTree(){return"tree"===this.file.type},isBlob(){return"blob"===this.file.type},fileClass(){const e=!this.isTree&&this.showTreeToggle;return{"file-open":this.isBlob&&this.file.opened,"is-active":this.isBlob&&this.file.active,folder:this.isTree,"is-open":this.file.opened,"!gl-bg-feedback-info":this.file.linked,"pl-3":e}},textForTitle(){var e;return!(null===(e=this.file)||void 0===e||null===(e=e.tree)||void 0===e||!e.length)&&this.file.tree[0].parentPath},chevronIcon(){return this.file.opened?"chevron-down":"chevron-right"},chevronAriaLabel(){const e=this.file.opened?Object(a.a)("Collapse %{name} directory"):Object(a.a)("Expand %{name} directory");return Object(a.j)(e,{name:this.file.name})},buttonTabindex(){return this.rovingTabindex?-1:0},fileRowContainerClassList(){return{"before:!gl-left-[calc(0.75rem-0.5px)]":this.showTreeToggle}}},methods:{clickFile(e){this.file.href&&(e.ctrlKey||e.metaKey)||(this.$emit("clickRow",e),this.isTree?this.$emit("clickTree",e):this.file.submodule?this.$emit("clickSubmodule",e):this.isBlob&&this.$emit("clickFile",e),this.file.href&&e.preventDefault())}}},c=i("LPAU"),u=i.n(c),d=i("SLWe"),p=i.n(d),f={insert:"head",singleton:!1},h=(u()(p.a,f),p.a.locals,i("tBpV")),g=Object(h.a)(l,(function(){var e=this,t=e._self._c;return e.file.isHeader?t("div",{staticClass:"file-row-header sticky-top js-file-row-header gl-bg-default gl-px-2",attrs:{title:e.file.path}},[t("gl-truncate",{staticClass:"gl-font-bold",attrs:{text:e.file.path,position:"middle"}})],1):e.file.isShowMore?t("gl-button",{staticClass:"gl-w-full !gl-justify-start !gl-border-none !gl-pl-6 hover:!gl-bg-transparent",attrs:{category:"tertiary",loading:e.file.loading,"button-text-classes":"gl-text-blue-700",tabindex:e.buttonTabindex},on:{click:function(t){return e.$emit("showMore",t)}}},[e._v("\n  "+e._s(e.__("Show more"))+"\n")]):t("div",{staticClass:"gl-flex gl-items-center",class:e.fileRowContainerClassList,style:{"--level":e.file.level},attrs:{"data-testid":"file-row-container"}},[e.isTree&&e.showTreeToggle?t("gl-button",{staticClass:"file-row-indentation gl-z-3 gl-mr-1 gl-shrink-0 hover:!gl-bg-transparent",attrs:{category:"tertiary",size:"small",icon:e.chevronIcon,"data-testid":"tree-toggle-button","aria-label":e.chevronAriaLabel,tabindex:e.buttonTabindex},on:{click:function(t){return e.$emit("toggleTree",t)}}}):e._e(),e._v(" "),t(e.file.href?"a":"button",{tag:"component",staticClass:"file-row gl-flex-grow-1 hover:gl-text-inherit hover:gl-no-underline",class:e.fileClass,attrs:{href:e.file.href,title:e.textForTitle,"data-level":e.level,"data-file-row":e.file.fileHash,"data-testid":"file-row","aria-expanded":"tree"===e.file.type?e.file.opened.toString():void 0,"aria-label":e.file.name,tabindex:e.buttonTabindex},on:{click:e.clickFile}},[t("span",{ref:"textOutput",staticClass:"file-row-name gl-min-w-0",class:{"file-row-indentation":!(e.isTree&&e.showTreeToggle),"gl-font-bold":e.boldText},attrs:{title:e.file.name,"data-qa-file-name":e.file.name,"data-testid":"file-row-name-container"}},[e.file.linked?t("gl-icon",{directives:[{name:"gl-tooltip",rawName:"v-gl-tooltip.right",value:e.__("This file was linked in the page URL and will appear as the first one in the list"),expression:"\n          __('This file was linked in the page URL and will appear as the first one in the list')\n        ",modifiers:{right:!0}}],staticClass:"gl-flex-none",attrs:{name:"link",size:16}}):e._e(),e._v(" "),t("file-icon",{staticClass:"gl-mr-2",class:{"gl-text-subtle":"tree"===e.file.type},attrs:{"file-name":e.file.name,loading:e.file.loading,folder:e.isTree,opened:e.file.opened,size:16,submodule:e.file.submodule}}),e._v(" "),t("gl-truncate",{staticClass:"gl-min-w-0 gl-items-center gl-pr-2",attrs:{text:e.file.name,position:"middle"}})],1),e._v(" "),e._t("default")],2)],1)}),[],!1,null,null,null);t.a=g.exports},Oc4c:function(e,t,i){"use strict";
/*!
 * fill-range <https://github.com/jonschlinkert/fill-range>
 *
 * Copyright (c) 2014-present, Jon Schlinkert.
 * Licensed under the MIT License.
 */const n=i("4Ka6"),r=i("sO/2"),s=e=>null!==e&&"object"==typeof e&&!Array.isArray(e),o=e=>"number"==typeof e||"string"==typeof e&&""!==e,a=e=>Number.isInteger(+e),l=e=>{let t=""+e,i=-1;if("-"===t[0]&&(t=t.slice(1)),"0"===t)return!1;for(;"0"===t[++i];);return i>0},c=(e,t,i)=>{if(t>0){let i="-"===e[0]?"-":"";i&&(e=e.slice(1)),e=i+e.padStart(i?t-1:t,"0")}return!1===i?String(e):e},u=(e,t)=>{let i="-"===e[0]?"-":"";for(i&&(e=e.slice(1),t--);e.length<t;)e="0"+e;return i?"-"+e:e},d=(e,t,i,n)=>{if(i)return r(e,t,{wrap:!1,...n});let s=String.fromCharCode(e);return e===t?s:`[${s}-${String.fromCharCode(t)}]`},p=(e,t,i)=>{if(Array.isArray(e)){let t=!0===i.wrap,n=i.capture?"":"?:";return t?`(${n}${e.join("|")})`:e.join("|")}return r(e,t,i)},f=(...e)=>new RangeError("Invalid range arguments: "+n.inspect(...e)),h=(e,t,i)=>{if(!0===i.strictRanges)throw f([e,t]);return[]},g=(e,t,i=1,n={})=>{let r=Number(e),s=Number(t);if(!Number.isInteger(r)||!Number.isInteger(s)){if(!0===n.strictRanges)throw f([e,t]);return[]}0===r&&(r=0),0===s&&(s=0);let o=r>s,a=String(e),h=String(t),g=String(i);i=Math.max(Math.abs(i),1);let m=l(a)||l(h)||l(g),b=m?Math.max(a.length,h.length,g.length):0,v=!1===m&&!1===((e,t,i)=>"string"==typeof e||"string"==typeof t||!0===i.stringify)(e,t,n),w=n.transform||(e=>t=>!0===e?Number(t):String(t))(v);if(n.toRegex&&1===i)return d(u(e,b),u(t,b),!0,n);let y={negatives:[],positives:[]},_=[],S=0;for(;o?r>=s:r<=s;)!0===n.toRegex&&i>1?y[(x=r)<0?"negatives":"positives"].push(Math.abs(x)):_.push(c(w(r,S),b,v)),r=o?r-i:r+i,S++;var x;return!0===n.toRegex?i>1?((e,t,i)=>{e.negatives.sort((e,t)=>e<t?-1:e>t?1:0),e.positives.sort((e,t)=>e<t?-1:e>t?1:0);let n,r=t.capture?"":"?:",s="",o="";return e.positives.length&&(s=e.positives.map(e=>u(String(e),i)).join("|")),e.negatives.length&&(o=`-(${r}${e.negatives.map(e=>u(String(e),i)).join("|")})`),n=s&&o?`${s}|${o}`:s||o,t.wrap?`(${r}${n})`:n})(y,n,b):p(_,null,{wrap:!1,...n}):_},m=(e,t,i,n={})=>{if(null==t&&o(e))return[e];if(!o(e)||!o(t))return h(e,t,n);if("function"==typeof i)return m(e,t,1,{transform:i});if(s(i))return m(e,t,0,i);let r={...n};return!0===r.capture&&(r.wrap=!0),i=i||r.step||1,a(i)?a(e)&&a(t)?g(e,t,i,r):((e,t,i=1,n={})=>{if(!a(e)&&e.length>1||!a(t)&&t.length>1)return h(e,t,n);let r=n.transform||(e=>String.fromCharCode(e)),s=(""+e).charCodeAt(0),o=(""+t).charCodeAt(0),l=s>o,c=Math.min(s,o),u=Math.max(s,o);if(n.toRegex&&1===i)return d(c,u,!1,n);let f=[],g=0;for(;l?s>=o:s<=o;)f.push(r(s,g)),s=l?s-i:s+i,g++;return!0===n.toRegex?p(f,null,{wrap:!1,options:n}):f})(e,t,Math.max(Math.abs(i),1),r):null==i||s(i)?m(e,t,1,i):((e,t)=>{if(!0===t.strictRanges)throw new TypeError(`Expected step "${e}" to be a number`);return[]})(i,r)};e.exports=m},Qjk6:function(e,t,i){"use strict";i.d(t,"a",(function(){return E}));var n=i("zNqO"),r=i("n64d"),s=i("Cn4y"),o=i("EXdk"),a=i("pTIT"),l=i("MGi3"),c=i("dJQL"),u=i("7I1/"),d=i("RzIj"),p=i("eOJu"),f=i("nbER"),h=i("s4T4"),g=i("WMzN"),m=i("HeIE"),b=i("WeGr"),v=i("tslw"),w=i("slyf");const{mixin:y,props:_,prop:S,event:x}=Object(d.a)("checked",{defaultValue:null}),k=Object(s.c)(Object(p.m)({...v.b,..._,...h.b,...m.b,...b.b,...g.b,ariaLabel:Object(s.b)(o.r),ariaLabelledby:Object(s.b)(o.r),inline:Object(s.b)(o.g,!1),value:Object(s.b)(o.a)}),"formRadioCheckControls"),O=Object(n.c)({mixins:[f.a,v.a,y,w.a,h.a,m.a,b.a,g.a],inheritAttrs:!1,props:k,data(){return{localChecked:this.isGroup?this.bvGroup[S]:this[S]}},computed:{computedLocalChecked:{get(){return this.isGroup?this.bvGroup.localChecked:this.localChecked},set(e){this.isGroup?this.bvGroup.localChecked=e:this.localChecked=e}},isChecked(){return Object(u.a)(this.value,this.computedLocalChecked)},isRadio:()=>!0,isGroup(){return!!this.bvGroup},isSwitch(){return!this.isRadio&&(this.isGroup?this.bvGroup.switches:this.switch)},isInline(){return this.isGroup?this.bvGroup.inline:this.inline},isDisabled(){return this.isGroup&&this.bvGroup.disabled||this.disabled},isRequired(){return this.computedName&&(this.isGroup?this.bvGroup.required:this.required)},computedName(){return(this.isGroup?this.bvGroup.groupName:this.name)||null},computedForm(){return(this.isGroup?this.bvGroup.form:this.form)||null},computedSize(){return(this.isGroup?this.bvGroup.size:this.size)||""},computedState(){return this.isGroup?this.bvGroup.computedState:Object(c.b)(this.state)?this.state:null},computedAttrs(){const{isDisabled:e,isRequired:t}=this;return{...this.bvAttrs,id:this.safeId(),type:this.isRadio?"radio":"checkbox",name:this.computedName,form:this.computedForm,disabled:e,required:t,"aria-required":t||null,"aria-label":this.ariaLabel||null,"aria-labelledby":this.ariaLabelledby||null}}},watch:{[S](...e){this[S+"Watcher"](...e)},computedLocalChecked(...e){this.computedLocalCheckedWatcher(...e)}},methods:{[S+"Watcher"](e){Object(u.a)(e,this.computedLocalChecked)||(this.computedLocalChecked=e)},computedLocalCheckedWatcher(e,t){Object(u.a)(e,t)||this.$emit(x,e)},handleChange({target:{checked:e}}){var t=this;const{value:i}=this,n=e?i:null;this.computedLocalChecked=i,this.$nextTick((function(){t.$emit(a.d,n),t.isGroup&&t.bvGroup.$emit(a.d,n)}))},focus(){this.isDisabled||Object(l.d)(this.$refs.input)},blur(){this.isDisabled||Object(l.c)(this.$refs.input)}},render(e){const{isRadio:t,isInline:i,isSwitch:n,computedSize:r,bvAttrs:s}=this,o=this.normalizeSlot(),a=e("input",{class:["custom-control-input",this.stateClass],attrs:this.computedAttrs,domProps:{value:this.value,checked:this.isChecked},on:{change:this.handleChange},key:"input",ref:"input"}),l=e("label",{class:"custom-control-label",attrs:{for:this.safeId()}},o);return e("div",{class:[{"custom-control-inline":i,"custom-checkbox":!t&&!n,"custom-switch":n,"custom-radio":t,["b-custom-control-"+r]:r},"custom-control",s.class],style:s.style},[a,l])}}),C=Object(s.c)(k,r.n),E=Object(n.c)({name:r.n,mixins:[O],inject:{getBvGroup:{from:"getBvRadioGroup",default:function(){return function(){return null}}}},props:C,computed:{bvGroup(){return this.getBvGroup()}}})},"R//o":function(e,t,i){"use strict";i.d(t,"a",(function(){return n}));const n="DiffFileMounted"},RGE8:function(e,t,i){"use strict";var n=i("CbCZ"),r=i("BTs4"),s=i("4Qts"),o=i("8T/f"),a=i("wQDE"),l=i("/lV4"),c=i("d08M"),u=i("dJ5R"),d=i("O6Bj"),p=i("lMcJ"),f={name:"FileBrowserToggle",MR_TOGGLE_FILE_BROWSER:c.eb,components:{GlButton:n.a,GlAnimatedSidebarIcon:r.a,GlTooltip:s.a,Shortcut:p.a},computed:{...Object(o.f)(u.a,["fileBrowserVisible"]),toggleFileBrowserShortcutKey(){return this.shortcutsEnabled?Object(c.Gb)(c.eb)[0]:null},shortcutsEnabled:()=>!Object(a.b)(),toggleFileBrowserTitle(){return this.fileBrowserVisible?Object(l.a)("Hide file browser"):Object(l.a)("Show file browser")}},created(){this.initFileBrowserVisibility()},mounted(){this.shortcutsEnabled&&(d.b.bind(Object(c.Gb)(c.Y),this.focusFileBrowser),d.b.bind(Object(c.Gb)(c.eb),this.toggleFileBrowserVisibility))},beforeDestroy(){this.shortcutsEnabled&&(d.b.unbind(Object(c.Gb)(c.Y)),d.b.unbind(Object(c.Gb)(c.eb)))},methods:{...Object(o.e)(u.a,["toggleFileBrowserVisibility","setFileBrowserVisibility","initFileBrowserVisibility"]),async focusFileBrowser(e){var t;null==e||null===(t=e.preventDefault)||void 0===t||t.call(e),this.setFileBrowserVisibility(!0),await this.$nextTick(),document.querySelector("#diff-tree-search").focus()}}},h=i("LPAU"),g=i.n(h),m=i("f4g/"),b=i.n(m),v={insert:"head",singleton:!1},w=(g()(b.a,v),b.a.locals,i("tBpV")),y=Object(w.a)(f,(function(){var e=this,t=e._self._c;return t("gl-button",{ref:"toggle",staticClass:"btn-icon max-@lg/panel:gl-hidden gl-mr-3",attrs:{variant:"default","data-testid":"file-tree-button","aria-label":e.toggleFileBrowserTitle,"aria-keyshortcuts":e.toggleFileBrowserShortcutKey,selected:e.fileBrowserVisible},on:{click:e.toggleFileBrowserVisibility}},[e.shortcutsEnabled?t("gl-tooltip",{attrs:{"custom-class":"file-browser-toggle-tooltip",target:function(){return e.$refs.toggle&&e.$refs.toggle.$el}}},[e._v("\n    "+e._s(e.toggleFileBrowserTitle)+"\n    "),t("shortcut",{staticClass:"gl-whitespace-nowrap",attrs:{shortcuts:e.$options.MR_TOGGLE_FILE_BROWSER.defaultKeys}})],1):e._e(),e._v(" "),t("gl-animated-sidebar-icon",{staticClass:"gl-button-icon",attrs:{"is-on":e.fileBrowserVisible}})],1)}),[],!1,null,null,null);t.a=y.exports},SLWe:function(e,t,i){(e.exports=i("VNgF")(!1)).push([e.i,"\n.file-row {\n  display: flex;\n  align-items: center;\n  height: var(--file-row-height, 32px);\n  padding: 4px 8px;\n  margin-left: -8px;\n  border-radius: 3px;\n  text-align: left;\n  cursor: pointer;\n  color: unset;\n}\n.file-row-name-container {\n  display: flex;\n  width: 100%;\n  align-items: center;\n  overflow: visible;\n}\n.file-row-indentation {\n  margin-left: calc(var(--level) * var(--file-row-level-padding, 16px));\n}\n.file-row-name {\n  display: flex;\n  align-items: center;\n  flex: 1;\n  max-width: inherit;\n  line-height: 1rem;\n  text-overflow: ellipsis;\n  white-space: nowrap;\n}\n",""])},SsIm:function(e,t,i){"use strict";i.d(t,"a",(function(){return n})),i.d(t,"b",(function(){return r}));const n={items:{type:Array,required:!0},keyField:{type:String,default:"id"},direction:{type:String,default:"vertical",validator:e=>["vertical","horizontal"].includes(e)}};function r(){return this.items.length&&"object"!=typeof this.items[0]}},THfT:function(e,t,i){"use strict";i.d(t,"a",(function(){return ue}));i("byxs"),i("++os"),i("whUo"),i("kidC"),i("F/X0"),i("ZzK0"),i("z6RN"),i("BzOf");var n=i("SbXM"),r=i("ewH8"),s=i("8T/f"),o=i("NmEs"),a=i("sK0u"),l=i("aQVE"),c=i("rAS2"),u=i("dDJM"),d=i("i5Bj");const p=function(){c.a.getAll().forEach((function(e){return e.trigger(u.COLLAPSE_FILE)}))},f=function(){c.a.getAll().forEach((function(e){return e.trigger(u.EXPAND_FILE)}))},h=function({pinia:e,target:t,appData:i}){const{showWhitespace:n,diffViewType:c,updateUserEndpoint:u}=i;return Object(a.a)(e).$patch({showWhitespace:Object(o.G)(n),viewType:c,updateUserEndpoint:u}),Object(d.b)(e).fillInLoadedFiles(),function(e,t){return new r.default({el:e,name:"DiffAppControlsRoot",pinia:t,computed:{...Object(s.f)(d.b,["isLoading","isEmpty"]),...Object(s.f)(a.a,["showWhitespace","viewType","fileByFileMode","singleFileMode","diffsStats"])},methods:{...Object(s.e)(a.a,["updateViewType","updateShowWhitespace"])},render(e){var t,i,n;return e(l.a,{props:{hasChanges:!this.isEmpty,showWhitespace:this.showWhitespace,diffViewType:this.viewType,viewDiffsFileByFile:this.singleFileMode,fileByFileSupported:!1,isLoading:this.isLoading,addedLines:null===(t=this.diffsStats)||void 0===t?void 0:t.addedLines,removedLines:null===(i=this.diffsStats)||void 0===i?void 0:i.removedLines,diffsCount:null===(n=this.diffsStats)||void 0===n?void 0:n.diffsCount,hideOnNarrowScreen:!1},on:{updateDiffViewType:this.updateViewType,toggleWhitespace:this.updateShowWhitespace,expandAllFiles:f,collapseAllFiles:p}})}})}(t,e)};i("3UXl"),i("iyoE"),i("lFMf"),i("gOHk"),i("c9hT");var g=i("2ibD"),m=i("RGE8"),b=i("b9Pe");const v=Object(s.c)("rapidDiffsApp",{state:()=>({appVisible:!0})});var w=i("dJ5R"),y=i("B5/6"),_=i("iXec"),S={name:"FileBrowser",components:{DiffsFileTree:_.a},props:{groupBlobsListItems:{type:Boolean,required:!1,default:!0},linkedFilePath:{type:String,required:!1,default:null}},data:()=>({currentFileHash:""}),computed:{...Object(s.f)(a.a,["totalFilesCount"]),...Object(s.f)(d.b,["loadedFiles"]),...Object(s.f)(w.a,["fileBrowserVisible"])},methods:{clickFile(e){this.currentFileHash=e.fileHash,this.$emit("clickFile",e)},toggleFolder(e){Object(w.a)().toggleTreeOpen(e)}}},x=i("tBpV"),k=Object(x.a)(S,(function(){var e=this,t=e._self._c;return e.fileBrowserVisible?t("diffs-file-tree",{attrs:{"floating-resize":"","loaded-files":e.loadedFiles,"total-files-count":e.totalFilesCount,"group-blobs-list-items":e.groupBlobsListItems,"current-diff-file-id":e.currentFileHash,"linked-file-path":e.linkedFilePath},on:{clickFile:e.clickFile,toggleFolder:e.toggleFolder}}):e._e()}),[],!1,null,null,null).exports,O=i("onSc"),C=i("FoOb"),E={name:"FileBrowserDrawer",DRAWER_Z_INDEX:i("GuZl").i,components:{MountingPortal:O.MountingPortal,DiffsFileTree:_.a,GlDrawer:C.a},props:{groupBlobsListItems:{type:Boolean,required:!1,default:!0},linkedFilePath:{type:String,required:!1,default:null}},data:()=>({openedOnce:!1}),computed:{...Object(s.f)(a.a,["totalFilesCount"]),...Object(s.f)(d.b,["loadedFiles"]),...Object(s.f)(w.a,["fileBrowserDrawerVisible"])},watch:{fileBrowserDrawerVisible(){this.openedOnce=!0}},beforeDestroy(){Object(w.a)().setFileBrowserDrawerVisibility(!1)},methods:{clickFile(e){this.$emit("clickFile",e),this.close()},toggleFolder(e){Object(w.a)().toggleTreeOpen(e)},close(){Object(w.a)().setFileBrowserDrawerVisibility(!1)}}},R=Object(x.a)(E,(function(){var e=this,t=e._self._c;return t("mounting-portal",{attrs:{append:"","mount-to":"#js-drawer-container"}},[t("gl-drawer",{directives:[{name:"show",rawName:"v-show",value:e.fileBrowserDrawerVisible,expression:"fileBrowserDrawerVisible"}],attrs:{open:e.openedOnce,"z-index":e.$options.DRAWER_Z_INDEX,"header-sticky":""},on:{close:e.close},scopedSlots:e._u([{key:"title",fn:function(){return[t("h2",{staticClass:"gl-my-0 gl-text-size-h2 gl-leading-24"},[e._v(e._s(e.s__("RapidDiffs|File browser")))])]},proxy:!0},{key:"default",fn:function(){return[t("diffs-file-tree",{staticClass:"diffs-tree-drawer",attrs:{"loaded-files":e.loadedFiles,"total-files-count":e.totalFilesCount,"group-blobs-list-items":e.groupBlobsListItems,"linked-file-path":e.linkedFilePath},on:{clickFile:e.clickFile,toggleFolder:e.toggleFolder}})]},proxy:!0}])})],1)}),[],!1,null,null,null).exports,j=i("CbCZ"),A=i("BTs4"),T=i("/lV4"),L={name:"FileBrowserDrawerToggle",components:{GlButton:j.a,GlAnimatedSidebarIcon:A.a},computed:{...Object(s.f)(w.a,["fileBrowserDrawerVisible"]),toggleFileBrowserTitle(){return this.fileBrowserDrawerVisible?Object(T.a)("Hide file browser"):Object(T.a)("Show file browser")}},methods:{...Object(s.e)(w.a,["toggleFileBrowserDrawerVisibility"])}},I=Object(x.a)(L,(function(){var e=this._self._c;return e("gl-button",{staticClass:"btn-icon -gl-mr-3 -gl-scale-x-100 group-[.top-bar-duo-button-present]:gl-mr-0 @lg/panel:gl-hidden",attrs:{variant:"default",category:"tertiary","aria-label":this.toggleFileBrowserTitle,"data-testid":"file-tree-drawer-button"},on:{click:this.toggleFileBrowserDrawerVisibility}},[e("gl-animated-sidebar-icon",{staticClass:"gl-button-icon",attrs:{"is-on":this.fileBrowserDrawerVisible}})],1)}),[],!1,null,null,null).exports;const $=async function(e,t){const{data:i}=await g.a.get(e);Object(w.a)().setTreeData(i.diff_files.map((function(e){return Object.assign(e,{href:Object(y.b)(new URL(window.location),{oldPath:e.old_path,newPath:e.new_path,fileId:e.file_hash}).toString()})})),t)};async function D({toggleTarget:e,browserTarget:t,appData:i}){var s;s=e,new r.default({el:document.querySelector("#js-page-breadcrumbs-extra"),name:"FileBrowserDrawerToggleRoot",pinia:n.a,computed:{visible:()=>Object(b.a)().isCompact&&v().appVisible},render(e){return this.visible?e(I):null}}),new r.default({el:s,name:"FileBrowserToggleRoot",pinia:n.a,computed:{visible:()=>!Object(b.a)().isCompact},render(e){return this.visible?e(m.a):null}}),Object(w.a)().initTreeList(),await $(i.diffFilesEndpoint,i.shouldSortMetadataFiles),async function(e,t,i){const s=(null==i?void 0:i.old_path)||(null==i?void 0:i.new_path)||null;new r.default({el:e,pinia:n.a,data:()=>({linkedFilePath:s}),mounted(){var e=this;let t=function(){};t=Object(d.b)(n.a).$onAction((function({name:i}){"reloadDiffs"===i&&(e.linkedFilePath=void 0,window.history.replaceState(null,void 0,Object(y.a)(new URL(window.location))),t())}))},render(e){return e(Object(b.a)().isCompact?R:k,{props:{groupBlobsListItems:t,linkedFilePath:this.linkedFilePath},on:{clickFile(e){c.a.findByFileHash(e.fileHash).selectFile()}}})}})}(t,i.shouldSortMetadataFiles,i.linkedFileData)}var z=i("jlnU");class F extends HTMLElement{connectedCallback(){const e=Object(T.a)("Could not fetch all changes. Try reloading the page.");console.error("Failed to stream diffs: "+this.getAttribute("message")),Object(z.createAlert)({message:e})}}var H=i("xdqu");var B=i("h7kv"),N=i.n(B);var P=i("R//o"),M=i("7vfJ"),V=i("mB9M");function q(e,t){G(e,t),t.add(e)}function W(e,t,i){G(e,t),t.set(e,i)}function G(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}function U(e,t,i){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var n=i.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function K(e,t){return function(e,t){return t.get?t.get.call(e):t.value}(e,Q(t,e))}function X(e,t,i){return J(t,e),i}function Z(e,t,i){return function(e,t,i){if(t.set)t.set.call(e,i);else{if(!t.writable)throw new TypeError("attempted to set read only private field");t.value=i}}(e,Q(t,e),i),i}function Q(e,t){return e.get(J(e,t))}function J(e,t,i){if("function"==typeof e?e===t:e.has(t))return arguments.length<3?t:i;throw new TypeError("Private element is not present on this object")}var Y=new WeakMap,ee=new WeakMap,te=new WeakSet,ie=new WeakSet,ne=new WeakSet,re=new WeakSet,se=new WeakSet,oe=new WeakSet,ae=new WeakSet,le=new WeakSet,ce=new WeakMap;class ue{constructor({DiffFileImplementation:e=c.a}={}){var t;W(this,ce,{get:we,set:void 0}),q(this,le),q(this,ae),q(this,oe),q(this,se),q(this,re),q(this,ne),q(this,ie),q(this,te),U(this,"root",void 0),U(this,"appData",void 0),U(this,"intersectionObserver",void 0),U(this,"adapterConfig",M.a),W(this,Y,{writable:!0,value:void 0}),W(this,ee,{writable:!0,value:void 0}),Z(this,Y,e),Z(this,ee,(t=this,class extends HTMLElement{connectedCallback(){this.parentElement.mount(t)}})),this.root=document.querySelector("[data-rapid-diffs]")}init(){this.appData=Object(V.a)(JSON.parse(this.root.dataset.appData)),X(this,le,ve).call(this),K(this,ce)?X(this,ne,fe).call(this,!0):X(this,ie,pe).call(this),X(this,te,de).call(this),X(this,re,he).call(this),X(this,se,ge).call(this),X(this,oe,me).call(this),X(this,ae,be).call(this)}observe(e){this.intersectionObserver.observe(e)}unobserve(e){this.intersectionObserver.unobserve(e)}show(){v().appVisible=!0}hide(){v().appVisible=!1}}function de(){this.root.addEventListener("click",(function(e){const t=e.target.closest("diff-file");t&&t.onClick(e)})),this.intersectionObserver=new IntersectionObserver((function(e){e.forEach((function(e){e.isIntersecting?e.target.onVisible(e):e.target.onInvisible(e)}))}))}function pe(){const e=this.root.querySelector("[data-stream-remaining-diffs]");return e?Object(d.b)(n.a).streamRemainingDiffs(this.appData.diffsStreamUrl,e,window.gl.rapidDiffsPreload):Promise.resolve()}function fe(e){return Object(d.b)(n.a).reloadDiffs(this.appData.reloadStreamUrl,e)}function he(){window.customElements.define("diff-file",K(this,Y)),window.customElements.define("diff-file-mounted",K(this,ee)),window.customElements.define("streaming-error",F),function(e,t,i){if(!/^((?!chrome|android).)*safari/i.test(navigator.userAgent))return;new MutationObserver(N()((function(){document.querySelectorAll("diff-file-mounted:not([mounted])").forEach((function(e){e.setAttribute("mounted","true");const n=e.parentElement;n instanceof t||(Object.setPrototypeOf(n,t.prototype),Object.setPrototypeOf(e,i.prototype),Object.assign(n,new t(n)),e.connectedCallback())}))}),200,{trailing:!0})).observe(e,{attributes:!1,childList:!0,subtree:!0})}(this.root,K(this,Y),K(this,ee))}function ge(){Object(a.a)(n.a).diffsStatsEndpoint=this.appData.diffsStatsEndpoint,Object(a.a)(n.a).streamUrl=this.appData.reloadStreamUrl,Object(a.a)(n.a).loadDiffsStats().catch((function(e){Object(z.createAlert)({message:Object(T.a)("Failed to load additional diffs information. Try reloading the page."),error:e})})),h({pinia:n.a,target:this.root.querySelector("[data-view-settings]"),appData:this.appData})}function me(){D({toggleTarget:this.root.querySelector("[data-file-browser-toggle]"),browserTarget:this.root.querySelector("[data-file-browser]"),appData:this.appData}).catch((function(e){Object(z.createAlert)({message:Object(T.a)("Failed to load file browser. Try reloading the page."),error:e})}))}function be(){var e;!function(e){if(/Chrome/.test(navigator.userAgent)){parseInt(navigator.userAgent.match(/Chrome\/(\d+)/)[1],10)<138&&e.style.setProperty("--rd-content-visibility-auto","visible")}else if(/Safari/.test(navigator.userAgent)){const[,t,i]=(navigator.userAgent.match(/\/(\d+)\.(\d+) Safari/)||[]).map((function(e){return parseInt(e,10)}));t<=18&&i<=5&&e.style.setProperty("--rd-content-visibility-auto","visible")}}(this.root),e=this.root.querySelector("[data-hidden-files-warning]"),new r.default({el:e,name:"HiddenFilesWarningRoot",pinia:n.a,computed:{...Object(s.f)(a.a,["overflow","totalFilesCount"])},render(e){var t,i,n;return this.overflow?e(H.a,{props:{total:this.totalFilesCount,visible:null===(t=this.overflow)||void 0===t?void 0:t.visibleCount,plainDiffPath:null===(i=this.overflow)||void 0===i?void 0:i.diffPath,emailPatchPath:null===(n=this.overflow)||void 0===n?void 0:n.emailPath}}):null}}),this.root.addEventListener(P.a,Object(d.b)(n.a).addLoadedFile);const t=this.root.querySelector("[data-list-loading]");Object(d.b)(n.a).$subscribe((function(){t.hidden=Object(d.b)(n.a).status!==d.a.streaming}),{immediate:!0})}function ve(){if(!window.location.hash)return;const[,e,t,i]=window.location.hash.substring(1).match(/^([0-9a-f]{40})(?:_([0-9]+)_([0-9]+))?$/)||[];e&&(this.appData.legacyFileFragment={fileHash:e,oldLine:t,newLine:i})}function we(){return this.appData.lazy}},Uk5S:function(e,t,i){"use strict";const n=i("Oc4c"),r=i("xkpj"),s=i("+C/r"),o=(e="",t="",i=!1)=>{const n=[];if(e=[].concat(e),!(t=[].concat(t)).length)return e;if(!e.length)return i?s.flatten(t).map(e=>`{${e}}`):t;for(const r of e)if(Array.isArray(r))for(const e of r)n.push(o(e,t,i));else for(let e of t)!0===i&&"string"==typeof e&&(e=`{${e}}`),n.push(Array.isArray(e)?o(r,e,i):r+e);return s.flatten(n)};e.exports=(e,t={})=>{const i=void 0===t.rangeLimit?1e3:t.rangeLimit,a=(e,l={})=>{e.queue=[];let c=l,u=l.queue;for(;"brace"!==c.type&&"root"!==c.type&&c.parent;)c=c.parent,u=c.queue;if(e.invalid||e.dollar)return void u.push(o(u.pop(),r(e,t)));if("brace"===e.type&&!0!==e.invalid&&2===e.nodes.length)return void u.push(o(u.pop(),["{}"]));if(e.nodes&&e.ranges>0){const a=s.reduce(e.nodes);if(s.exceedsLimit(...a,t.step,i))throw new RangeError("expanded array length exceeds range limit. Use options.rangeLimit to increase or disable the limit.");let l=n(...a,t);return 0===l.length&&(l=r(e,t)),u.push(o(u.pop(),l)),void(e.nodes=[])}const d=s.encloseBrace(e);let p=e.queue,f=e;for(;"brace"!==f.type&&"root"!==f.type&&f.parent;)f=f.parent,p=f.queue;for(let t=0;t<e.nodes.length;t++){const i=e.nodes[t];"comma"!==i.type||"brace"!==e.type?"close"!==i.type?i.value&&"open"!==i.type?p.push(o(p.pop(),i.value)):i.nodes&&a(i,e):u.push(o(u.pop(),p,d)):(1===t&&p.push(""),p.push(""))}return p};return s.flatten(a(e))}},VEpw:function(e,t,i){"use strict";e.exports={MAX_LENGTH:1e4,CHAR_0:"0",CHAR_9:"9",CHAR_UPPERCASE_A:"A",CHAR_LOWERCASE_A:"a",CHAR_UPPERCASE_Z:"Z",CHAR_LOWERCASE_Z:"z",CHAR_LEFT_PARENTHESES:"(",CHAR_RIGHT_PARENTHESES:")",CHAR_ASTERISK:"*",CHAR_AMPERSAND:"&",CHAR_AT:"@",CHAR_BACKSLASH:"\\",CHAR_BACKTICK:"`",CHAR_CARRIAGE_RETURN:"\r",CHAR_CIRCUMFLEX_ACCENT:"^",CHAR_COLON:":",CHAR_COMMA:",",CHAR_DOLLAR:"$",CHAR_DOT:".",CHAR_DOUBLE_QUOTE:'"',CHAR_EQUAL:"=",CHAR_EXCLAMATION_MARK:"!",CHAR_FORM_FEED:"\f",CHAR_FORWARD_SLASH:"/",CHAR_HASH:"#",CHAR_HYPHEN_MINUS:"-",CHAR_LEFT_ANGLE_BRACKET:"<",CHAR_LEFT_CURLY_BRACE:"{",CHAR_LEFT_SQUARE_BRACKET:"[",CHAR_LINE_FEED:"\n",CHAR_NO_BREAK_SPACE:" ",CHAR_PERCENT:"%",CHAR_PLUS:"+",CHAR_QUESTION_MARK:"?",CHAR_RIGHT_ANGLE_BRACKET:">",CHAR_RIGHT_CURLY_BRACE:"}",CHAR_RIGHT_SQUARE_BRACKET:"]",CHAR_SEMICOLON:";",CHAR_SINGLE_QUOTE:"'",CHAR_SPACE:" ",CHAR_TAB:"\t",CHAR_UNDERSCORE:"_",CHAR_VERTICAL_LINE:"|",CHAR_ZERO_WIDTH_NOBREAK_SPACE:"\ufeff"}},WMzN:function(e,t,i){"use strict";i.d(t,"b",(function(){return o})),i.d(t,"a",(function(){return a}));var n=i("zNqO"),r=i("EXdk"),s=i("Cn4y");const o=Object(s.c)({plain:Object(s.b)(r.g,!1)},"formControls"),a=Object(n.c)({props:o,computed:{custom(){return!this.plain}}})},WWcN:function(e,t,i){(function(e){function i(e,t){for(var i=0,n=e.length-1;n>=0;n--){var r=e[n];"."===r?e.splice(n,1):".."===r?(e.splice(n,1),i++):i&&(e.splice(n,1),i--)}if(t)for(;i--;i)e.unshift("..");return e}function n(e,t){if(e.filter)return e.filter(t);for(var i=[],n=0;n<e.length;n++)t(e[n],n,e)&&i.push(e[n]);return i}t.resolve=function(){for(var t="",r=!1,s=arguments.length-1;s>=-1&&!r;s--){var o=s>=0?arguments[s]:e.cwd();if("string"!=typeof o)throw new TypeError("Arguments to path.resolve must be strings");o&&(t=o+"/"+t,r="/"===o.charAt(0))}return(r?"/":"")+(t=i(n(t.split("/"),(function(e){return!!e})),!r).join("/"))||"."},t.normalize=function(e){var s=t.isAbsolute(e),o="/"===r(e,-1);return(e=i(n(e.split("/"),(function(e){return!!e})),!s).join("/"))||s||(e="."),e&&o&&(e+="/"),(s?"/":"")+e},t.isAbsolute=function(e){return"/"===e.charAt(0)},t.join=function(){var e=Array.prototype.slice.call(arguments,0);return t.normalize(n(e,(function(e,t){if("string"!=typeof e)throw new TypeError("Arguments to path.join must be strings");return e})).join("/"))},t.relative=function(e,i){function n(e){for(var t=0;t<e.length&&""===e[t];t++);for(var i=e.length-1;i>=0&&""===e[i];i--);return t>i?[]:e.slice(t,i-t+1)}e=t.resolve(e).substr(1),i=t.resolve(i).substr(1);for(var r=n(e.split("/")),s=n(i.split("/")),o=Math.min(r.length,s.length),a=o,l=0;l<o;l++)if(r[l]!==s[l]){a=l;break}var c=[];for(l=a;l<r.length;l++)c.push("..");return(c=c.concat(s.slice(a))).join("/")},t.sep="/",t.delimiter=":",t.dirname=function(e){if("string"!=typeof e&&(e+=""),0===e.length)return".";for(var t=e.charCodeAt(0),i=47===t,n=-1,r=!0,s=e.length-1;s>=1;--s)if(47===(t=e.charCodeAt(s))){if(!r){n=s;break}}else r=!1;return-1===n?i?"/":".":i&&1===n?"/":e.slice(0,n)},t.basename=function(e,t){var i=function(e){"string"!=typeof e&&(e+="");var t,i=0,n=-1,r=!0;for(t=e.length-1;t>=0;--t)if(47===e.charCodeAt(t)){if(!r){i=t+1;break}}else-1===n&&(r=!1,n=t+1);return-1===n?"":e.slice(i,n)}(e);return t&&i.substr(-1*t.length)===t&&(i=i.substr(0,i.length-t.length)),i},t.extname=function(e){"string"!=typeof e&&(e+="");for(var t=-1,i=0,n=-1,r=!0,s=0,o=e.length-1;o>=0;--o){var a=e.charCodeAt(o);if(47!==a)-1===n&&(r=!1,n=o+1),46===a?-1===t?t=o:1!==s&&(s=1):-1!==t&&(s=-1);else if(!r){i=o+1;break}}return-1===t||-1===n||0===s||1===s&&t===n-1&&t===i+1?"":e.slice(t,n)};var r="b"==="ab".substr(-1)?function(e,t,i){return e.substr(t,i)}:function(e,t,i){return t<0&&(t=e.length+t),e.substr(t,i)}}).call(this,i("TzVV"))},"Y7R+":function(e,t){"function"==typeof Object.create?e.exports=function(e,t){e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}})}:e.exports=function(e,t){e.super_=t;var i=function(){};i.prototype=t.prototype,e.prototype=new i,e.prototype.constructor=e}},Z5sJ:function(e,t,i){"use strict";const n=i("BT9Z"),r=i("AH4o"),{MAX_LENGTH:s,POSIX_REGEX_SOURCE:o,REGEX_NON_SPECIAL_CHARS:a,REGEX_SPECIAL_CHARS_BACKREF:l,REPLACEMENTS:c}=n,u=(e,t)=>{if("function"==typeof t.expandRange)return t.expandRange(...e,t);e.sort();const i=`[${e.join("-")}]`;try{new RegExp(i)}catch(t){return e.map(e=>r.escapeRegex(e)).join("..")}return i},d=(e,t)=>`Missing ${e}: "${t}" - use "\\\\${t}" to match literal characters`,p=(e,t)=>{if("string"!=typeof e)throw new TypeError("Expected a string");e=c[e]||e;const i={...t},f="number"==typeof i.maxLength?Math.min(s,i.maxLength):s;let h=e.length;if(h>f)throw new SyntaxError(`Input length: ${h}, exceeds maximum allowed length: ${f}`);const g={type:"bos",value:"",output:i.prepend||""},m=[g],b=i.capture?"":"?:",v=r.isWindows(t),w=n.globChars(v),y=n.extglobChars(w),{DOT_LITERAL:_,PLUS_LITERAL:S,SLASH_LITERAL:x,ONE_CHAR:k,DOTS_SLASH:O,NO_DOT:C,NO_DOT_SLASH:E,NO_DOTS_SLASH:R,QMARK:j,QMARK_NO_DOT:A,STAR:T,START_ANCHOR:L}=w,I=e=>`(${b}(?:(?!${L}${e.dot?O:_}).)*?)`,$=i.dot?"":C,D=i.dot?j:A;let z=!0===i.bash?I(i):T;i.capture&&(z=`(${z})`),"boolean"==typeof i.noext&&(i.noextglob=i.noext);const F={input:e,index:-1,start:0,dot:!0===i.dot,consumed:"",output:"",prefix:"",backtrack:!1,negated:!1,brackets:0,braces:0,parens:0,quotes:0,globstar:!1,tokens:m};e=r.removePrefix(e,F),h=e.length;const H=[],B=[],N=[];let P,M=g;const V=()=>F.index===h-1,q=F.peek=(t=1)=>e[F.index+t],W=F.advance=()=>e[++F.index]||"",G=()=>e.slice(F.index+1),U=(e="",t=0)=>{F.consumed+=e,F.index+=t},K=e=>{F.output+=null!=e.output?e.output:e.value,U(e.value)},X=()=>{let e=1;for(;"!"===q()&&("("!==q(2)||"?"===q(3));)W(),F.start++,e++;return e%2!=0&&(F.negated=!0,F.start++,!0)},Z=e=>{F[e]++,N.push(e)},Q=e=>{F[e]--,N.pop()},J=e=>{if("globstar"===M.type){const t=F.braces>0&&("comma"===e.type||"brace"===e.type),i=!0===e.extglob||H.length&&("pipe"===e.type||"paren"===e.type);"slash"===e.type||"paren"===e.type||t||i||(F.output=F.output.slice(0,-M.output.length),M.type="star",M.value="*",M.output=z,F.output+=M.output)}if(H.length&&"paren"!==e.type&&(H[H.length-1].inner+=e.value),(e.value||e.output)&&K(e),M&&"text"===M.type&&"text"===e.type)return M.value+=e.value,void(M.output=(M.output||"")+e.value);e.prev=M,m.push(e),M=e},Y=(e,t)=>{const n={...y[t],conditions:1,inner:""};n.prev=M,n.parens=F.parens,n.output=F.output;const r=(i.capture?"(":"")+n.open;Z("parens"),J({type:e,value:t,output:F.output?"":k}),J({type:"paren",extglob:!0,value:W(),output:r}),H.push(n)},ee=e=>{let n,r=e.close+(i.capture?")":"");if("negate"===e.type){let s=z;if(e.inner&&e.inner.length>1&&e.inner.includes("/")&&(s=I(i)),(s!==z||V()||/^\)+$/.test(G()))&&(r=e.close=")$))"+s),e.inner.includes("*")&&(n=G())&&/^\.[^\\/.]+$/.test(n)){const i=p(n,{...t,fastpaths:!1}).output;r=e.close=`)${i})${s})`}"bos"===e.prev.type&&(F.negatedExtglob=!0)}J({type:"paren",extglob:!0,value:P,output:r}),Q("parens")};if(!1!==i.fastpaths&&!/(^[*!]|[/()[\]{}"])/.test(e)){let n=!1,s=e.replace(l,(e,t,i,r,s,o)=>"\\"===r?(n=!0,e):"?"===r?t?t+r+(s?j.repeat(s.length):""):0===o?D+(s?j.repeat(s.length):""):j.repeat(i.length):"."===r?_.repeat(i.length):"*"===r?t?t+r+(s?z:""):z:t?e:"\\"+e);return!0===n&&(s=!0===i.unescape?s.replace(/\\/g,""):s.replace(/\\+/g,e=>e.length%2==0?"\\\\":e?"\\":"")),s===e&&!0===i.contains?(F.output=e,F):(F.output=r.wrapOutput(s,F,t),F)}for(;!V();){if(P=W(),"\0"===P)continue;if("\\"===P){const e=q();if("/"===e&&!0!==i.bash)continue;if("."===e||";"===e)continue;if(!e){P+="\\",J({type:"text",value:P});continue}const t=/^\\+/.exec(G());let n=0;if(t&&t[0].length>2&&(n=t[0].length,F.index+=n,n%2!=0&&(P+="\\")),!0===i.unescape?P=W():P+=W(),0===F.brackets){J({type:"text",value:P});continue}}if(F.brackets>0&&("]"!==P||"["===M.value||"[^"===M.value)){if(!1!==i.posix&&":"===P){const e=M.value.slice(1);if(e.includes("[")&&(M.posix=!0,e.includes(":"))){const e=M.value.lastIndexOf("["),t=M.value.slice(0,e),i=M.value.slice(e+2),n=o[i];if(n){M.value=t+n,F.backtrack=!0,W(),g.output||1!==m.indexOf(M)||(g.output=k);continue}}}("["===P&&":"!==q()||"-"===P&&"]"===q())&&(P="\\"+P),"]"!==P||"["!==M.value&&"[^"!==M.value||(P="\\"+P),!0===i.posix&&"!"===P&&"["===M.value&&(P="^"),M.value+=P,K({value:P});continue}if(1===F.quotes&&'"'!==P){P=r.escapeRegex(P),M.value+=P,K({value:P});continue}if('"'===P){F.quotes=1===F.quotes?0:1,!0===i.keepQuotes&&J({type:"text",value:P});continue}if("("===P){Z("parens"),J({type:"paren",value:P});continue}if(")"===P){if(0===F.parens&&!0===i.strictBrackets)throw new SyntaxError(d("opening","("));const e=H[H.length-1];if(e&&F.parens===e.parens+1){ee(H.pop());continue}J({type:"paren",value:P,output:F.parens?")":"\\)"}),Q("parens");continue}if("["===P){if(!0!==i.nobracket&&G().includes("]"))Z("brackets");else{if(!0!==i.nobracket&&!0===i.strictBrackets)throw new SyntaxError(d("closing","]"));P="\\"+P}J({type:"bracket",value:P});continue}if("]"===P){if(!0===i.nobracket||M&&"bracket"===M.type&&1===M.value.length){J({type:"text",value:P,output:"\\"+P});continue}if(0===F.brackets){if(!0===i.strictBrackets)throw new SyntaxError(d("opening","["));J({type:"text",value:P,output:"\\"+P});continue}Q("brackets");const e=M.value.slice(1);if(!0===M.posix||"^"!==e[0]||e.includes("/")||(P="/"+P),M.value+=P,K({value:P}),!1===i.literalBrackets||r.hasRegexChars(e))continue;const t=r.escapeRegex(M.value);if(F.output=F.output.slice(0,-M.value.length),!0===i.literalBrackets){F.output+=t,M.value=t;continue}M.value=`(${b}${t}|${M.value})`,F.output+=M.value;continue}if("{"===P&&!0!==i.nobrace){Z("braces");const e={type:"brace",value:P,output:"(",outputIndex:F.output.length,tokensIndex:F.tokens.length};B.push(e),J(e);continue}if("}"===P){const e=B[B.length-1];if(!0===i.nobrace||!e){J({type:"text",value:P,output:P});continue}let t=")";if(!0===e.dots){const e=m.slice(),n=[];for(let t=e.length-1;t>=0&&(m.pop(),"brace"!==e[t].type);t--)"dots"!==e[t].type&&n.unshift(e[t].value);t=u(n,i),F.backtrack=!0}if(!0!==e.comma&&!0!==e.dots){const i=F.output.slice(0,e.outputIndex),n=F.tokens.slice(e.tokensIndex);e.value=e.output="\\{",P=t="\\}",F.output=i;for(const e of n)F.output+=e.output||e.value}J({type:"brace",value:P,output:t}),Q("braces"),B.pop();continue}if("|"===P){H.length>0&&H[H.length-1].conditions++,J({type:"text",value:P});continue}if(","===P){let e=P;const t=B[B.length-1];t&&"braces"===N[N.length-1]&&(t.comma=!0,e="|"),J({type:"comma",value:P,output:e});continue}if("/"===P){if("dot"===M.type&&F.index===F.start+1){F.start=F.index+1,F.consumed="",F.output="",m.pop(),M=g;continue}J({type:"slash",value:P,output:x});continue}if("."===P){if(F.braces>0&&"dot"===M.type){"."===M.value&&(M.output=_);const e=B[B.length-1];M.type="dots",M.output+=P,M.value+=P,e.dots=!0;continue}if(F.braces+F.parens===0&&"bos"!==M.type&&"slash"!==M.type){J({type:"text",value:P,output:_});continue}J({type:"dot",value:P,output:_});continue}if("?"===P){if(!(M&&"("===M.value)&&!0!==i.noextglob&&"("===q()&&"?"!==q(2)){Y("qmark",P);continue}if(M&&"paren"===M.type){const e=q();let t=P;if("<"===e&&!r.supportsLookbehinds())throw new Error("Node.js v10 or higher is required for regex lookbehinds");("("===M.value&&!/[!=<:]/.test(e)||"<"===e&&!/<([!=]|\w+>)/.test(G()))&&(t="\\"+P),J({type:"text",value:P,output:t});continue}if(!0!==i.dot&&("slash"===M.type||"bos"===M.type)){J({type:"qmark",value:P,output:A});continue}J({type:"qmark",value:P,output:j});continue}if("!"===P){if(!0!==i.noextglob&&"("===q()&&("?"!==q(2)||!/[!=<:]/.test(q(3)))){Y("negate",P);continue}if(!0!==i.nonegate&&0===F.index){X();continue}}if("+"===P){if(!0!==i.noextglob&&"("===q()&&"?"!==q(2)){Y("plus",P);continue}if(M&&"("===M.value||!1===i.regex){J({type:"plus",value:P,output:S});continue}if(M&&("bracket"===M.type||"paren"===M.type||"brace"===M.type)||F.parens>0){J({type:"plus",value:P});continue}J({type:"plus",value:S});continue}if("@"===P){if(!0!==i.noextglob&&"("===q()&&"?"!==q(2)){J({type:"at",extglob:!0,value:P,output:""});continue}J({type:"text",value:P});continue}if("*"!==P){"$"!==P&&"^"!==P||(P="\\"+P);const e=a.exec(G());e&&(P+=e[0],F.index+=e[0].length),J({type:"text",value:P});continue}if(M&&("globstar"===M.type||!0===M.star)){M.type="star",M.star=!0,M.value+=P,M.output=z,F.backtrack=!0,F.globstar=!0,U(P);continue}let t=G();if(!0!==i.noextglob&&/^\([^?]/.test(t)){Y("star",P);continue}if("star"===M.type){if(!0===i.noglobstar){U(P);continue}const n=M.prev,r=n.prev,s="slash"===n.type||"bos"===n.type,o=r&&("star"===r.type||"globstar"===r.type);if(!0===i.bash&&(!s||t[0]&&"/"!==t[0])){J({type:"star",value:P,output:""});continue}const a=F.braces>0&&("comma"===n.type||"brace"===n.type),l=H.length&&("pipe"===n.type||"paren"===n.type);if(!s&&"paren"!==n.type&&!a&&!l){J({type:"star",value:P,output:""});continue}for(;"/**"===t.slice(0,3);){const i=e[F.index+4];if(i&&"/"!==i)break;t=t.slice(3),U("/**",3)}if("bos"===n.type&&V()){M.type="globstar",M.value+=P,M.output=I(i),F.output=M.output,F.globstar=!0,U(P);continue}if("slash"===n.type&&"bos"!==n.prev.type&&!o&&V()){F.output=F.output.slice(0,-(n.output+M.output).length),n.output="(?:"+n.output,M.type="globstar",M.output=I(i)+(i.strictSlashes?")":"|$)"),M.value+=P,F.globstar=!0,F.output+=n.output+M.output,U(P);continue}if("slash"===n.type&&"bos"!==n.prev.type&&"/"===t[0]){const e=void 0!==t[1]?"|$":"";F.output=F.output.slice(0,-(n.output+M.output).length),n.output="(?:"+n.output,M.type="globstar",M.output=`${I(i)}${x}|${x}${e})`,M.value+=P,F.output+=n.output+M.output,F.globstar=!0,U(P+W()),J({type:"slash",value:"/",output:""});continue}if("bos"===n.type&&"/"===t[0]){M.type="globstar",M.value+=P,M.output=`(?:^|${x}|${I(i)}${x})`,F.output=M.output,F.globstar=!0,U(P+W()),J({type:"slash",value:"/",output:""});continue}F.output=F.output.slice(0,-M.output.length),M.type="globstar",M.output=I(i),M.value+=P,F.output+=M.output,F.globstar=!0,U(P);continue}const n={type:"star",value:P,output:z};!0!==i.bash?!M||"bracket"!==M.type&&"paren"!==M.type||!0!==i.regex?(F.index!==F.start&&"slash"!==M.type&&"dot"!==M.type||("dot"===M.type?(F.output+=E,M.output+=E):!0===i.dot?(F.output+=R,M.output+=R):(F.output+=$,M.output+=$),"*"!==q()&&(F.output+=k,M.output+=k)),J(n)):(n.output=P,J(n)):(n.output=".*?","bos"!==M.type&&"slash"!==M.type||(n.output=$+n.output),J(n))}for(;F.brackets>0;){if(!0===i.strictBrackets)throw new SyntaxError(d("closing","]"));F.output=r.escapeLast(F.output,"["),Q("brackets")}for(;F.parens>0;){if(!0===i.strictBrackets)throw new SyntaxError(d("closing",")"));F.output=r.escapeLast(F.output,"("),Q("parens")}for(;F.braces>0;){if(!0===i.strictBrackets)throw new SyntaxError(d("closing","}"));F.output=r.escapeLast(F.output,"{"),Q("braces")}if(!0===i.strictSlashes||"star"!==M.type&&"bracket"!==M.type||J({type:"maybe_slash",value:"",output:x+"?"}),!0===F.backtrack){F.output="";for(const e of F.tokens)F.output+=null!=e.output?e.output:e.value,e.suffix&&(F.output+=e.suffix)}return F};p.fastpaths=(e,t)=>{const i={...t},o="number"==typeof i.maxLength?Math.min(s,i.maxLength):s,a=e.length;if(a>o)throw new SyntaxError(`Input length: ${a}, exceeds maximum allowed length: ${o}`);e=c[e]||e;const l=r.isWindows(t),{DOT_LITERAL:u,SLASH_LITERAL:d,ONE_CHAR:p,DOTS_SLASH:f,NO_DOT:h,NO_DOTS:g,NO_DOTS_SLASH:m,STAR:b,START_ANCHOR:v}=n.globChars(l),w=i.dot?g:h,y=i.dot?m:h,_=i.capture?"":"?:";let S=!0===i.bash?".*?":b;i.capture&&(S=`(${S})`);const x=e=>!0===e.noglobstar?S:`(${_}(?:(?!${v}${e.dot?f:u}).)*?)`,k=e=>{switch(e){case"*":return`${w}${p}${S}`;case".*":return`${u}${p}${S}`;case"*.*":return`${w}${S}${u}${p}${S}`;case"*/*":return`${w}${S}${d}${p}${y}${S}`;case"**":return w+x(i);case"**/*":return`(?:${w}${x(i)}${d})?${y}${p}${S}`;case"**/*.*":return`(?:${w}${x(i)}${d})?${y}${S}${u}${p}${S}`;case"**/.*":return`(?:${w}${x(i)}${d})?${u}${p}${S}`;default:{const t=/^(.*?)\.(\w+)$/.exec(e);if(!t)return;const i=k(t[1]);if(!i)return;return i+u+t[2]}}},O=r.removePrefix(e,{negated:!1,prefix:""});let C=k(O);return C&&!0!==i.strictSlashes&&(C+=d+"?"),C},e.exports=p},aQVE:function(e,t,i){"use strict";var n=i("CbCZ"),r=i("4Fqu"),s=i("zIFf"),o=i("93nq"),a=i("LZPs"),l=i("4Qts"),c=i("/lV4"),u=i("pIt4"),d={i18n:i("Kuu+").l,toggleId:"js-show-diff-settings",components:{GlCollapsibleListbox:o.a,GlFormCheckbox:a.a,GlTooltip:l.a},props:{showWhitespace:{type:Boolean,required:!0},diffViewType:{type:String,required:!0},viewDiffsFileByFile:{type:Boolean,required:!1,default:!1},fileByFileSupported:{type:Boolean,required:!1,default:!0}},methods:{tooltipTarget(){return document.querySelector("."+this.$options.toggleId)}},diffViewTypeOptions:[{text:Object(c.a)("Side-by-side"),value:u.bb},{text:Object(c.a)("Inline"),value:u.K}]},p=i("tBpV"),f=Object(p.a)(d,(function(){var e=this,t=e._self._c;return t("div",[t("gl-collapsible-listbox",{attrs:{selected:e.diffViewType,"toggle-class":e.$options.toggleId,icon:"preferences",text:e.$options.i18n.preferences,"text-sr-only":"","aria-label":e.$options.i18n.preferences,"header-text":e.__("Compare changes"),items:e.$options.diffViewTypeOptions,placement:"bottom-end"},on:{select:function(t){return e.$emit("updateDiffViewType",t)}},scopedSlots:e._u([{key:"footer",fn:function(){return[t("div",{staticClass:"gl-border-t gl-px-4 gl-pb-2 gl-pt-4"},[t("gl-form-checkbox",{staticClass:"gl-mb-2",attrs:{"data-testid":"show-whitespace",checked:e.showWhitespace},on:{input:function(t){return e.$emit("toggleWhitespace",t)}}},[e._v("\n          "+e._s(e.$options.i18n.whitespace)+"\n        ")]),e._v(" "),e.fileByFileSupported?t("gl-form-checkbox",{staticClass:"gl-mb-0",attrs:{"data-testid":"file-by-file",checked:e.viewDiffsFileByFile},on:{input:function(t){return e.$emit("toggleFileByFile",t)}}},[e._v("\n          "+e._s(e.$options.i18n.fileByFile)+"\n        ")]):e._e()],1)]},proxy:!0}])}),e._v(" "),t("gl-tooltip",{attrs:{target:e.tooltipTarget,triggers:"hover"}},[e._v("\n    "+e._s(e.$options.i18n.preferences)+"\n  ")])],1)}),[],!1,null,null,null).exports,h=i("l+kv"),g=i("D+x4"),m=i("d08M"),b=i("O6Bj");const v=function(e){return`<kbd class="flat gl-ml-1" aria-hidden=true>${e}</kbd>`};var w={name:"DiffAppControls",components:{DiffStats:h.a,SettingsDropdown:f,GlButton:n.a,GlButtonGroup:r.a},directives:{glTooltip:s.a},props:{hasChanges:{type:Boolean,required:!0},diffsCount:{type:[String,Number],default:"",required:!1},addedLines:{type:Number,required:!1,default:null},removedLines:{type:Number,required:!1,default:null},showWhitespace:{type:Boolean,required:!0},diffViewType:{type:String,required:!0},viewDiffsFileByFile:{type:Boolean,required:!0},isLoading:{type:Boolean,required:!1,default:!1},fileByFileSupported:{type:Boolean,required:!1,default:!0},hideOnNarrowScreen:{type:Boolean,required:!1,default:!0}},computed:{expandButtonInfo(){const e=Object(m.Gb)(m.X);return{title:m.X.description,keys:e,tooltip:Object(g.b)(`${m.X.description} ${v(e[0])}`)}},collapseButtonInfo(){const e=Object(m.Gb)(m.T);return{title:m.T.description,keys:e,tooltip:Object(g.b)(`${m.T.description} ${v(e[0])}`)}}},mounted(){b.b.bind(this.expandButtonInfo.keys,this.expandAllFiles),b.b.bind(this.collapseButtonInfo.keys,this.collapseAllFiles)},beforeDestroy(){b.b.unbind(this.expandButtonInfo.keys,this.expandAllFiles),b.b.unbind(this.collapseButtonInfo.keys,this.collapseAllFiles)},methods:{expandAllFiles(){this.isLoading||this.$emit("expandAllFiles")},collapseAllFiles(){this.isLoading||this.$emit("collapseAllFiles")}}},y=Object(p.a)(w,(function(){var e=this,t=e._self._c;return t("div",{staticClass:"gl-items-center",class:e.hideOnNarrowScreen?"gl-hidden @md/panel:gl-flex":"gl-flex"},[e.hasChanges?[""!==e.diffsCount?t("diff-stats",{staticClass:"inline-parallel-buttons !gl-ml-auto",attrs:{"diffs-count":e.diffsCount,"added-lines":e.addedLines,"removed-lines":e.removedLines,"hide-on-narrow-screen":e.hideOnNarrowScreen}}):e._e(),e._v(" "),t("gl-button-group",{staticClass:"gl-mr-3"},[t("gl-button",{directives:[{name:"gl-tooltip",rawName:"v-gl-tooltip.html",value:e.expandButtonInfo.tooltip,expression:"expandButtonInfo.tooltip",modifiers:{html:!0}}],attrs:{icon:"expand",variant:"default","aria-label":e.expandButtonInfo.title,"aria-keyshortcuts":e.expandButtonInfo.keys[0],disabled:e.isLoading},on:{click:function(t){return e.$emit("expandAllFiles")}}}),e._v(" "),t("gl-button",{directives:[{name:"gl-tooltip",rawName:"v-gl-tooltip.html",value:e.collapseButtonInfo.tooltip,expression:"collapseButtonInfo.tooltip",modifiers:{html:!0}}],attrs:{icon:"collapse",variant:"default","aria-label":e.collapseButtonInfo.title,"aria-keyshortcuts":e.collapseButtonInfo.keys[0],disabled:e.isLoading},on:{click:function(t){return e.$emit("collapseAllFiles")}}})],1)]:e._e(),e._v(" "),t("settings-dropdown",{attrs:{"show-whitespace":e.showWhitespace,"view-diffs-file-by-file":e.viewDiffsFileByFile,"diff-view-type":e.diffViewType,"file-by-file-supported":e.fileByFileSupported},on:{updateDiffViewType:function(t){return e.$emit("updateDiffViewType",t)},toggleWhitespace:function(t){return e.$emit("toggleWhitespace",t)},toggleFileByFile:function(t){return e.$emit("toggleFileByFile",t)}}})],2)}),[],!1,null,null,null);t.a=y.exports},as5i:function(e,t){e.exports=function(e){return e&&"object"==typeof e&&"function"==typeof e.copy&&"function"==typeof e.fill&&"function"==typeof e.readUInt8}},b9Pe:function(e,t,i){"use strict";i.d(t,"a",(function(){return o}));var n=i("8T/f"),r=i("ewH8"),s=i("ww+U");const o=Object(n.c)("mainContainerStore",(function(){const e=Object(r.ref)(s.a.getBreakpointSize()),t=Object(r.computed)((function(){return["xs","sm"].includes(e.value)})),i=Object(r.computed)((function(){return["md","lg"].includes(e.value)})),n=Object(r.computed)((function(){return"xl"===e.value}));return s.a.addResizeListener((function(){e.value=s.a.getBreakpointSize()})),{isCompact:t,isIntermediate:i,isWide:n,_setCurrentBreakpoint:function(t){e.value=t}}}))},bAQ8:function(e,t,i){(e.exports=i("VNgF")(!1)).push([e.i,"\n.vue-recycle-scroller {\n  position: relative;\n}\n.vue-recycle-scroller.direction-vertical:not(.page-mode) {\n  overflow-y: auto;\n}\n.vue-recycle-scroller.direction-horizontal:not(.page-mode) {\n  overflow-x: auto;\n}\n.vue-recycle-scroller.direction-horizontal {\n  display: flex;\n}\n.vue-recycle-scroller__slot {\n  flex: auto 0 0;\n}\n.vue-recycle-scroller__item-wrapper {\n  flex: 1;\n  box-sizing: border-box;\n  overflow: hidden;\n  position: relative;\n}\n.vue-recycle-scroller.ready .vue-recycle-scroller__item-view {\n  position: absolute;\n  top: 0;\n  left: 0;\n}\n.will-change-transform {\n  will-change: transform;\n}\n.vue-recycle-scroller.direction-vertical .vue-recycle-scroller__item-wrapper {\n  width: 100%;\n}\n.vue-recycle-scroller.direction-horizontal .vue-recycle-scroller__item-wrapper {\n  height: 100%;\n}\n.vue-recycle-scroller.ready.direction-vertical .vue-recycle-scroller__item-view {\n  width: 100%;\n}\n.vue-recycle-scroller.ready.direction-horizontal .vue-recycle-scroller__item-view {\n  height: 100%;\n}\n",""])},dDJM:function(e,t,i){"use strict";i.r(t),i.d(t,"MOUNTED",(function(){return n})),i.d(t,"CLICK",(function(){return r})),i.d(t,"VISIBLE",(function(){return s})),i.d(t,"INVISIBLE",(function(){return o})),i.d(t,"EXPAND_FILE",(function(){return a})),i.d(t,"COLLAPSE_FILE",(function(){return l})),i.d(t,"EXPANDED_LINES",(function(){return c}));const n="MOUNTED",r="CLICK",s="VISIBLE",o="INVISIBLE",a="EXPAND_FILE",l="COLLAPSE_FILE",c="EXPANDED_LINES"},dJ5R:function(e,t,i){"use strict";i.d(t,"a",(function(){return u}));i("ZzK0"),i("z6RN"),i("BzOf"),i("UezY"),i("hG7+"),i("RFHG"),i("xuo1"),i("aFm2"),i("R9qC"),i("v2fZ"),i("B++/"),i("47t/");var n=i("8T/f"),r=i("NmEs"),s=i("pIt4"),o=i("j0ia");i("3UXl"),i("iyoE");const a=function(e){return e.map((function(e){return Object.assign(e,{tree:e.tree.length?a(e.tree):[]})}))},l=function(e,t="name"){return e.map((function(e){return Object.assign(e,{tree:e.tree.length?l(e.tree,t):[]})})).sort(function(e){return function(t,i){return"tree"===t.type&&"blob"===i.type?-1:"blob"===t.type&&"tree"===i.type?1:t[e]<i[e]?-1:t[e]>i[e]?1:0}}(t))},c=function(e){const t=function(e){return e.reduce((function(e,i){const n=i;let r=n.tree;if(i.type===s.Eb&&1===i.tree.length){const{treeAcc:e,path:o}=function(e){const t=function(e,i=[]){return e.tree.reduce((function(e,i){const n=1===i.tree.length&&i.tree[0].type===s.Eb,r=i.type===s.Eb,o=n||r?e.path.concat(i.name):e.path,a=n||r?e.tree.concat(i):e.tree;if(n){const e=t(i);o.push(...e.path),a.push(...e.tree)}return{...e,path:o,tree:a}}),{path:i,tree:[]})},{path:i,tree:n}=t(e,[e.name]);return{path:i.join("/"),treeAcc:n.length?n[n.length-1].tree:null}}(i);e&&(n.name=o,r=t(e))}return n.tree=t(r),e.concat(n)}),[])};return t(e)},u=Object(n.c)("fileBrowser",{state:()=>({tree:[],treeEntries:null,isLoadingFileBrowser:!0,renderTreeList:!0,fileBrowserVisible:!0,fileBrowserDrawerVisible:!1}),actions:{setTreeData(e,t=!0){const{treeEntries:i,tree:n}=function(e){const{treeEntries:t,tree:i}=e.reduce((function(e,t){const i=t.new_path.split("/");return i.forEach((function(n,r){let s=e.treeEntries[i.slice(0,r).join("/")];const o=`${s?s.path+"/":""}${n}`,a=e.treeEntries[o];if(s&&!s.tree&&(s=null),!a||!a.tree){const i=o===t.new_path?"blob":"tree";e.treeEntries[o]={key:o,path:o,name:n,type:i,tree:[]};const r=e.treeEntries[o];"blob"===i?Object.assign(r,{changed:!0,diffLoaded:!1,diffLoading:!1,filePaths:{old:t.old_path,new:t.new_path},tempFile:t.new_file,deleted:t.deleted_file,fileHash:t.file_hash,codeReviewId:t.code_review_id,addedLines:t.added_lines,removedLines:t.removed_lines,parentPath:s?s.path+"/":"/",submodule:t.submodule,href:t.href}):Object.assign(r,{opened:!0}),(s?s.tree:e.tree).push(r)}})),e}),{treeEntries:{},tree:[]});return{treeEntries:t,tree:c(i)}}(e);this.treeEntries=i,this.tree=t?l(n,"key"):a(n),this.isLoadingFileBrowser=!1},setTreeOpen(e,t){this.treeEntries[e].opened=t},toggleTreeOpen(e){this.treeEntries[e].opened=!this.treeEntries[e].opened},markTreeEntriesLoaded(e){var t=this;this.treeEntries&&e.forEach((function(e){const i=t.treeEntries[e.new_path];i&&(i.diffLoaded=!0,i.diffLoading=!1)}))},setTreeEntryDiffLoading(e,t=!0){this.treeEntries&&(this.treeEntries[e].diffLoading=t)},initTreeList(){const e=localStorage.getItem(s.Cb);e&&(this.renderTreeList=Object(r.G)(e))},setRenderTreeList(e){this.renderTreeList=e,localStorage.setItem(s.Cb,e),Object(o.a)([s.mb,e?s.sb:s.rb])},setFileBrowserVisibility(e){this.fileBrowserVisible=e},setFileBrowserDrawerVisibility(e){this.fileBrowserDrawerVisible=e},toggleFileBrowserDrawerVisibility(){this.fileBrowserDrawerVisible=!this.fileBrowserDrawerVisible},toggleFileBrowserVisibility(){this.fileBrowserVisible=!this.fileBrowserVisible,Object(r.N)(s.F,this.fileBrowserVisible)},initFileBrowserVisibility(){const e=Object(r.j)(s.F);e&&(this.fileBrowserVisible=Object(r.G)(e))}},getters:{flatBlobsList(){return Object.values(this.treeEntries||{}).filter((function(e){return"blob"===e.type}))},allBlobs(){return this.flatBlobsList.reduce((function(e,t){const{parentPath:i}=t;return i&&!e.some((function(e){return e.path===i}))&&e.push({path:i,isHeader:!0,tree:[]}),e.find((function(e){return e.path===i})).tree.push(t),e}),[])}}})},"f4g/":function(e,t,i){(e.exports=i("VNgF")(!1)).push([e.i,"\n.file-browser-toggle-tooltip .tooltip-inner {\n  max-width: 210px;\n}\n",""])},f8Rl:function(e,t,i){"use strict";i("v2fZ");var n={props:{startSize:{type:Number,required:!0},side:{type:String,required:!0},minSize:{type:Number,required:!1,default:0},maxSize:{type:Number,required:!1,default:Number.MAX_VALUE},enabled:{type:Boolean,required:!1,default:!0},customClass:{type:String,required:!1,default:""}},data(){return{size:this.startSize,isDragging:!1}},computed:{className(){const e=[`position-${this.side}-0`,{"is-dragging":this.isDragging}];return this.customClass&&e.push(this.customClass),e},cursorStyle(){return this.enabled?{cursor:"ew-resize"}:{}}},watch:{startSize(e){this.size=e}},methods:{resetSize(e){var t=this;e.preventDefault(),this.$emit("resize-start",this.size),this.size=this.startSize,this.$emit("update:size",this.size),this.$emit("reset-size"),this.$nextTick((function(){t.$emit("resize-end",t.size)}))},startDrag(e){this.enabled&&(e.preventDefault(),this.isDragging=!0,this.startPos=e.clientX,this.currentStartSize=this.size,document.addEventListener("mousemove",this.drag),document.addEventListener("mouseup",this.endDrag,{once:!0}),this.$emit("resize-start",this.size))},drag(e){e.preventDefault();let t=e.clientX-this.startPos;"left"===this.side&&(t=-t);let i=this.currentStartSize+t;i<this.minSize?i=this.minSize:i>this.maxSize&&(i=this.maxSize),this.size=i,this.$emit("update:size",i)},endDrag(e){e.preventDefault(),this.isDragging=!1,document.removeEventListener("mousemove",this.drag),this.$emit("resize-end",this.size)}}},r=i("tBpV"),s=Object(r.a)(n,(function(){return(0,this._self._c)("div",{staticClass:"position-top-0 position-bottom-0 drag-handle !gl-absolute",class:this.className,style:this.cursorStyle,on:{mousedown:this.startDrag,dblclick:this.resetSize}},[this._t("thumbnail")],2)}),[],!1,null,null,null);t.a=s.exports},gwU4:function(e,t,i){"use strict";i("v2fZ");var n=i("sGwS"),r=i("SsIm"),s={name:"DynamicScroller",components:{RecycleScroller:n.a},inheritAttrs:!1,provide(){return"undefined"!=typeof ResizeObserver&&(this.$_resizeObserver=new ResizeObserver((function(e){requestAnimationFrame((function(){for(const t of e)if(t.target){const e=new CustomEvent("resize",{detail:{contentRect:t.contentRect}});t.target.dispatchEvent(e)}}))}))),{vscrollData:this.vscrollData,vscrollParent:this,vscrollResizeObserver:this.$_resizeObserver}},props:{...r.a,minItemSize:{type:[Number,String],required:!0}},data(){return{vscrollData:{active:!0,sizes:{},validSizes:{},keyField:this.keyField,simpleArray:!1}}},computed:{simpleArray:r.b,itemsWithSize(){const e=[],{items:t,keyField:i,simpleArray:n}=this,r=this.vscrollData.sizes;for(let s=0;s<t.length;s++){const o=t[s],a=n?s:o[i];let l=r[a];void 0!==l||this.$_undefinedMap[a]||(l=0),e.push({item:o,id:a,size:l})}return e},listeners(){const e={};for(const t in this.$listeners)"resize"!==t&&"visible"!==t&&(e[t]=this.$listeners[t]);return e}},watch:{items(){this.forceUpdate(!1)},simpleArray:{handler(e){this.vscrollData.simpleArray=e},immediate:!0},direction(e){this.forceUpdate(!0)}},created(){this.$_updates=[],this.$_undefinedSizes=0,this.$_undefinedMap={}},activated(){this.vscrollData.active=!0},deactivated(){this.vscrollData.active=!1},methods:{onScrollerResize(){this.$refs.scroller&&this.forceUpdate(),this.$emit("resize")},onScrollerVisible(){this.$emit("vscroll:update",{force:!1}),this.$emit("visible")},forceUpdate(e=!0){(e||this.simpleArray)&&(this.vscrollData.validSizes={}),this.$emit("vscroll:update",{force:!0})},scrollToItem(e){const t=this.$refs.scroller;t&&t.scrollToItem(e)},getItemSize(e,t){const i=this.simpleArray?null!=t?t:this.items.indexOf(e):e[this.keyField];return this.vscrollData.sizes[i]||0},scrollToBottom(){var e=this;if(this.$_scrollingToBottom)return;this.$_scrollingToBottom=!0;const t=this.$el;this.$nextTick((function(){t.scrollTop=t.scrollHeight+5e3;const i=function(){t.scrollTop=t.scrollHeight+5e3,requestAnimationFrame((function(){t.scrollTop=t.scrollHeight+5e3,0===e.$_undefinedSizes?e.$_scrollingToBottom=!1:requestAnimationFrame(i)}))};requestAnimationFrame(i)}))}}},o=i("tBpV"),a=Object(o.a)(s,(function(){var e=this;return(0,e._self._c)("RecycleScroller",e._g(e._b({ref:"scroller",attrs:{items:e.itemsWithSize,"min-item-size":e.minItemSize,direction:e.direction,"key-field":"id"},on:{resize:e.onScrollerResize,visible:e.onScrollerVisible},scopedSlots:e._u([{key:"default",fn:function({item:t,index:i,active:n}){return[e._t("default",null,null,{item:t.item,index:i,active:n,itemWithSize:t})]}},{key:"before",fn:function(){return[e._t("before")]},proxy:!0},{key:"after",fn:function(){return[e._t("after")]},proxy:!0}],null,!0)},"RecycleScroller",e.$attrs,!1),e.listeners))}),[],!1,null,null,null);t.a=a.exports},"i+zY":function(e,t,i){"use strict";i.d(t,"a",(function(){return s}));i("byxs");var n=i("ewH8"),r=i("vgzk");const s={[i("dDJM").MOUNTED](){const e=JSON.parse(this.diffElement.querySelector("[data-image-data]").dataset.imageData);new n.default({el:this.diffElement.querySelector("[data-image-view]"),name:"ImageViewerRoot",render:t=>t(r.a,{props:{imageData:e}})})}}},i5Bj:function(e,t,i){"use strict";i.d(t,"a",(function(){return u})),i.d(t,"b",(function(){return d}));var n=i("Tmea"),r=i.n(n),s=(i("3UXl"),i("iyoE"),i("8T/f")),o=i("CXfw"),a=i("D2+a"),l=i("rAS2"),c=i("lnTC");const u={idle:"idle",fetching:"fetching",error:"error",streaming:"streaming"},d=Object(s.c)("diffsList",{state:()=>({status:u.idle,loadingController:void 0,loadedFiles:{}}),actions:{withDebouncedAbortController:r()((async function(e){var t,i;null===(t=this.loadingController)||void 0===t||null===(i=t.abort)||void 0===i||i.call(t),this.loadingController=new AbortController;try{await e(this.loadingController)}catch(e){if("AbortError"!==e.name)throw this.status=u.error,e}finally{this.loadingController=void 0}}),500,{leading:!0}),addLoadedFile({target:e}){this.status!==u.fetching&&(this.loadedFiles={...this.loadedFiles,[e.id]:!0})},fillInLoadedFiles(){this.loadedFiles=Object.fromEntries(l.a.getAll().map((function(e){return[e.id,!0]})))},async renderDiffsStream(e,t,i){this.status=u.streaming,await Object(o.a)([e],t,{signal:i}),this.status=u.idle},streamRemainingDiffs(e,t,i){var n=this;return this.withDebouncedAbortController((async function({signal:r}){let s;n.status=u.fetching;let o=r;if(i){const{controller:e,streamRequest:t}=i;n.loadingController=e,s=t,o=e.signal}else s=fetch(e,{signal:r});const{body:l}=await s;await n.renderDiffsStream(Object(a.a)(l),t,o),Object(c.a)({mark:"rapid-diffs-list-loaded",measures:[{name:"rapid-diffs-list-loading",start:"rapid-diffs-first-diff-file-shown",end:"rapid-diffs-list-loaded"}]})}))},reloadDiffs(e,t=!1){var i=this;return this.withDebouncedAbortController((async function({signal:n}){const r=document.querySelector("[data-diffs-list]"),s=document.querySelector("[data-diffs-overlay]");t||(s.dataset.loading="true"),i.loadedFiles={},i.status=u.fetching;const{body:o}=await fetch(e,{signal:n});r.innerHTML="",delete s.dataset.loading,await i.renderDiffsStream(Object(a.a)(o),r,n)}))}},getters:{isEmpty(){return this.status===u.idle&&0===Object.keys(this.loadedFiles).length},isLoading(){return this.status!==u.idle&&this.status!==u.error}}})},iXec:function(e,t,i){"use strict";var n=i("Tmea"),r=i.n(n),s=i("f8Rl"),o=i("NmEs"),a=i("ww+U"),l=i("ocPS"),c=i("AjeD"),u=i("pIt4"),d=(i("RFHG"),i("z6RN"),i("xuo1"),i("UezY"),i("hG7+"),i("3UXl"),i("iyoE"),i("v2fZ"),i("ZzK0"),i("BzOf"),i("B++/"),i("47t/"),i("Jh6P"),i("zIFf")),p=i("9/Bc"),f=i("4Fqu"),h=i("CbCZ"),g=i("1I5c"),m=i("8T/f"),b=i("m0QX"),v=i.n(b),w=i("/lV4"),y=i("IwOe"),_=i("d08M"),S=i("MCsT"),x=i("dJ5R"),k=i("OIsX"),O={props:{file:{type:Object,required:!0}},computed:{addedLinesLabel(){return Object(w.h)("%d line added","%d lines added",this.file.addedLines)},removedLinesLabel(){return Object(w.h)("%d line removed","%d lines removed",this.file.removedLines)}}},C=i("LPAU"),E=i.n(C),R=i("OBE7"),j=i.n(R),A={insert:"head",singleton:!1},T=(E()(j.a,A),j.a.locals,i("tBpV")),L=Object(T.a)(O,(function(){var e=this,t=e._self._c;return t("span",{staticClass:"file-row-stats"},[t("span",{staticClass:"gl-text-success",attrs:{"data-testid":"file-added-lines","aria-label":e.addedLinesLabel}},[e._v("\n    +"+e._s(e.file.addedLines)+"\n  ")]),e._v(" "),t("span",{staticClass:"gl-text-danger",attrs:{"data-testid":"file-removed-lines","aria-label":e.removedLinesLabel}},[e._v("\n    -"+e._s(e.file.removedLines)+"\n  ")])])}),[],!1,null,null,null).exports,I=i("rOrh"),$={name:"TreeList",directives:{GlTooltip:d.a},components:{ChangedFileIcon:I.a,FileRowStats:L,GlBadge:p.a,GlButtonGroup:f.a,GlButton:h.a,FileRow:k.a,RecycleScroller:y.d,GlSearchBoxByType:g.a},props:{hideFileStats:{type:Boolean,required:!0},loadedFiles:{type:Object,required:!1,default:null},totalFilesCount:{type:[Number,String],default:void 0,required:!1},rowHeight:{type:Number,required:!0},groupBlobsListItems:{type:Boolean,required:!1,default:!0},currentDiffFileId:{type:String,required:!1,default:null},linkedFilePath:{type:String,required:!1,default:null}},data:()=>({search:""}),computed:{...Object(m.f)(x.a,["renderTreeList","tree","allBlobs","flatBlobsList"]),...Object(m.f)(S.a,["reviewedIds"]),flatUngroupedList(){var e=this;return this.flatBlobsList.reduce((function(t,i,n){const r=e.isLoading(i.fileHash),s=t.length,o=t[s-1],a=null!=o&&o.isHeader?t[s-2]:o;if((null==a?void 0:a.parentPath)===i.parentPath)return[...t,{...i,loading:r,level:1}];const l={key:"header-"+n,path:i.parentPath,isHeader:!0,tree:[],level:0};return[...t,l,{...i,loading:r,level:1}]}),[])},filteredTreeList(){let e=this.search.toLowerCase().trim();if(""===e)return this.renderTreeList?this.tree:this.allBlobs;const t=e.split(",").filter((function(e){return e}));return t.length>1?e=`(${t.map((function(e){return e.replace(/(^ +| +$)/g,"")})).join("|")})`:[e]=t,this.allBlobs.reduce((function(t,i){const n=i.tree.filter((function(t){return v.a.contains(t.path,e,{nocase:!0})}));return n.length?t.concat({...i,tree:n}):t}),[])},flatFilteredTreeList(){var e=this;const t=[],i=function(n,r){return function(s){var o;const a="tree"===s.type,l=!a&&!s.isHeader&&e.isLoading(s.fileHash);t.push({...s,hidden:r,level:s.isHeader?0:n,key:s.key||s.path,loading:l,active:s.fileHash===e.currentDiffFileId,viewed:null!==(o=e.reviewedIds[s.codeReviewId])&&void 0!==o?o:e.reviewedIds[s.id]});const c=r||a&&!s.opened;s.tree.forEach(i(n+1,c))}};return this.filteredTreeList.forEach(i(0)),t},flatListWithLinkedFile(){var e=this;const t=[...this.flatFilteredTreeList],i=t.findIndex((function(t){return t.path===e.linkedFilePath})),[n]=t.splice(i,1);if("/"===n.parentPath)return[{...n,level:0,linked:!0,hidden:!1},...t];const r=t[i],s=t[i-1],o=s&&"tree"===s.type&&s.level===n.level-1,a=r&&"tree"!==r.type&&r.level===n.level;return o&&!a&&t.splice(i-1,1),[{level:0,key:"linked-path",isHeader:!0,opened:!0,path:n.parentPath,type:"tree",hidden:!1},{...n,level:1,linked:!0,hidden:!1},...t]},treeList(){if(!this.renderTreeList&&!this.groupBlobsListItems&&!this.search)return this.flatUngroupedList;const e=this.linkedFilePath?this.flatListWithLinkedFile:this.flatFilteredTreeList;return this.search?e:e.filter((function(e){return!e.hidden}))}},watch:{currentDiffFileId:{async handler(e){e&&(this.openFileTree(e),await this.$nextTick(),this.showSelectedItem(e))},immediate:!0}},methods:{...Object(m.e)(x.a,["setRenderTreeList","setTreeOpen"]),showSelectedItem(e){var t=this;setTimeout((function(){const i=t.$el.querySelector(`[data-file-row="${e}"]`);if(i)Object(o.s)(i,t.$refs.scroller.$el)&&i.scrollIntoView({block:"nearest",behavior:"instant"});else{if(!t.$refs.scroller)return;t.$refs.scroller.scrollToItem(t.treeList.findIndex((function(t){return t.fileHash===e})))}}),20)},openFileTree(e){var t=this;const i=this.flatFilteredTreeList.find((function(t){return t.fileHash===e}));i&&i.path.split("/").slice(0,-1).reduce((function(e,t){return[...e,e.length?`${e.at(-1)}/${t}`:t]}),[]).forEach((function(e){return t.setTreeOpen(e,!0)}))},isLoading(e){return this.loadedFiles&&!this.loadedFiles[e]}},searchPlaceholder:Object(w.j)(Object(w.i)("MergeRequest|Search (e.g. *.vue) (%{SHORTCUT})"),{SHORTCUT:_.Y.defaultKeys[0].toUpperCase()})},D=i("4Gq2"),z=i.n(D),F={insert:"head",singleton:!1},H=(E()(z.a,F),z.a.locals,Object(T.a)($,(function(){var e=this,t=e._self._c;return t("section",{staticClass:"tree-list-holder gl-flex gl-flex-col",attrs:{"data-testid":"file-tree-container","aria-labelledby":"tree-list-title"}},[t("div",{staticClass:"gl-mb-3 gl-flex gl-items-center"},[t("h2",{staticClass:"gl-my-0 gl-inline-block gl-text-base",attrs:{id:"tree-list-title","aria-label":e.__("File browser")}},[e._v("\n      "+e._s(e.__("Files"))+"\n    ")]),e._v(" "),null!=e.totalFilesCount?t("gl-badge",{staticClass:"gl-ml-2",attrs:{"data-testid":"file-count","aria-hidden":"true"}},[e._v(e._s(e.totalFilesCount))]):e._e(),e._v(" "),t("gl-button-group",{staticClass:"gl-ml-auto"},[t("gl-button",{directives:[{name:"gl-tooltip",rawName:"v-gl-tooltip.hover",modifiers:{hover:!0}}],attrs:{icon:"list-bulleted",selected:!e.renderTreeList,title:e.__("List view"),"aria-label":e.__("List view"),"data-testid":"list-view-toggle"},on:{click:function(t){return e.setRenderTreeList(!1)}}}),e._v(" "),t("gl-button",{directives:[{name:"gl-tooltip",rawName:"v-gl-tooltip.hover",modifiers:{hover:!0}}],attrs:{icon:"file-tree",selected:e.renderTreeList,title:e.__("Tree view"),"aria-label":e.__("Tree view"),"data-testid":"tree-view-toggle"},on:{click:function(t){return e.setRenderTreeList(!0)}}})],1)],1),e._v(" "),t("gl-search-box-by-type",{staticClass:"gl-mb-3",attrs:{id:"diff-tree-search",placeholder:e.$options.searchPlaceholder,name:"diff-tree-search","data-testid":"diff-tree-search","clear-button-title":e.__("Clear search")},model:{value:e.search,callback:function(t){e.search=t},expression:"search"}}),e._v(" "),e.treeList.length?t("nav",{staticClass:"mr-tree-list",class:{"tree-list-blobs":!e.renderTreeList||e.search},attrs:{"aria-label":e.__("File tree")}},[e.treeList.length?t("recycle-scroller",{ref:"scroller",attrs:{items:e.treeList,"item-size":e.rowHeight,buffer:100,"key-field":"key","data-testid":"tree-list-scroll"},scopedSlots:e._u([{key:"default",fn:function({item:i}){return[t("file-row",{staticClass:"diff-file-row gl-relative",class:{"tree-list-parent":i.level>0,"is-active":i.active,"is-loading":i.loading},attrs:{file:i,level:i.level,tabindex:i.loading?-1:0,"bold-text":"blob"===i.type&&!i.viewed,"data-file-row":i.fileHash},on:{clickTree:function(t){return e.$emit("toggleFolder",i.path)},clickFile:function(t){!i.loading&&e.$emit("clickFile",i)},clickSubmodule:function(t){!i.loading&&e.$emit("clickFile",i)}}},[e.hideFileStats||"blob"!==i.type?e._e():t("file-row-stats",{staticClass:"gl-mr-2",attrs:{file:i}}),e._v(" "),t("changed-file-icon",{attrs:{file:i,size:16,"show-tooltip":!0,"as-button":!1}})],1)]}},{key:"after",fn:function(){return[t("div",{staticClass:"tree-list-gutter"})]},proxy:!0}],null,!1,2740522480)}):e._e()],1):e._e(),e._v(" "),t("div",{attrs:{role:"status"}},[e.treeList.length?e._e():t("p",{staticClass:"gl-my-3"},[e._v("\n      "+e._s(e.s__("MergeRequest|No files found"))+"\n    ")])])],1)}),[],!1,null,null,null).exports),B={name:"DiffsFileTree",components:{FileBrowserHeight:l.a,TreeList:H,PanelResizer:s.a},minTreeWidth:u.U,maxTreeWidth:window.innerWidth/2,props:{loadedFiles:{type:Object,required:!1,default:null},floatingResize:{type:Boolean,required:!1,default:!1},totalFilesCount:{type:[Number,String],default:void 0,required:!1},groupBlobsListItems:{type:Boolean,required:!1,default:!0},currentDiffFileId:{type:String,required:!1,default:null},linkedFilePath:{type:String,required:!1,default:null}},data:()=>({treeWidth:u.I,rowHeight:0,floating:!1,newWidth:0,cachedHeight:0,cachedTop:0,viewportTop:0,isNarrowScreen:!1}),computed:{hideFileStats(){return this.treeWidth<=u.Bb},applyNewWidthDebounced(){return r()(this.applyNewWidth,250)},floatingWrapperStyles(){if(this.floating)return{height:this.cachedHeight+"px",width:this.newWidth+"px",top:this.cachedTop+"px"}}},watch:{newWidth(){this.applyNewWidthDebounced()}},created(){this.restoreTreeWidthUserPreference()},mounted(){const e=Object(c.a)(this.$refs.root.$el);e&&(this.viewportTop=e.getBoundingClientRect().top);const t=getComputedStyle(this.$refs.root.$el);this.rowHeight=parseInt(t.getPropertyValue("--file-row-height"),10),this.updateIsNarrowScreen(),a.a.addBreakpointListener(this.updateIsNarrowScreen)},beforeDestroy(){a.a.removeBreakpointListener(this.updateIsNarrowScreen)},methods:{restoreTreeWidthUserPreference(){const e=Object(o.j)(u.Db)||localStorage.getItem(u.Db);e&&(this.treeWidth=parseInt(e,10))},onFileClick(e){this.$emit("clickFile",e)},onResizeStart(){if(!this.floatingResize)return;this.floating=!0,this.newWidth=this.treeWidth;const{height:e,top:t}=this.$el.getBoundingClientRect();this.cachedHeight=e,this.cachedTop=t-this.viewportTop},onResizeEnd(e){Object(o.N)(u.Db,e),this.floatingResize&&(this.floating=!1,this.cachedHeight=null,this.newWidth=null,this.cachedTop=null,this.treeWidth=e)},onSizeUpdate(e){this.floating?this.newWidth=e:this.treeWidth=e},applyNewWidth(){this.newWidth&&(this.treeWidth=this.newWidth)},updateIsNarrowScreen(){this.isNarrowScreen=a.a.isBreakpointDown("md")}}},N=Object(T.a)(B,(function(){var e=this,t=e._self._c;return t("file-browser-height",{ref:"root",staticClass:"rd-app-sidebar diff-tree-list",class:{"diff-tree-list-floating":e.floating},style:{width:e.treeWidth+"px"},attrs:{"enable-sticky-height":!e.isNarrowScreen,"data-testid":"file-browser-tree"}},[t("div",{staticClass:"diff-tree-list-floating-wrapper",style:e.floatingWrapperStyles,attrs:{"data-testid":"file-browser-floating-wrapper"}},[t("panel-resizer",{staticClass:"diff-tree-list-resizer gl-hidden @lg/panel:gl-block",attrs:{"start-size":e.treeWidth,"min-size":e.$options.minTreeWidth,"max-size":e.$options.maxTreeWidth,side:"right"},on:{"update:size":e.onSizeUpdate,"resize-start":e.onResizeStart,"resize-end":e.onResizeEnd}}),e._v(" "),t("tree-list",{attrs:{"hide-file-stats":e.hideFileStats,"loaded-files":e.loadedFiles,"total-files-count":e.totalFilesCount,"row-height":e.rowHeight,"group-blobs-list-items":e.groupBlobsListItems,"current-diff-file-id":e.currentDiffFileId,"linked-file-path":e.linkedFilePath},on:{clickFile:e.onFileClick,toggleFolder:function(t){return e.$emit("toggleFolder",t)}}})],1)])}),[],!1,null,null,null);t.a=N.exports},j0ia:function(e,t,i){"use strict";i.d(t,"a",(function(){return a}));var n=i("NhEX"),r=i.n(n),s=(i("ZzK0"),i("z6RN"),i("BzOf"),i("qPgm")),o=i("pIt4");function a(e,{verifyCap:t=!1}={}){if(t){if(!function(){const e=parseInt(localStorage.getItem(o.jb),10);return!!Number.isNaN(e)||e+o.kb<Date.now()}())return;localStorage.setItem(o.jb,Date.now())}e.forEach((function(e,t){!function(e,t=0){r()((function(){return s.b.trackRedisHllUserEvent(e)}),t)}(e,o.k*(t+1))}))}},"l+kv":function(e,t,i){"use strict";var n=i("6npM"),r=i.n(n),s=(i("v2fZ"),i("d85j")),o=i("dIEn"),a=i("/lV4"),l=i("Gtn5"),c={components:{GlIcon:s.a,GlSprintf:o.a},props:{diffFile:{type:Object,required:!1,default:function(){return null}},addedLines:{type:Number,required:!0},removedLines:{type:Number,required:!0},diffsCount:{type:[String,Number],required:!1,default:null},hideOnNarrowScreen:{type:Boolean,required:!1,default:!0}},computed:{diffFilesLength(){return parseInt(this.diffsCount,10)},filesText(){return Object(a.h)("%{count} file","%{count} files",this.diffFilesLength)},isCompareVersionsHeader(){return Boolean(this.diffsCount)},hasDiffFiles(){return r()(this.diffFilesLength)&&this.diffFilesLength>=0},notDiffable(){return Object(l.f)(this.diffFile)},fileStats(){return Object(l.j)(this.diffFile)},statsLabel(){const e=[];return this.addedLines>0&&e.push(Object(a.h)("RapidDiffs|Added %d line.","RapidDiffs|Added %d lines.",this.addedLines)),this.removedLines>0&&e.push(Object(a.h)("RapidDiffs|Removed %d line.","RapidDiffs|Removed %d lines.",this.removedLines)),e.join(" ")}}},u=i("tBpV"),d=Object(u.a)(c,(function(){var e=this,t=e._self._c;return t("div",{staticClass:"diff-stats",class:{"is-compare-versions-header gl-hidden @md/panel:gl-inline-flex":e.isCompareVersionsHeader&&e.hideOnNarrowScreen,"gl-hidden @sm/panel:!gl-inline-flex":!e.isCompareVersionsHeader&&e.hideOnNarrowScreen,"gl-inline-flex":!e.hideOnNarrowScreen}},[e.notDiffable?t("div",{class:e.fileStats.classes},[e._v("\n    "+e._s(e.fileStats.text)+"\n  ")]):t("div",{staticClass:"diff-stats-contents"},[e.hasDiffFiles?t("div",{staticClass:"diff-stats-group"},[t("gl-icon",{staticClass:"diff-stats-icon",attrs:{name:"doc-code",variant:"subtle"}}),e._v(" "),t("span",{staticClass:"gl-font-bold gl-text-subtle"},[t("gl-sprintf",{attrs:{message:e.filesText},scopedSlots:e._u([{key:"count",fn:function(){return[e._v(e._s(e.diffsCount))]},proxy:!0}],null,!1,1282485870)})],1)],1):e._e(),e._v(" "),t("div",{staticClass:"gl-flex",attrs:{"aria-label":e.statsLabel}},[t("div",{staticClass:"diff-stats-group gl-flex gl-items-center gl-text-success",class:{"gl-font-bold":e.isCompareVersionsHeader}},[t("span",[e._v("+")]),e._v(" "),t("span",{attrs:{"data-testid":"js-file-addition-line"}},[e._v(e._s(e.addedLines))])]),e._v(" "),t("div",{staticClass:"diff-stats-group gl-flex gl-items-center gl-text-danger",class:{"gl-font-bold":e.isCompareVersionsHeader}},[t("span",[e._v("−")]),e._v(" "),t("span",{attrs:{"data-testid":"js-file-deletion-line"}},[e._v(e._s(e.removedLines))])])])])])}),[],!1,null,null,null);t.a=d.exports},lMcJ:function(e,t,i){"use strict";i("RFHG"),i("z6RN"),i("xuo1"),i("v2fZ"),i("ZzK0"),i("BzOf");var n=i("xPX6"),r=i("/lV4"),s=i("ZUW3");const o={"?":Object(r.i)("KeyboardKey|Question mark"),"/":Object(r.i)("KeyboardKey|Forward slash"),"\\":Object(r.i)("KeyboardKey|Backslash"),"[":Object(r.i)("KeyboardKey|Opening square bracket"),"]":Object(r.i)("KeyboardKey|Closing square bracket"),";":Object(r.i)("KeyboardKey|Semicolon")};var a=Object(s.a)({functional:!0,props:{shortcuts:{type:Array,required:!0}},render(e,t){const i=function(){var e;const t={up:"↑",down:"↓",left:"←",right:"→",ctrl:Object(r.i)("KeyboardKey|Ctrl"),shift:Object(r.i)("KeyboardKey|Shift"),enter:Object(r.i)("KeyboardKey|Enter"),esc:Object(r.i)("KeyboardKey|Esc"),command:"⌘",option:null!==(e=window.gl)&&void 0!==e&&null!==(e=e.client)&&void 0!==e&&e.isMac?"⌥":Object(r.i)("KeyboardKey|Alt")};return t.meta=t.command,t.alt=t.option,t.mod=Object(n.i)(!0),t}(),{staticClass:s}=t.data,a=t.props.shortcuts.reduce((function(t,n,s){var a;if((null===(a=window.gl)||void 0===a||null===(a=a.client)||void 0===a||!a.isMac)&&(n.includes("command")||n.includes("meta")))return t;const l=n.split(/([ +])/);return 0!==s&&t.length&&(t.push(` ${Object(r.a)("or")} `),l.length>1&&t.push(e("br"))),l.forEach((function(n){if("+"===n)t.push(" + ");else if(" "===n)t.push(` ${Object(r.a)("then")} `);else{const r=o[n];var s,a;if(r)t.push(e("span",{attrs:{class:"gl-sr-only"}},r),e("kbd",{attrs:{"aria-hidden":!0}},[null!==(s=i[n])&&void 0!==s?s:n]));else t.push(e("kbd",{},[null!==(a=i[n])&&void 0!==a?a:n]))}})),t}),[]);return e("span",{staticClass:s},a)}}),l=i("tBpV"),c=Object(l.a)(a,void 0,void 0,!1,null,null,null);t.a=c.exports},m0QX:function(e,t,i){"use strict";const n=i("4Ka6"),r=i("FtYv"),s=i("wV75"),o=i("AH4o"),a=e=>""===e||"./"===e,l=e=>{const t=e.indexOf("{");return t>-1&&e.indexOf("}",t)>-1},c=(e,t,i)=>{t=[].concat(t),e=[].concat(e);let n=new Set,r=new Set,o=new Set,a=0,l=e=>{o.add(e.output),i&&i.onResult&&i.onResult(e)};for(let o=0;o<t.length;o++){let c=s(String(t[o]),{...i,onResult:l},!0),u=c.state.negated||c.state.negatedExtglob;u&&a++;for(let t of e){let e=c(t,!0);(u?!e.isMatch:e.isMatch)&&(u?n.add(e.output):(n.delete(e.output),r.add(e.output)))}}let c=(a===t.length?[...o]:[...r]).filter(e=>!n.has(e));if(i&&0===c.length){if(!0===i.failglob)throw new Error(`No matches found for "${t.join(", ")}"`);if(!0===i.nonull||!0===i.nullglob)return i.unescape?t.map(e=>e.replace(/\\/g,"")):t}return c};c.match=c,c.matcher=(e,t)=>s(e,t),c.any=c.isMatch=(e,t,i)=>s(t,i)(e),c.not=(e,t,i={})=>{t=[].concat(t).map(String);let n=new Set,r=[],s=new Set(c(e,t,{...i,onResult:e=>{i.onResult&&i.onResult(e),r.push(e.output)}}));for(let e of r)s.has(e)||n.add(e);return[...n]},c.contains=(e,t,i)=>{if("string"!=typeof e)throw new TypeError(`Expected a string: "${n.inspect(e)}"`);if(Array.isArray(t))return t.some(t=>c.contains(e,t,i));if("string"==typeof t){if(a(e)||a(t))return!1;if(e.includes(t)||e.startsWith("./")&&e.slice(2).includes(t))return!0}return c.isMatch(e,t,{...i,contains:!0})},c.matchKeys=(e,t,i)=>{if(!o.isObject(e))throw new TypeError("Expected the first argument to be an object");let n=c(Object.keys(e),t,i),r={};for(let t of n)r[t]=e[t];return r},c.some=(e,t,i)=>{let n=[].concat(e);for(let e of[].concat(t)){let t=s(String(e),i);if(n.some(e=>t(e)))return!0}return!1},c.every=(e,t,i)=>{let n=[].concat(e);for(let e of[].concat(t)){let t=s(String(e),i);if(!n.every(e=>t(e)))return!1}return!0},c.all=(e,t,i)=>{if("string"!=typeof e)throw new TypeError(`Expected a string: "${n.inspect(e)}"`);return[].concat(t).every(t=>s(t,i)(e))},c.capture=(e,t,i)=>{let n=o.isWindows(i),r=s.makeRe(String(e),{...i,capture:!0}).exec(n?o.toPosixSlashes(t):t);if(r)return r.slice(1).map(e=>void 0===e?"":e)},c.makeRe=(...e)=>s.makeRe(...e),c.scan=(...e)=>s.scan(...e),c.parse=(e,t)=>{let i=[];for(let n of[].concat(e||[]))for(let e of r(String(n),t))i.push(s.parse(e,t));return i},c.braces=(e,t)=>{if("string"!=typeof e)throw new TypeError("Expected a string");return t&&!0===t.nobrace||!l(e)?[e]:r(e,t)},c.braceExpand=(e,t)=>{if("string"!=typeof e)throw new TypeError("Expected a string");return c.braces(e,{...t,expand:!0})},c.hasBraces=l,e.exports=c},mB9M:function(e,t,i){"use strict";i.d(t,"b",(function(){return s})),i.d(t,"a",(function(){return o}));var n=i("9Yx2"),r=i.n(n);i("3UXl"),i("iyoE");function s(e,t){return Object.fromEntries(Object.entries(e).map((function([e,i]){return[t(e),i]})))}function o(e){return s(e,r.a)}},ocPS:function(e,t,i){"use strict";var n=i("h7kv"),r=i.n(n),s=i("1OWu"),o=i("AjeD"),a={name:"StickyViewportFillerHeight",props:{stickyTopOffset:{type:Number,required:!1,default:0},stickyBottomOffset:{type:Number,required:!1,default:0},minHeight:{type:Number,required:!1,default:0},samplingRate:{type:Number,required:!1,default:6}},data:()=>({viewport:null,viewportHeight:0,viewportTopOffset:0,visible:!1,currentTop:0,parentRect:{bottom:0,height:0},rootObserver:null,parentObserver:null}),computed:{parent(){return this.$refs.root.parentElement},throttledSampleRects(){return r()(this.sampleRects,this.samplingRate,{leading:!0})},endReached(){return this.viewportHeight>this.parentRect.bottom},topOffset(){return this.currentTop-this.viewportTopOffset},availableHeight(){return this.endReached?this.parentRect.bottom-Math.max(this.topOffset,this.stickyTopOffset):this.viewportHeight-this.topOffset-this.stickyBottomOffset},height(){const e=this.viewportHeight-this.stickyTopOffset-this.stickyBottomOffset;return Math.min(e,Math.max(this.minHeight,this.availableHeight))+"px"}},watch:{visible(e){e?(this.sampleRects(),this.observerParentResize(),this.observeViewportChanges()):(this.disconnectParent(),this.disconnectViewport())}},mounted(){this.setViewport(),this.observeRootVisibility(),this.cacheViewportHeight()},beforeDestroy(){this.disconnectRoot(),this.disconnectParent(),this.disconnectViewport()},methods:{setViewport(){const e=Object(o.b)(this.$refs.root);e===document.scrollingElement?this.viewport=window:(this.viewport=e,this.viewportTopOffset=this.viewport.getBoundingClientRect().top)},cacheViewportHeight(){this.viewportHeight=this.viewport.offsetHeight||this.viewport.innerHeight},sampleRects(){var e=this;Object(s.i)(this.$refs.root,(function([t]){e.currentTop=t.boundingClientRect.top})),Object(s.i)(this.parent,(function([t]){const{bottom:i,height:n}=t.boundingClientRect;e.parentRect={bottom:i,height:n}}))},observeRootVisibility(){var e=this;this.rootObserver=new IntersectionObserver((function([t]){e.visible=t.isIntersecting})),this.rootObserver.observe(this.$refs.root)},observerParentResize(){this.parentObserver=new ResizeObserver(r()(this.sampleRects,20)),this.parentObserver.observe(this.parent)},observeViewportChanges(){this.viewport.addEventListener("scroll",this.throttledSampleRects,{passive:!0}),window.addEventListener("resize",this.cacheViewportHeight,{passive:!0})},disconnectRoot(){this.rootObserver&&(this.rootObserver.disconnect(),this.rootObserver=null)},disconnectParent(){this.parentObserver&&(this.parentObserver.disconnect(),this.parentObserver=null)},disconnectViewport(){this.throttledSampleRects.cancel(),this.viewport.removeEventListener("scroll",this.throttledSampleRects),window.removeEventListener("resize",this.cacheViewportHeight)}}},l=i("tBpV"),c={name:"FileBrowserHeight",components:{StickyViewportFillerHeight:Object(l.a)(a,(function(){return(0,this._self._c)("div",{ref:"root",style:{height:this.height}},[this._t("default")],2)}),[],!1,null,null,null).exports},props:{enableStickyHeight:{type:Boolean,required:!1,default:!1}},data:()=>({minHeight:0,bottomPadding:0,stickyTopOffset:0}),mounted(){const e=getComputedStyle(this.$el);this.stickyTopOffset=parseInt(e.getPropertyValue("top"),10),this.minHeight=parseInt(e.getPropertyValue("--file-tree-min-height"),10),this.bottomPadding=parseInt(e.getPropertyValue("--file-tree-bottom-padding"),10)}},u=Object(l.a)(c,(function(){var e=this._self._c;return this.enableStickyHeight?e("sticky-viewport-filler-height",{ref:"root",attrs:{"min-height":this.minHeight,"sticky-top-offset":this.stickyTopOffset,"sticky-bottom-offset":this.bottomPadding}},[this._t("default")],2):e("div",[this._t("default")],2)}),[],!1,null,null,null);t.a=u.exports},rAS2:function(e,t,i){"use strict";i.d(t,"a",(function(){return c}));i("dHQd"),i("yoDG"),i("KeS/"),i("tWNI"),i("8d6S"),i("VwWG"),i("IYHS"),i("rIA9"),i("MViX"),i("zglm"),i("GDOA"),i("hlbI"),i("a0mT"),i("u3H1"),i("ta8/"),i("IKCR"),i("nmTw"),i("W2kU"),i("58fc"),i("7dtT"),i("Rhav"),i("uhEP"),i("eppl"),i("ZzK0"),i("z6RN"),i("BzOf"),i("aFm2"),i("R9qC"),i("byxs");var n=i("mB9M"),r=i("R//o"),s=i("dDJM");function o(e,t,i){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var n=i.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}const a=Object.values(s),l=Symbol("data");class c extends HTMLElement{constructor(...e){super(...e),o(this,"app",void 0),o(this,"diffElement",void 0),o(this,"trigger",void 0),o(this,"sink",{}),o(this,"_hookTeardowns",{[s.MOUNTED]:new Set})}static findByFileHash(e){return document.querySelector(`diff-file[id="${e}"]`)}static getAll(){return Array.from(document.querySelectorAll("diff-file"))}mount(e){this.app=e;const[t]=this.children;this.diffElement=t,this.observeVisibility(),this.trigger=this._trigger.bind(this),this.trigger(s.MOUNTED,this.registerMountedTeardowns.bind(this)),this.dispatchEvent(new CustomEvent(r.a,{bubbles:!0}))}disconnectedCallback(){const e=this._hookTeardowns[s.MOUNTED];e.forEach((function(e){e()})),e.clear(),this._hookTeardowns=void 0,this.app&&this.unobserveVisibility(),this.app=void 0,this.diffElement=void 0,this.sink=void 0,this.trigger=void 0}_trigger(e,...t){var i=this;if(!a.includes(e))throw new Error(`Missing event declaration: ${e}. Did you forget to declare this in ~/rapid_diffs/adapter_events.js?`);this.adapters.forEach((function(n){var r,s;return null===(r=n[e])||void 0===r||null===(s=r.call)||void 0===s?void 0:s.call(r,i.adapterContext,...t)}))}registerMountedTeardowns(e){this._hookTeardowns[s.MOUNTED].add(e)}observeVisibility(){this.adapters.some((function(e){return e[s.VISIBLE]||e[s.INVISIBLE]}))&&this.app.observe(this)}unobserveVisibility(){this.app.unobserve(this)}onVisible(e){this.trigger(s.VISIBLE,e)}onInvisible(e){this.trigger(s.INVISIBLE,e)}onClick(e){var t=this;const i=e.target.closest("[data-click]");if(i){const n=i.dataset.click;this.adapters.forEach((function(r){var s,o;return null===(s=r.clicks)||void 0===s||null===(s=s[n])||void 0===s||null===(o=s.call)||void 0===o?void 0:o.call(s,t.adapterContext,e,i)}))}this.trigger(s.CLICK,e)}selectFile(){var e=this;this.scrollIntoView({block:"start"}),setTimeout((function(){e.scrollIntoView({block:"start"})}))}focusFirstButton(e){this.diffElement.querySelector("button").focus(e)}selfReplace(e){this.replaceWith(e),e.focusFirstButton({focusVisible:!1})}get data(){return this[l]||(this[l]=Object(n.a)(JSON.parse(this.dataset.fileData))),this[l]}get adapterContext(){return{appData:this.app.appData,diffElement:this.diffElement,sink:this.sink,data:this.data,id:this.id,selectFile:this.selectFile.bind(this),trigger:this.trigger.bind(this),replaceWith:this.selfReplace.bind(this)}}get adapters(){return this.app.adapterConfig[this.data.viewer]||[]}}},rOrh:function(e,t,i){"use strict";var n=i("CbCZ"),r=i("d85j"),s=i("zIFf"),o=i("BAGK"),a=i("/lV4"),l={components:{GlButton:n.a,GlIcon:r.a},directives:{GlTooltip:s.a},props:{file:{type:Object,required:!0},showTooltip:{type:Boolean,required:!1,default:!1},showStagedIcon:{type:Boolean,required:!1,default:!0},size:{type:Number,required:!1,default:12},isCentered:{type:Boolean,required:!1,default:!0},asButton:{type:Boolean,default:!0,required:!1}},computed:{changedIcon(){const e=this.file.staged&&this.showStagedIcon?"-solid":"";return`${(t=this.file,t.deleted?o.e.deleted:t.tempFile&&!t.prevPath?o.e.addition:o.e.modified).icon}${e}`;var t},changedIconClass(){return this.changedIcon+" !gl-float-left gl-block"},tooltipTitle(){if(this.showTooltip)return this.file.deleted?Object(a.a)("Deleted"):this.file.tempFile?Object(a.a)("Added"):this.file.changed?Object(a.a)("Modified"):void 0},showIcon(){return this.file.changed||this.file.tempFile||this.file.staged||this.file.deleted||this.file.prevPath}}},c=i("LPAU"),u=i.n(c),d=i("0sIN"),p=i.n(d),f={insert:"head",singleton:!1},h=(u()(p.a,f),p.a.locals,i("tBpV")),g=Object(h.a)(l,(function(){var e=this,t=e._self._c;return e.showIcon&&e.asButton?t("gl-button",{directives:[{name:"gl-tooltip",rawName:"v-gl-tooltip.right",modifiers:{right:!0}}],staticClass:"file-changed-icon !gl-min-h-0 !gl-min-w-0 !gl-bg-transparent !gl-p-0",class:{"!gl-ml-auto":e.isCentered},attrs:{category:"tertiary",size:"small",title:e.tooltipTitle,"aria-label":e.tooltipTitle}},[t("gl-icon",{class:e.changedIconClass,attrs:{name:e.changedIcon,size:e.size}})],1):e.showIcon?t("span",{directives:[{name:"gl-tooltip",rawName:"v-gl-tooltip.right",value:e.tooltipTitle,expression:"tooltipTitle",modifiers:{right:!0}}],staticClass:"file-changed-icon",class:{"!gl-ml-auto":e.isCentered},attrs:{"aria-label":e.tooltipTitle}},[t("gl-icon",{class:e.changedIconClass,attrs:{name:e.changedIcon,size:e.size}})],1):e._e()}),[],!1,null,null,null);t.a=g.exports},rwLT:function(e,t,i){"use strict";const n=i("AH4o"),{CHAR_ASTERISK:r,CHAR_AT:s,CHAR_BACKWARD_SLASH:o,CHAR_COMMA:a,CHAR_DOT:l,CHAR_EXCLAMATION_MARK:c,CHAR_FORWARD_SLASH:u,CHAR_LEFT_CURLY_BRACE:d,CHAR_LEFT_PARENTHESES:p,CHAR_LEFT_SQUARE_BRACKET:f,CHAR_PLUS:h,CHAR_QUESTION_MARK:g,CHAR_RIGHT_CURLY_BRACE:m,CHAR_RIGHT_PARENTHESES:b,CHAR_RIGHT_SQUARE_BRACKET:v}=i("BT9Z"),w=e=>e===u||e===o,y=e=>{!0!==e.isPrefix&&(e.depth=e.isGlobstar?1/0:1)};e.exports=(e,t)=>{const i=t||{},_=e.length-1,S=!0===i.parts||!0===i.scanToEnd,x=[],k=[],O=[];let C,E,R=e,j=-1,A=0,T=0,L=!1,I=!1,$=!1,D=!1,z=!1,F=!1,H=!1,B=!1,N=!1,P=!1,M=0,V={value:"",depth:0,isGlob:!1};const q=()=>j>=_,W=()=>(C=E,R.charCodeAt(++j));for(;j<_;){let e;if(E=W(),E!==o){if(!0===F||E===d){for(M++;!0!==q()&&(E=W());)if(E!==o)if(E!==d){if(!0!==F&&E===l&&(E=W())===l){if(L=V.isBrace=!0,$=V.isGlob=!0,P=!0,!0===S)continue;break}if(!0!==F&&E===a){if(L=V.isBrace=!0,$=V.isGlob=!0,P=!0,!0===S)continue;break}if(E===m&&(M--,0===M)){F=!1,L=V.isBrace=!0,P=!0;break}}else M++;else H=V.backslashes=!0,W();if(!0===S)continue;break}if(E!==u){if(!0!==i.noext){if(!0===(E===h||E===s||E===r||E===g||E===c)&&R.charCodeAt(j+1)===p){if($=V.isGlob=!0,D=V.isExtglob=!0,P=!0,E===c&&j===A&&(N=!0),!0===S){for(;!0!==q()&&(E=W());)if(E!==o){if(E===b){$=V.isGlob=!0,P=!0;break}}else H=V.backslashes=!0,E=W();continue}break}}if(E===r){if(C===r&&(z=V.isGlobstar=!0),$=V.isGlob=!0,P=!0,!0===S)continue;break}if(E===g){if($=V.isGlob=!0,P=!0,!0===S)continue;break}if(E===f){for(;!0!==q()&&(e=W());)if(e!==o){if(e===v){I=V.isBracket=!0,$=V.isGlob=!0,P=!0;break}}else H=V.backslashes=!0,W();if(!0===S)continue;break}if(!0===i.nonegate||E!==c||j!==A){if(!0!==i.noparen&&E===p){if($=V.isGlob=!0,!0===S){for(;!0!==q()&&(E=W());)if(E!==p){if(E===b){P=!0;break}}else H=V.backslashes=!0,E=W();continue}break}if(!0===$){if(P=!0,!0===S)continue;break}}else B=V.negated=!0,A++}else{if(x.push(j),k.push(V),V={value:"",depth:0,isGlob:!1},!0===P)continue;if(C===l&&j===A+1){A+=2;continue}T=j+1}}else H=V.backslashes=!0,E=W(),E===d&&(F=!0)}!0===i.noext&&(D=!1,$=!1);let G=R,U="",K="";A>0&&(U=R.slice(0,A),R=R.slice(A),T-=A),G&&!0===$&&T>0?(G=R.slice(0,T),K=R.slice(T)):!0===$?(G="",K=R):G=R,G&&""!==G&&"/"!==G&&G!==R&&w(G.charCodeAt(G.length-1))&&(G=G.slice(0,-1)),!0===i.unescape&&(K&&(K=n.removeBackslashes(K)),G&&!0===H&&(G=n.removeBackslashes(G)));const X={prefix:U,input:e,start:A,base:G,glob:K,isBrace:L,isBracket:I,isGlob:$,isExtglob:D,isGlobstar:z,negated:B,negatedExtglob:N};if(!0===i.tokens&&(X.maxDepth=0,w(E)||k.push(V),X.tokens=k),!0===i.parts||!0===i.tokens){let t;for(let n=0;n<x.length;n++){const r=t?t+1:A,s=x[n],o=e.slice(r,s);i.tokens&&(0===n&&0!==A?(k[n].isPrefix=!0,k[n].value=U):k[n].value=o,y(k[n]),X.maxDepth+=k[n].depth),0===n&&""===o||O.push(o),t=s}if(t&&t+1<e.length){const n=e.slice(t+1);O.push(n),i.tokens&&(k[k.length-1].value=n,y(k[k.length-1]),X.maxDepth+=k[k.length-1].depth)}X.slashes=x,X.parts=O}return X}},sGwS:function(e,t,i){"use strict";i("Tznw"),i("IYH6"),i("6yen"),i("OeRx"),i("l/dT"),i("RqS2"),i("Zy7a"),i("cjZU"),i("OAhk"),i("X42P"),i("mHhP"),i("fn0I"),i("UB/6"),i("imhG"),i("v2fZ");var n=i("JCwV"),r=i("LPAU"),s=i.n(r),o=i("Bf6e"),a=i.n(o),l={insert:"head",singleton:!1},c=(s()(a.a,l),a.a.locals,i("Jm82")),u=i("9fwh"),d=i.n(u),p=i("Gk2Q"),f=i("SsIm");let h=!1;if("undefined"!=typeof window){h=!1;try{var g=Object.defineProperty({},"passive",{get(){h=!0}});window.addEventListener("test",null,g)}catch(e){}}let m=0;var b={name:"RecycleScroller",components:{ResizeObserver:n.a},directives:{ObserveVisibility:c.a},props:{...f.a,itemSize:{type:Number,default:null},minItemSize:{type:[Number,String],default:null},sizeField:{type:String,default:"size"},typeField:{type:String,default:"type"},buffer:{type:Number,default:200},pageMode:{type:Boolean,default:!1},prerender:{type:Number,default:0},emitUpdate:{type:Boolean,default:!1},useTransform:{type:Boolean,default:!0}},data:()=>({pool:[],totalSize:0,ready:!1,hoverKey:null,rootSizings:{}}),computed:{sizes(){if(null===this.itemSize){const e={"-1":{accumulator:0}},t=this.items,i=this.sizeField,n=this.minItemSize;let r,s=this.buffer,o=0;for(let a=0,l=t.length;a<l;a++)r=t[a][i]||n,r<s&&(s=r),o+=r,e[a]={accumulator:o,size:r};return this.$_computedMinItemSize=s,e}return[]},simpleArray:f.b},watch:{items(){this.updateVisibleItems(!0)},pageMode(){this.applyPageMode(),this.updateVisibleItems(!1)},sizes:{handler(){this.updateVisibleItems(!1)},deep:!0}},created(){this.$_startIndex=0,this.$_endIndex=0,this.$_views=new Map,this.$_unusedViews=new Map,this.$_scrollDirty=!1,this.$_lastUpdateScrollPosition=0,this.prerender&&(this.$_prerender=!0,this.updateVisibleItems(!1))},mounted(){var e=this;this.applyPageMode(),this.$nextTick((function(){e.$_prerender=!1,e.updateVisibleItems(!0),e.ready=!0,e.$nextTick((function(){e.cacheSizings()}))})),this.$el.addEventListener("scroll",this.cacheSizings,!1)},beforeDestroy(){this.removeListeners(),this.$el.removeEventListener("scroll",this.cacheSizings,!1)},methods:{addView(e,t,i,n,r){const s={item:i,position:0},o={__v_skip:!0,id:m++,index:t,used:!0,key:n,type:r};return Object.defineProperty(s,"nr",{configurable:!1,value:o}),e.push(s),s},unuseView(e,t=!1){const i=this.$_unusedViews,n=e.nr.type;let r=i.get(n);r||(r=[],i.set(n,r)),r.push(e),t||(e.nr.used=!1,e.position=-9999,this.$_views.delete(e.nr.key))},handleResize(){this.cacheSizings(),this.$emit("resize"),this.ready&&this.updateVisibleItems(!1)},cacheSizings(){if(this.pageMode)return;const e=this.$el;this.rootSizings={scrollTop:e.scrollTop,scrollLeft:e.scrollLeft,clientWidth:e.clientWidth,clientHeight:e.clientHeight}},handleScroll(e){var t=this;this.$_scrollDirty||(this.$_scrollDirty=!0,requestAnimationFrame((function(){t.$_scrollDirty=!1;const{continuous:e}=t.updateVisibleItems(!1,!0);e||(clearTimeout(t.$_refreshTimout),t.$_refreshTimout=setTimeout(t.handleScroll,100))})))},handleVisibilityChange(e,t){var i=this;this.ready&&(e||0!==t.boundingClientRect.width||0!==t.boundingClientRect.height?(this.$emit("visible"),requestAnimationFrame((function(){i.updateVisibleItems(!1)}))):this.$emit("hidden"))},updateVisibleItems(e,t=!1){const i=this.itemSize,n=this.$_computedMinItemSize,r=this.typeField,s=this.simpleArray?null:this.keyField,o=this.items,a=o.length,l=this.sizes,c=this.$_views,u=this.$_unusedViews,d=this.pool;let f,h,g,m;if(a)if(this.$_prerender)f=0,h=this.prerender,g=null;else{const e=this.getScroll();if(t){let t=e.start-this.$_lastUpdateScrollPosition;if(t<0&&(t=-t),null===i&&t<n||t<i)return{continuous:!0}}this.$_lastUpdateScrollPosition=e.start;const r=this.buffer;if(e.start-=r,e.end+=r,null===i){let t,i,n=0,r=a-1,s=~~(a/2);do{i=s,t=l[s].accumulator,t<e.start?n=s:s<a-1&&l[s+1].accumulator>e.start&&(r=s),s=~~((n+r)/2)}while(s!==i);for(s<0&&(s=0),f=s,g=l[a-1].accumulator,h=s;h<a&&l[h].accumulator<e.end;h++);-1===h?h=o.length-1:(h++,h>a&&(h=a))}else f=~~(e.start/i),h=Math.ceil(e.end/i),f<0&&(f=0),h>a&&(h=a),g=a*i}else f=h=g=0;h-f>p.a.itemsLimit&&this.itemsLimitError(),this.totalSize=g;const b=f<=this.$_endIndex&&h>=this.$_startIndex;if(this.$_continuous!==b){if(b){c.clear(),u.clear();for(let e=0,t=d.length;e<t;e++)m=d[e],this.unuseView(m)}this.$_continuous=b}else if(b)for(let t=0,i=d.length;t<i;t++)m=d[t],m.nr.used&&(e&&(m.nr.index=o.findIndex((function(e){return s?e[s]===m.item[s]:e===m.item}))),(-1===m.nr.index||m.nr.index<f||m.nr.index>=h)&&this.unuseView(m));const v=b?null:new Map;let w,y,_,S;for(let e=f;e<h;e++){var x;w=o[e];const t=s?w[s]:w;if(null==t)throw new Error(`Key is ${t} on item (keyField is '${s}')`);m=c.get(t),i||null!==(x=l[e])&&void 0!==x&&x.size?(m?(m.nr.used=!0,m.item=w):(y=w[r],_=u.get(y),b?_&&_.length?(m=_.pop(),m.item=w,m.nr.used=!0,m.nr.index=e,m.nr.key=t,m.nr.type=y):m=this.addView(d,e,w,t,y):(S=v.get(y)||0,(!_||S>=_.length)&&(m=this.addView(d,e,w,t,y),this.unuseView(m,!0),_=u.get(y)),m=_[S],m.item=w,m.nr.used=!0,m.nr.index=e,m.nr.key=t,m.nr.type=y,v.set(y,S+1),S++),c.set(t,m)),m.position=null===i?l[e-1].accumulator:e*i):m&&this.unuseView(m)}return this.$_startIndex=f,this.$_endIndex=h,this.emitUpdate&&this.$emit("update",f,h),clearTimeout(this.$_sortTimer),this.$_sortTimer=setTimeout(this.sortViews,300),{continuous:b}},getListenerTarget(){let e=d()(this.$el);return!window.document||e!==window.document.documentElement&&e!==window.document.body||(e=window),e},getScroll(){const{$el:e,direction:t}=this,i="vertical"===t;let n;if(this.pageMode){const t=e.getBoundingClientRect(),r=i?t.height:t.width;let s=-(i?t.top:t.left),o=i?window.innerHeight:window.innerWidth;s<0&&(o+=s,s=0),s+o>r&&(o=r-s),n={start:s,end:s+o}}else if(i){var r,s,o;n={start:null!==(r=this.rootSizings.scrollTop)&&void 0!==r?r:e.scrollTop,end:(null!==(s=this.rootSizings.scrollTop)&&void 0!==s?s:e.scrollTop)+(null!==(o=this.rootSizings.clientHeight)&&void 0!==o?o:e.clientHeight)}}else{var a,l,c;n={start:null!==(a=this.rootSizings.scrollLeft)&&void 0!==a?a:e.scrollLeft,end:(null!==(l=this.rootSizings.scrollLeft)&&void 0!==l?l:e.scrollLeft)+(null!==(c=this.rootSizings.clientWidth)&&void 0!==c?c:e.clientWidth)}}return n},applyPageMode(){this.pageMode?this.addListeners():this.removeListeners()},addListeners(){this.listenerTarget=this.getListenerTarget(),this.listenerTarget.addEventListener("scroll",this.handleScroll,!!h&&{passive:!0}),this.listenerTarget.addEventListener("resize",this.handleResize)},removeListeners(){this.listenerTarget&&(this.listenerTarget.removeEventListener("scroll",this.handleScroll),this.listenerTarget.removeEventListener("resize",this.handleResize),this.listenerTarget=null)},scrollToItem(e){var t=this;this.$_scrollDirty=!0;const{viewport:i,scrollDirection:n,scrollDistance:r}=this.scrollToPosition(e);i[n]=r,setTimeout((function(){t.$_scrollDirty=!1,t.updateVisibleItems(!1,!0)}))},scrollToPosition(e){var t=this;const i=function(e){return null===t.itemSize?e>0?t.sizes[e-1].accumulator:0:e*t.itemSize}(e),n="vertical"===this.direction?{scroll:"scrollTop",start:"top"}:{scroll:"scrollLeft",start:"left"};if(this.pageMode){let e=d()(this.$el);"BODY"===e.tagName&&(e=document.documentElement);const t="HTML"===e.tagName?0:e[n.scroll],r=e.getBoundingClientRect(),s=this.$el.getBoundingClientRect()[n.start]-r[n.start];return{viewport:e,scrollDirection:n.scroll,scrollDistance:i+t+s}}return{viewport:this.$el,scrollDirection:n.scroll,scrollDistance:i}},itemsLimitError(){var e=this;throw setTimeout((function(){console.log("It seems the scroller element isn't scrolling, so it tries to render all the items at once.","Scroller:",e.$el),console.log("Make sure the scroller has a fixed height (or width) and 'overflow-y' (or 'overflow-x') set to 'auto' so it can scroll correctly and only render the items visible in the scroll viewport.")})),new Error("Rendered items limit reached")},sortViews(){this.pool.sort((function(e,t){return e.nr.index-t.nr.index}))}}},v=i("bAQ8"),w=i.n(v),y={insert:"head",singleton:!1},_=(s()(w.a,y),w.a.locals,i("tBpV")),S=Object(_.a)(b,(function(){var e=this,t=e._self._c;return t("div",{directives:[{name:"observe-visibility",rawName:"v-observe-visibility",value:e.handleVisibilityChange,expression:"handleVisibilityChange"}],staticClass:"vue-recycle-scroller",class:{ready:e.ready,"page-mode":e.pageMode,["direction-"+e.direction]:!0},on:{"&scroll":function(t){return e.handleScroll.apply(null,arguments)}}},[e.$slots.before?t("div",{staticClass:"vue-recycle-scroller__slot"},[e._t("before")],2):e._e(),e._v(" "),t("div",{ref:"wrapper",staticClass:"vue-recycle-scroller__item-wrapper",style:{["vertical"===e.direction?"minHeight":"minWidth"]:e.totalSize+"px"}},e._l(e.pool,(function(i){return t("div",{key:i.nr.id,staticClass:"vue-recycle-scroller__item-view",class:{hover:e.hoverKey===i.nr.key,"will-change-transform":e.useTransform},style:e.ready?{transform:e.useTransform?`translate${"vertical"===e.direction?"Y":"X"}(${i.position}px)`:null,top:e.useTransform||"vertical"!==e.direction?null:i.position+"px",left:e.useTransform||"vertical"===e.direction?null:i.position+"px"}:null,on:{mouseenter:function(t){e.hoverKey=i.nr.key},mouseleave:function(t){e.hoverKey=null}}},[e._t("default",null,{item:i.item,index:i.nr.index,active:i.nr.used})],2)})),0),e._v(" "),e.$slots.after?t("div",{staticClass:"vue-recycle-scroller__slot"},[e._t("after")],2):e._e(),e._v(" "),t("ResizeObserver",{on:{notify:e.handleResize}})],1)}),[],!1,null,null,null);t.a=S.exports},sK0u:function(e,t,i){"use strict";i.d(t,"a",(function(){return u}));var n=i("8T/f"),r=i("NmEs"),s=i("pIt4"),o=i("j0ia"),a=i("3twG"),l=i("2ibD"),c=i("i5Bj");const u=Object(n.c)("diffsView",{state:()=>({viewType:s.K,showWhitespace:!0,singleFileMode:!1,updateUserEndpoint:void 0,streamUrl:void 0,diffsStatsEndpoint:void 0,diffsStats:null,overflow:null}),actions:{async loadDiffsStats(){const{data:e}=await l.a.get(this.diffsStatsEndpoint),{added_lines:t,removed_lines:i,diffs_count:n}=e.diffs_stats;if(this.diffsStats={addedLines:t,removedLines:i,diffsCount:n},e.overflow){const{visible_count:t,email_path:i,diff_path:n}=e.overflow||{};this.overflow={visibleCount:t,emailPath:i,diffPath:n}}else this.overflow=null},updateDiffView(){this.singleFileMode||Object(c.b)().reloadDiffs(Object(a.z)(this.requestParams,this.streamUrl))},updateViewType(e){this.viewType=e,Object(r.N)(s.s,e),Object(o.a)([s.lb,e===s.K?s.pb:s.qb]),Object(r.o)(Object(a.z)({view:e},window.location.href)),this.updateDiffView()},updateShowWhitespace(e){this.showWhitespace=e,this.updateUserEndpoint&&l.a.put(this.updateUserEndpoint,{show_whitespace_in_diffs:e}),this.updateDiffView()}},getters:{requestParams(){return{view:this.viewType,w:this.showWhitespace?"0":"1"}},totalFilesCount(){var e;return null===(e=this.diffsStats)||void 0===e?void 0:e.diffsCount}}})},"sO/2":function(e,t,i){"use strict";
/*!
 * to-regex-range <https://github.com/micromatch/to-regex-range>
 *
 * Copyright (c) 2015-present, Jon Schlinkert.
 * Released under the MIT License.
 */const n=i("3ZyF"),r=(e,t,i)=>{if(!1===n(e))throw new TypeError("toRegexRange: expected the first argument to be a number");if(void 0===t||e===t)return String(e);if(!1===n(t))throw new TypeError("toRegexRange: expected the second argument to be a number.");let s={relaxZeros:!0,...i};"boolean"==typeof s.strictZeros&&(s.relaxZeros=!1===s.strictZeros);let l=e+":"+t+"="+String(s.relaxZeros)+String(s.shorthand)+String(s.capture)+String(s.wrap);if(r.cache.hasOwnProperty(l))return r.cache[l].result;let c=Math.min(e,t),u=Math.max(e,t);if(1===Math.abs(c-u)){let i=e+"|"+t;return s.capture?`(${i})`:!1===s.wrap?i:`(?:${i})`}let d=h(e)||h(t),p={min:e,max:t,a:c,b:u},f=[],g=[];if(d&&(p.isPadded=d,p.maxLen=String(p.max).length),c<0){g=o(u<0?Math.abs(u):1,Math.abs(c),p,s),c=p.a=0}return u>=0&&(f=o(c,u,p,s)),p.negatives=g,p.positives=f,p.result=function(e,t,i){let n=a(e,t,"-",!1,i)||[],r=a(t,e,"",!1,i)||[],s=a(e,t,"-?",!0,i)||[];return n.concat(s).concat(r).join("|")}(g,f,s),!0===s.capture?p.result=`(${p.result})`:!1!==s.wrap&&f.length+g.length>1&&(p.result=`(?:${p.result})`),r.cache[l]=p,p.result};function s(e,t,i){if(e===t)return{pattern:e,count:[],digits:0};let n=function(e,t){let i=[];for(let n=0;n<e.length;n++)i.push([e[n],t[n]]);return i}(e,t),r=n.length,s="",o=0;for(let e=0;e<r;e++){let[t,r]=n[e];t===r?s+=t:"0"!==t||"9"!==r?s+=f(t,r,i):o++}return o&&(s+=!0===i.shorthand?"\\d":"[0-9]"),{pattern:s,count:[o],digits:r}}function o(e,t,i,n){let r,o=function(e,t){let i=1,n=1,r=u(e,i),s=new Set([t]);for(;e<=r&&r<=t;)s.add(r),i+=1,r=u(e,i);for(r=d(t+1,n)-1;e<r&&r<=t;)s.add(r),n+=1,r=d(t+1,n)-1;return s=[...s],s.sort(l),s}(e,t),a=[],c=e;for(let e=0;e<o.length;e++){let t=o[e],l=s(String(c),String(t),n),u="";i.isPadded||!r||r.pattern!==l.pattern?(i.isPadded&&(u=g(t,i,n)),l.string=u+l.pattern+p(l.count),a.push(l),c=t+1,r=l):(r.count.length>1&&r.count.pop(),r.count.push(l.count[0]),r.string=r.pattern+p(r.count),c=t+1)}return a}function a(e,t,i,n,r){let s=[];for(let r of e){let{string:e}=r;n||c(t,"string",e)||s.push(i+e),n&&c(t,"string",e)&&s.push(i+e)}return s}function l(e,t){return e>t?1:t>e?-1:0}function c(e,t,i){return e.some(e=>e[t]===i)}function u(e,t){return Number(String(e).slice(0,-t)+"9".repeat(t))}function d(e,t){return e-e%Math.pow(10,t)}function p(e){let[t=0,i=""]=e;return i||t>1?`{${t+(i?","+i:"")}}`:""}function f(e,t,i){return`[${e}${t-e==1?"":"-"}${t}]`}function h(e){return/^-?(0+)\d/.test(e)}function g(e,t,i){if(!t.isPadded)return e;let n=Math.abs(t.maxLen-String(e).length),r=!1!==i.relaxZeros;switch(n){case 0:return"";case 1:return r?"0?":"0";case 2:return r?"0{0,2}":"00";default:return r?`0{0,${n}}`:`0{${n}}`}}r.cache={},r.clearCache=()=>r.cache={},e.exports=r},spV8:function(e,t,i){"use strict";var n={name:"DynamicScrollerItem",inject:["vscrollData","vscrollParent","vscrollResizeObserver"],props:{item:{required:!0},watchData:{type:Boolean,default:!1},active:{type:Boolean,required:!0},index:{type:Number,default:void 0},sizeDependencies:{type:[Array,Object],default:null},emitResize:{type:Boolean,default:!1},tag:{type:String,default:"div"}},computed:{id(){return this.vscrollData.simpleArray?this.index:this.item[this.vscrollData.keyField]},size(){return this.vscrollData.validSizes[this.id]&&this.vscrollData.sizes[this.id]||0},finalActive(){return this.active&&this.vscrollData.active}},watch:{watchData:"updateWatchData",id(){this.size||this.onDataUpdate()},finalActive(e){this.size||(e?this.vscrollParent.$_undefinedMap[this.id]||(this.vscrollParent.$_undefinedSizes++,this.vscrollParent.$_undefinedMap[this.id]=!0):this.vscrollParent.$_undefinedMap[this.id]&&(this.vscrollParent.$_undefinedSizes--,this.vscrollParent.$_undefinedMap[this.id]=!1)),this.vscrollResizeObserver?e?this.observeSize():this.unobserveSize():e&&this.$_pendingVScrollUpdate===this.id&&this.updateSize()}},created(){var e=this;if(!this.$isServer&&(this.$_forceNextVScrollUpdate=null,this.updateWatchData(),!this.vscrollResizeObserver)){for(const t in this.sizeDependencies)this.$watch((function(){return e.sizeDependencies[t]}),this.onDataUpdate);this.vscrollParent.$on("vscroll:update",this.onVscrollUpdate),this.vscrollParent.$on("vscroll:update-size",this.onVscrollUpdateSize)}},mounted(){this.vscrollData.active&&(this.updateSize(),this.observeSize())},beforeDestroy(){this.vscrollParent.$off("vscroll:update",this.onVscrollUpdate),this.vscrollParent.$off("vscroll:update-size",this.onVscrollUpdateSize),this.unobserveSize()},methods:{updateSize(){this.finalActive?this.$_pendingSizeUpdate!==this.id&&(this.$_pendingSizeUpdate=this.id,this.$_forceNextVScrollUpdate=null,this.$_pendingVScrollUpdate=null,this.computeSize(this.id)):this.$_forceNextVScrollUpdate=this.id},updateWatchData(){var e=this;this.watchData?this.$_watchData=this.$watch("data",(function(){e.onDataUpdate()}),{deep:!0}):this.$_watchData&&(this.$_watchData(),this.$_watchData=null)},onVscrollUpdate({force:e}){!this.finalActive&&e&&(this.$_pendingVScrollUpdate=this.id),this.$_forceNextVScrollUpdate!==this.id&&!e&&this.size||this.updateSize()},onDataUpdate(){this.updateSize()},computeSize(e){var t=this;this.$nextTick((function(){if(t.id===e){const e=t.$el.offsetWidth,i=t.$el.offsetHeight;t.applySize(e,i)}t.$_pendingSizeUpdate=null}))},applySize(e,t){const i=Math.round("vertical"===this.vscrollParent.direction?t:e);i&&this.size!==i&&(this.vscrollParent.$_undefinedMap[this.id]&&(this.vscrollParent.$_undefinedSizes--,this.vscrollParent.$_undefinedMap[this.id]=void 0),this.$set(this.vscrollData.sizes,this.id,i),this.$set(this.vscrollData.validSizes,this.id,!0),this.emitResize&&this.$emit("resize",this.id))},observeSize(){this.vscrollResizeObserver&&(this.$_parentNode=this.$el.parentNode,this.vscrollResizeObserver.observe(this.$_parentNode),this.$_parentNode.addEventListener("resize",this.onResize))},unobserveSize(){this.vscrollResizeObserver&&(this.vscrollResizeObserver.unobserve(this.$_parentNode),this.$_parentNode.removeEventListener("resize",this.onResize))},onResize(e){const{width:t,height:i}=e.detail.contentRect;this.applySize(t,i)}},render(e){return e(this.tag,this.$slots.default)}},r=i("tBpV"),s=Object(r.a)(n,void 0,void 0,!1,null,null,null);t.a=s.exports},vgzk:function(e,t,i){"use strict";var n={name:"ImageViewer",components:{ImageDiffViewer:i("DC4X").a},props:{imageData:{type:Object,required:!0}}},r=i("tBpV"),s=Object(r.a)(n,(function(){var e=this;return(0,e._self._c)("image-diff-viewer",{attrs:{"old-path":e.imageData.old_path,"new-path":e.imageData.new_path,"old-size":e.imageData.old_size?parseInt(e.imageData.old_size,10):void 0,"new-size":e.imageData.new_size?parseInt(e.imageData.new_size,10):void 0,"diff-mode":e.imageData.diff_mode,"encode-path":!1},scopedSlots:e._u([{key:"image-overlay",fn:function(t){return[e._t("image-overlay",null,null,t)]}}],null,!0)})}),[],!1,null,null,null);t.a=s.exports},wV75:function(e,t,i){"use strict";e.exports=i("0SQm")},wlho:function(e,t,i){"use strict";const n=i("Oc4c"),r=i("+C/r");e.exports=(e,t={})=>{const i=(e,s={})=>{const o=r.isInvalidBrace(s),a=!0===e.invalid&&!0===t.escapeInvalid,l=!0===o||!0===a,c=!0===t.escapeInvalid?"\\":"";let u="";if(!0===e.isOpen)return c+e.value;if(!0===e.isClose)return console.log("node.isClose",c,e.value),c+e.value;if("open"===e.type)return l?c+e.value:"(";if("close"===e.type)return l?c+e.value:")";if("comma"===e.type)return"comma"===e.prev.type?"":l?e.value:"|";if(e.value)return e.value;if(e.nodes&&e.ranges>0){const i=r.reduce(e.nodes),s=n(...i,{...t,wrap:!1,toRegex:!0,strictZeros:!0});if(0!==s.length)return i.length>1&&s.length>1?`(${s})`:s}if(e.nodes)for(const t of e.nodes)u+=i(t,e);return u};return i(e)}},xdqu:function(e,t,i){"use strict";var n=i("lCTV"),r=i("CbCZ"),s=i("dIEn"),o=i("/lV4");var a={i18n:{title:Object(o.a)("Some changes are not shown."),plainDiff:Object(o.a)("Plain diff"),emailPatch:Object(o.a)("Patches")},components:{GlAlert:n.a,GlButton:r.a,GlSprintf:s.a},props:{total:{type:[Number,String],required:!0},visible:{type:Number,required:!0},plainDiffPath:{type:String,default:void 0,required:!1},emailPatchPath:{type:String,default:void 0,required:!1}},computed:{message(){return Object(o.j)(Object(o.a)("For a faster browsing experience, only %{strongStart}%{visible} of %{total}%{strongEnd} files are shown.\n          Download one of the files below to see all changes."),{visible:this.visible,total:this.total})}}},l=i("tBpV"),c=Object(l.a)(a,(function(){var e=this,t=e._self._c;return t("gl-alert",{staticClass:"gl-mb-5",attrs:{variant:"warning",title:e.$options.i18n.title,dismissible:!1},scopedSlots:e._u([{key:"actions",fn:function(){return[e.plainDiffPath?t("gl-button",{staticClass:"gl-alert-action gl-mr-3",attrs:{href:e.plainDiffPath}},[e._v("\n      "+e._s(e.$options.i18n.plainDiff)+"\n    ")]):e._e(),e._v(" "),e.emailPatchPath?t("gl-button",{staticClass:"gl-alert-action",attrs:{href:e.emailPatchPath}},[e._v("\n      "+e._s(e.$options.i18n.emailPatch)+"\n    ")]):e._e()]},proxy:!0}])},[t("gl-sprintf",{attrs:{message:e.message},scopedSlots:e._u([{key:"strong",fn:function({content:i}){return[t("strong",[e._v(e._s(i))])]}}])})],1)}),[],!1,null,null,null);t.a=c.exports},xkpj:function(e,t,i){"use strict";const n=i("+C/r");e.exports=(e,t={})=>{const i=(e,r={})=>{const s=t.escapeInvalid&&n.isInvalidBrace(r),o=!0===e.invalid&&!0===t.escapeInvalid;let a="";if(e.value)return(s||o)&&n.isOpenOrClose(e)?"\\"+e.value:e.value;if(e.value)return e.value;if(e.nodes)for(const t of e.nodes)a+=i(t);return a};return i(e)}},zFql:function(e,t,i){"use strict";var n=i("ewH8");t.a=function({idProp:e=(e=>e.item.id)}={}){const t={},i=new n.default({data:()=>({store:t})});return{data:()=>({idState:null}),created(){this.$_id=null,this.$_getId="function"==typeof e?()=>e.call(this,this):()=>this[e],this.$watch(this.$_getId,{handler(e){this.$nextTick(()=>{this.$_id=e})},immediate:!0}),this.$_updateIdState()},beforeUpdate(){this.$_updateIdState()},methods:{$_idStateInit(e){const n=this.$options.idState;if("function"==typeof n){const r=n.call(this,this);return i.$set(t,e,r),this.$_id=e,r}throw new Error("[mixin IdState] Missing `idState` function on component definition.")},$_updateIdState(){const i=this.$_getId();null==i&&console.warn(`No id found for IdState with idProp: '${e}'.`),i!==this.$_id&&(t[i]||this.$_idStateInit(i),this.idState=t[i])}}}}}}]);
//# sourceMappingURL=commons-pages.projects.commit.rapid_diffs-pages.projects.compare.show.9b4066da.chunk.js.map